{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"babylonjs\")) : \"function\" == typeof define && define.amd ? define(\"babylonjs-materials\", [\"babylonjs\"], t) : \"object\" == typeof exports ? exports[\"babylonjs-materials\"] = t(require(\"babylonjs\")) : e.MATERIALS = t(e.BABYLON);\n}(\"undefined\" != typeof self ? self : \"undefined\" != typeof global ? global : this, function (e) {\n  return function (e) {\n    var t = {};\n\n    function i(n) {\n      if (t[n]) return t[n].exports;\n      var r = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(r.exports, r, r.exports, i), r.l = !0, r.exports;\n    }\n\n    return i.m = e, i.c = t, i.d = function (e, t, n) {\n      i.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, i.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, i.t = function (e, t) {\n      if (1 & t && (e = i(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (i.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) {\n        i.d(n, r, function (t) {\n          return e[t];\n        }.bind(null, r));\n      }\n      return n;\n    }, i.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return i.d(t, \"a\", t), t;\n    }, i.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, i.p = \"\", i(i.s = 19);\n  }([function (t, i) {\n    t.exports = e;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.d(t, \"b\", function () {\n      return r;\n    }), i.d(t, \"a\", function () {\n      return o;\n    });\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    \n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    \n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n\n    var _n = function n(e, t) {\n      return (_n = Object.setPrototypeOf || {\n        __proto__: []\n      } instanceof Array && function (e, t) {\n        e.__proto__ = t;\n      } || function (e, t) {\n        for (var i in t) {\n          Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n        }\n      })(e, t);\n    };\n\n    function r(e, t) {\n      function i() {\n        this.constructor = e;\n      }\n\n      _n(e, t), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i());\n    }\n\n    function o(e, t, i, n) {\n      var r,\n          o = arguments.length,\n          a = o < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;\n      if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) a = Reflect.decorate(e, t, i, n);else for (var s = e.length - 1; s >= 0; s--) {\n        (r = e[s]) && (a = (o < 3 ? r(a) : o > 3 ? r(t, i, a) : r(t, i)) || a);\n      }\n      return o > 3 && a && Object.defineProperty(t, i, a), a;\n    }\n\n    Object.create;\n    Object.create;\n  }, function (e, t) {\n    var i;\n\n    i = function () {\n      return this;\n    }();\n\n    try {\n      i = i || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (i = window);\n    }\n\n    e.exports = i;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"CellMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\nvec3 computeCustomDiffuseLighting(lightingInfo info,vec3 diffuseBase,float shadow)\\n{\\ndiffuseBase=info.diffuse*shadow;\\n#ifdef CELLBASIC\\nfloat level=1.0;\\nif (info.ndl<0.5)\\nlevel=0.5;\\ndiffuseBase.rgb*vec3(level,level,level);\\n#else\\nfloat ToonThresholds[4];\\nToonThresholds[0]=0.95;\\nToonThresholds[1]=0.5;\\nToonThresholds[2]=0.2;\\nToonThresholds[3]=0.03;\\nfloat ToonBrightnessLevels[5];\\nToonBrightnessLevels[0]=1.0;\\nToonBrightnessLevels[1]=0.8;\\nToonBrightnessLevels[2]=0.6;\\nToonBrightnessLevels[3]=0.35;\\nToonBrightnessLevels[4]=0.2;\\nif (info.ndl>ToonThresholds[0])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[0];\\n}\\nelse if (info.ndl>ToonThresholds[1])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[1];\\n}\\nelse if (info.ndl>ToonThresholds[2])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[2];\\n}\\nelse if (info.ndl>ToonThresholds[3])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[3];\\n}\\nelse\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[4];\\n}\\n#endif\\nreturn max(diffuseBase,vec3(0.2));\\n}\\nvoid main(void)\\n{\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nlightingInfo info;\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.cellPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.cellVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.NDOTL = !0, t.CUSTOMUSERLIGHTING = !0, t.CELLBASIC = !0, t.DEPTHPREPASS = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n._computeHighLevel = !1, n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled && this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled)) {\n          if (!this._diffuseTexture.isReady()) return !1;\n          n._needUVs = !0, n.DIFFUSE = !0;\n        }\n\n        if (n.CELLBASIC = !this.computeHighLevel, r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\"],\n              d = [\"diffuseSampler\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"cell\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights - 1\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this._diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this._diffuseTexture.getTextureMatrix())), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this._maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this._diffuseTexture && this._diffuseTexture.animations && this._diffuseTexture.animations.length > 0 && e.push(this._diffuseTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._diffuseTexture === t;\n      }, t.prototype.dispose = function (t) {\n        this._diffuseTexture && this._diffuseTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.getClassName = function () {\n        return \"CellMaterial\";\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.CellMaterial\", e;\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)(\"computeHighLevel\")], t.prototype, \"_computeHighLevel\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"computeHighLevel\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.CellMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"FireMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\nuniform sampler2D distortionSampler;\\nuniform sampler2D opacitySampler;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvec4 bx2(vec4 x)\\n{\\nreturn vec4(2.0)*x-vec4(1.0);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\n\\nfloat alpha=1.0;\\n#ifdef DIFFUSE\\n\\nconst float distortionAmount0=0.092;\\nconst float distortionAmount1=0.092;\\nconst float distortionAmount2=0.092;\\nvec2 heightAttenuation=vec2(0.3,0.39);\\nvec4 noise0=texture2D(distortionSampler,vDistortionCoords1);\\nvec4 noise1=texture2D(distortionSampler,vDistortionCoords2);\\nvec4 noise2=texture2D(distortionSampler,vDistortionCoords3);\\nvec4 noiseSum=bx2(noise0)*distortionAmount0+bx2(noise1)*distortionAmount1+bx2(noise2)*distortionAmount2;\\nvec4 perturbedBaseCoords=vec4(vDiffuseUV,0.0,1.0)+noiseSum*(vDiffuseUV.y*heightAttenuation.x+heightAttenuation.y);\\nvec4 opacityColor=texture2D(opacitySampler,perturbedBaseCoords.xy);\\n#ifdef ALPHATEST\\nif (opacityColor.r<0.1)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor=texture2D(diffuseSampler,perturbedBaseCoords.xy)*2.0;\\nbaseColor*=opacityColor;\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(1.0,1.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=vec4(baseColor.rgb,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.firePixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n\\nuniform float time;\\nuniform float speed;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n\\n#ifdef DIFFUSE\\nvDiffuseUV=uv;\\nvDiffuseUV.y-=0.2;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n#ifdef DIFFUSE\\n\\nvec3 layerSpeed=vec3(-0.2,-0.52,-0.1)*speed;\\nvDistortionCoords1.x=uv.x;\\nvDistortionCoords1.y=uv.y+layerSpeed.x*time/1000.0;\\nvDistortionCoords2.x=uv.x;\\nvDistortionCoords2.y=uv.y+layerSpeed.y*time/1000.0;\\nvDistortionCoords3.x=uv.x;\\nvDistortionCoords3.y=uv.y+layerSpeed.z*time/1000.0;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.fireVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.UV1 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.BonesPerMesh = 0, t.NUM_BONE_INFLUENCERS = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n.speed = 1, n._scaledDiffuse = new r.Color3(), n._lastTime = 0, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return !1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !0;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled)) {\n          if (!this._diffuseTexture.isReady()) return !1;\n          n._needUVs = !0, n.DIFFUSE = !0;\n        }\n\n        if (n.ALPHATEST = !!this._opacityTexture, n._areMiscDirty && (n.POINTSIZE = this.pointsCloud || o.forcePointsCloud, n.FOG = o.fogEnabled && e.applyFog && o.fogMode !== r.Scene.FOGMODE_NONE && this.fogEnabled), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !1, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.UV1 && l.push(r.VertexBuffer.UVKind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString();\n          t.setEffect(o.getEngine().createEffect(\"fire\", {\n            attributes: l,\n            uniformsNames: [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\", \"time\", \"speed\"],\n            uniformBuffersNames: [],\n            samplers: [\"diffuseSampler\", \"distortionSampler\", \"opacitySampler\"],\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: null,\n            maxSimultaneousLights: 4,\n            transformFeedbackVaryings: null\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene();\n\n        if (i._materialDefines) {\n          var o = i.effect;\n          o && (this._activeEffect = o, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, o) && (this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this._diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this._diffuseTexture.getTextureMatrix()), this._activeEffect.setTexture(\"distortionSampler\", this._distortionTexture), this._activeEffect.setTexture(\"opacitySampler\", this._opacityTexture)), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(o, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this._scaledDiffuse, this.alpha * t.visibility), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._lastTime += n.getEngine().getDeltaTime(), this._activeEffect.setFloat(\"time\", this._lastTime), this._activeEffect.setFloat(\"speed\", this.speed), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this._diffuseTexture && this._diffuseTexture.animations && this._diffuseTexture.animations.length > 0 && e.push(this._diffuseTexture), this._distortionTexture && this._distortionTexture.animations && this._distortionTexture.animations.length > 0 && e.push(this._distortionTexture), this._opacityTexture && this._opacityTexture.animations && this._opacityTexture.animations.length > 0 && e.push(this._opacityTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), this._distortionTexture && t.push(this._distortionTexture), this._opacityTexture && t.push(this._opacityTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._diffuseTexture === t || this._distortionTexture === t || this._opacityTexture === t;\n      }, t.prototype.getClassName = function () {\n        return \"FireMaterial\";\n      }, t.prototype.dispose = function (t) {\n        this._diffuseTexture && this._diffuseTexture.dispose(), this._distortionTexture && this._distortionTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var t = e.prototype.serialize.call(this);\n        return t.customType = \"BABYLON.FireMaterial\", t.diffuseColor = this.diffuseColor.asArray(), t.speed = this.speed, this._diffuseTexture && (t._diffuseTexture = this._diffuseTexture.serialize()), this._distortionTexture && (t._distortionTexture = this._distortionTexture.serialize()), this._opacityTexture && (t._opacityTexture = this._opacityTexture.serialize()), t;\n      }, t.Parse = function (e, i, n) {\n        var o = new t(e.name, i);\n        return o.diffuseColor = r.Color3.FromArray(e.diffuseColor), o.speed = e.speed, o.alpha = e.alpha, o.id = e.id, r.Tags.AddTagsTo(o, e.tags), o.backFaceCulling = e.backFaceCulling, o.wireframe = e.wireframe, e._diffuseTexture && (o._diffuseTexture = r.Texture.Parse(e._diffuseTexture, i, n)), e._distortionTexture && (o._distortionTexture = r.Texture.Parse(e._distortionTexture, i, n)), e._opacityTexture && (o._opacityTexture = r.Texture.Parse(e._opacityTexture, i, n)), o;\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"distortionTexture\")], t.prototype, \"_distortionTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"distortionTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")], t.prototype, \"_opacityTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"opacityTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"speed\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.FireMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"FurMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nuniform vec4 furColor;\\nuniform float furLength;\\nvarying vec3 vPositionW;\\nvarying float vfur_length;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform float furOcclusion;\\nuniform sampler2D furTexture;\\nvarying vec2 vFurUV;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<fogFragmentDeclaration>\\n#include<clipPlaneFragmentDeclaration>\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=furColor;\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor*=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef HIGHLEVEL\\n\\nvec4 furTextureColor=texture2D(furTexture,vec2(vFurUV.x,vFurUV.y));\\nif (furTextureColor.a<=0.0 || furTextureColor.g<furOffset) {\\ndiscard;\\n}\\nfloat occlusion=mix(0.0,furTextureColor.b*1.2,furOffset);\\nbaseColor=vec4(baseColor.xyz*max(occlusion,furOcclusion),1.1-furOffset);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase.rgb*baseColor.rgb,0.0,1.0);\\n\\n#ifdef HIGHLEVEL\\nvec4 color=vec4(finalDiffuse,alpha);\\n#else\\nfloat r=vfur_length/furLength*0.5;\\nvec4 color=vec4(finalDiffuse*(0.5+r),alpha);\\n#endif\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.furPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\nuniform float furLength;\\nuniform float furAngle;\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform vec3 furGravity;\\nuniform float furTime;\\nuniform float furSpacing;\\nuniform float furDensity;\\n#endif\\n#ifdef HEIGHTMAP\\nuniform sampler2D heightTexture;\\n#endif\\n#ifdef HIGHLEVEL\\nvarying vec2 vFurUV;\\n#endif\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\nvarying float vfur_length;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n\\nfloat r=Rand(position);\\n#ifdef HEIGHTMAP\\n#if __VERSION__>100\\nvfur_length=furLength*texture(heightTexture,uv).x;\\n#else\\nvfur_length=furLength*texture2D(heightTexture,uv).r;\\n#endif\\n#else\\nvfur_length=(furLength*r);\\n#endif\\nvec3 tangent1=vec3(normal.y,-normal.x,0);\\nvec3 tangent2=vec3(-normal.z,0,normal.x);\\nr=Rand(tangent1*r);\\nfloat J=(2.0+4.0*r);\\nr=Rand(tangent2*r);\\nfloat K=(2.0+2.0*r);\\ntangent1=tangent1*J+tangent2*K;\\ntangent1=normalize(tangent1);\\nvec3 newPosition=position+normal*vfur_length*cos(furAngle)+tangent1*vfur_length*sin(furAngle);\\n#ifdef HIGHLEVEL\\n\\nvec3 forceDirection=vec3(0.0,0.0,0.0);\\nforceDirection.x=sin(furTime+position.x*0.05)*0.2;\\nforceDirection.y=cos(furTime*0.7+position.y*0.04)*0.2;\\nforceDirection.z=sin(furTime*0.7+position.z*0.04)*0.2;\\nvec3 displacement=vec3(0.0,0.0,0.0);\\ndisplacement=furGravity+forceDirection;\\nfloat displacementFactor=pow(furOffset,3.0);\\nvec3 aNormal=normal;\\naNormal.xyz+=displacement*displacementFactor;\\nnewPosition=vec3(newPosition.x,newPosition.y,newPosition.z)+(normalize(aNormal)*furOffset*furSpacing);\\n#endif\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\ngl_Position=viewProjection*finalWorld*vec4(newPosition,1.0);\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#ifdef HIGHLEVEL\\nvFurUV=vDiffuseUV*furDensity;\\n#endif\\n#else\\n#ifdef HIGHLEVEL\\nvFurUV=uv*furDensity;\\n#endif\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.furVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.HEIGHTMAP = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.HIGHLEVEL = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n.furLength = 1, n.furAngle = 0, n.furColor = new r.Color3(.44, .21, .02), n.furOffset = 0, n.furSpacing = 12, n.furGravity = new r.Vector3(0, 0, 0), n.furSpeed = 100, n.furDensity = 20, n.furOcclusion = 0, n._disableLighting = !1, n._maxSimultaneousLights = 4, n.highLevelFur = !0, n._furTime = 0, n;\n      }\n\n      return Object(n.b)(t, e), Object.defineProperty(t.prototype, \"furTime\", {\n        get: function get() {\n          return this._furTime;\n        },\n        set: function set(e) {\n          this._furTime = e;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.updateFur = function () {\n        for (var e = 1; e < this._meshes.length; e++) {\n          var t = this._meshes[e].material;\n          t.furLength = this.furLength, t.furAngle = this.furAngle, t.furGravity = this.furGravity, t.furSpacing = this.furSpacing, t.furSpeed = this.furSpeed, t.furColor = this.furColor, t.diffuseTexture = this.diffuseTexture, t.furTexture = this.furTexture, t.highLevelFur = this.highLevelFur, t.furTime = this.furTime, t.furDensity = this.furDensity;\n        }\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && o.texturesEnabled) {\n          if (this.diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled) {\n            if (!this.diffuseTexture.isReady()) return !1;\n            n._needUVs = !0, n.DIFFUSE = !0;\n          }\n\n          if (this.heightTexture && a.getCaps().maxVertexTextureImageUnits) {\n            if (!this.heightTexture.isReady()) return !1;\n            n._needUVs = !0, n.HEIGHTMAP = !0;\n          }\n        }\n\n        if (this.highLevelFur !== n.HIGHLEVEL && (n.HIGHLEVEL = !0, n.markAsUnprocessed()), r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\", \"furLength\", \"furAngle\", \"furColor\", \"furOffset\", \"furGravity\", \"furTime\", \"furSpacing\", \"furDensity\", \"furOcclusion\"],\n              d = [\"diffuseSampler\", \"heightTexture\", \"furTexture\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"fur\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), n.getCachedMaterial() !== this && (this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this._diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this._diffuseTexture.getTextureMatrix())), this._heightTexture && this._activeEffect.setTexture(\"heightTexture\", this._heightTexture), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._activeEffect.setFloat(\"furLength\", this.furLength), this._activeEffect.setFloat(\"furAngle\", this.furAngle), this._activeEffect.setColor4(\"furColor\", this.furColor, 1), this.highLevelFur && (this._activeEffect.setVector3(\"furGravity\", this.furGravity), this._activeEffect.setFloat(\"furOffset\", this.furOffset), this._activeEffect.setFloat(\"furSpacing\", this.furSpacing), this._activeEffect.setFloat(\"furDensity\", this.furDensity), this._activeEffect.setFloat(\"furOcclusion\", this.furOcclusion), this._furTime += this.getScene().getEngine().getDeltaTime() / this.furSpeed, this._activeEffect.setFloat(\"furTime\", this._furTime), this._activeEffect.setTexture(\"furTexture\", this.furTexture)), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.diffuseTexture && this.diffuseTexture.animations && this.diffuseTexture.animations.length > 0 && e.push(this.diffuseTexture), this.heightTexture && this.heightTexture.animations && this.heightTexture.animations.length > 0 && e.push(this.heightTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), this._heightTexture && t.push(this._heightTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this.diffuseTexture === t || this._heightTexture === t;\n      }, t.prototype.dispose = function (t) {\n        if (this.diffuseTexture && this.diffuseTexture.dispose(), this._meshes) for (var i = 1; i < this._meshes.length; i++) {\n          var n = this._meshes[i].material;\n          n && n.dispose(t), this._meshes[i].dispose();\n        }\n        e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.FurMaterial\", this._meshes && (e.sourceMeshName = this._meshes[0].name, e.quality = this._meshes.length), e;\n      }, t.prototype.getClassName = function () {\n        return \"FurMaterial\";\n      }, t.Parse = function (e, i, n) {\n        var o = r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n        return e.sourceMeshName && o.highLevelFur && i.executeWhenReady(function () {\n          var n = i.getMeshByName(e.sourceMeshName);\n\n          if (n) {\n            var r = t.GenerateTexture(\"Fur Texture\", i);\n            o.furTexture = r, t.FurifyMesh(n, e.quality);\n          }\n        }), o;\n      }, t.GenerateTexture = function (e, t) {\n        for (var i = new r.DynamicTexture(\"FurTexture \" + e, 256, t, !0), n = i.getContext(), o = 0; o < 2e4; ++o) {\n          n.fillStyle = \"rgba(255, \" + Math.floor(255 * Math.random()) + \", \" + Math.floor(255 * Math.random()) + \", 1)\", n.fillRect(Math.random() * i.getSize().width, Math.random() * i.getSize().height, 2, 2);\n        }\n\n        return i.update(!1), i.wrapU = r.Texture.WRAP_ADDRESSMODE, i.wrapV = r.Texture.WRAP_ADDRESSMODE, i;\n      }, t.FurifyMesh = function (e, i) {\n        var n,\n            o = [e],\n            a = e.material;\n        if (!(a instanceof t)) throw \"The material of the source mesh must be a Fur Material\";\n\n        for (n = 1; n < i; n++) {\n          var s = new t(a.name + n, e.getScene());\n          e.getScene().materials.pop(), r.Tags.EnableFor(s), r.Tags.AddTagsTo(s, \"furShellMaterial\"), s.furLength = a.furLength, s.furAngle = a.furAngle, s.furGravity = a.furGravity, s.furSpacing = a.furSpacing, s.furSpeed = a.furSpeed, s.furColor = a.furColor, s.diffuseTexture = a.diffuseTexture, s.furOffset = n / i, s.furTexture = a.furTexture, s.highLevelFur = a.highLevelFur, s.furTime = a.furTime, s.furDensity = a.furDensity;\n          var f = e.clone(e.name + n);\n          f.material = s, f.skeleton = e.skeleton, f.position = r.Vector3.Zero(), o.push(f);\n        }\n\n        for (n = 1; n < o.length; n++) {\n          o[n].parent = e;\n        }\n\n        return e.material._meshes = o, o;\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"heightTexture\")], t.prototype, \"_heightTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"heightTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furLength\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furAngle\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"furColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furOffset\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furSpacing\", void 0), Object(n.a)([Object(r.serializeAsVector3)()], t.prototype, \"furGravity\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furSpeed\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furDensity\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furOcclusion\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"highLevelFur\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"furTime\", null), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.FurMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"GradientMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nuniform vec4 topColor;\\nuniform vec4 bottomColor;\\nuniform float offset;\\nuniform float scale;\\nuniform float smoothness;\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\nfloat h=vPosition.y*scale+offset;\\nfloat mysmoothness=clamp(smoothness,0.01,max(smoothness,10.));\\nvec4 baseColor=mix(bottomColor,topColor,max(pow(max(h,0.0),mysmoothness),0.0));\\n\\nvec3 diffuseColor=baseColor.rgb;\\n\\nfloat alpha=baseColor.a;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef EMISSIVE\\nvec3 diffuseBase=baseColor.rgb;\\n#else\\nvec3 diffuseBase=vec3(0.,0.,0.);\\n#endif\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";\n    r.Effect.ShadersStore.gradientPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\nvPosition=position;\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.gradientVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.EMISSIVE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n._maxSimultaneousLights = 4, n.topColor = new r.Color3(1, 0, 0), n.topColorAlpha = 1, n.bottomColor = new r.Color3(0, 0, 1), n.bottomColorAlpha = 1, n.offset = 0, n.scale = 1, n.smoothness = 1, n._disableLighting = !1, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1 || this.topColorAlpha < 1 || this.bottomColorAlpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !0;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), n.EMISSIVE = this._disableLighting, r.MaterialHelper.PrepareDefinesForAttributes(e, n, !1, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"topColor\", \"bottomColor\", \"offset\", \"smoothness\", \"scale\"],\n              d = [],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: 4\n          }), t.setEffect(o.getEngine().createEffect(\"gradient\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: 4\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, a), this._mustRebind(n, a) && (r.MaterialHelper.BindClipPlane(a, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._activeEffect.setColor4(\"topColor\", this.topColor, this.topColorAlpha), this._activeEffect.setColor4(\"bottomColor\", this.bottomColor, this.bottomColorAlpha), this._activeEffect.setFloat(\"offset\", this.offset), this._activeEffect.setFloat(\"scale\", this.scale), this._activeEffect.setFloat(\"smoothness\", this.smoothness), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        return [];\n      }, t.prototype.dispose = function (t) {\n        e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.GradientMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"GradientMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"topColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"topColorAlpha\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"bottomColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"bottomColorAlpha\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"offset\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"scale\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"smoothness\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.GradientMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"GridMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"#extension GL_OES_standard_derivatives : enable\\n#define SQRT2 1.41421356\\n#define PI 3.14159\\nprecision highp float;\\nuniform vec3 mainColor;\\nuniform vec3 lineColor;\\nuniform vec4 gridControl;\\nuniform vec3 gridOffset;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogFragmentDeclaration>\\n\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform sampler2D opacitySampler;\\nuniform vec2 vOpacityInfos;\\n#endif\\nfloat getVisibility(float position) {\\n\\nfloat majorGridFrequency=gridControl.y;\\nif (floor(position+0.5) == floor(position/majorGridFrequency+0.5)*majorGridFrequency)\\n{\\nreturn 1.0;\\n}\\nreturn gridControl.z;\\n}\\nfloat getAnisotropicAttenuation(float differentialLength) {\\nconst float maxNumberOfLines=10.0;\\nreturn clamp(1.0/(differentialLength+1.0)-1.0/maxNumberOfLines,0.0,1.0);\\n}\\nfloat isPointOnLine(float position,float differentialLength) {\\nfloat fractionPartOfPosition=position-floor(position+0.5);\\nfractionPartOfPosition/=differentialLength;\\nfractionPartOfPosition=clamp(fractionPartOfPosition,-1.,1.);\\nfloat result=0.5+0.5*cos(fractionPartOfPosition*PI);\\nreturn result;\\n}\\nfloat contributionOnAxis(float position) {\\nfloat differentialLength=length(vec2(dFdx(position),dFdy(position)));\\ndifferentialLength*=SQRT2;\\n\\nfloat result=isPointOnLine(position,differentialLength);\\n\\nfloat visibility=getVisibility(position);\\nresult*=visibility;\\n\\nfloat anisotropicAttenuation=getAnisotropicAttenuation(differentialLength);\\nresult*=anisotropicAttenuation;\\nreturn result;\\n}\\nfloat normalImpactOnAxis(float x) {\\nfloat normalImpact=clamp(1.0-3.0*abs(x*x*x),0.0,1.0);\\nreturn normalImpact;\\n}\\nvoid main(void) {\\n\\nfloat gridRatio=gridControl.x;\\nvec3 gridPos=(vPosition+gridOffset.xyz)/gridRatio;\\n\\nfloat x=contributionOnAxis(gridPos.x);\\nfloat y=contributionOnAxis(gridPos.y);\\nfloat z=contributionOnAxis(gridPos.z);\\n\\nvec3 normal=normalize(vNormal);\\nx*=normalImpactOnAxis(normal.x);\\ny*=normalImpactOnAxis(normal.y);\\nz*=normalImpactOnAxis(normal.z);\\n\\nfloat grid=clamp(x+y+z,0.,1.);\\n\\nvec3 color=mix(mainColor,lineColor,grid);\\n#ifdef FOG\\n#include<fogFragment>\\n#endif\\nfloat opacity=1.0;\\n#ifdef TRANSPARENT\\nopacity=clamp(grid,0.08,gridControl.w*grid);\\n#endif\\n#ifdef OPACITY\\nopacity*=texture2D(opacitySampler,vOpacityUV).a;\\n#endif\\n\\ngl_FragColor=vec4(color.rgb,opacity);\\n#ifdef TRANSPARENT\\n#ifdef PREMULTIPLYALPHA\\ngl_FragColor.rgb*=opacity;\\n#endif\\n#else\\n#endif\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.gridPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#include<instancesDeclaration>\\n\\nuniform mat4 projection;\\nuniform mat4 view;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogVertexDeclaration>\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform mat4 opacityMatrix;\\nuniform vec2 vOpacityInfos;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\n#include<fogVertex>\\nvec4 cameraSpacePosition=view*worldPos;\\ngl_Position=projection*cameraSpacePosition;\\n#ifdef OPACITY\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\nif (vOpacityInfos.x == 0.)\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\nvPosition=position;\\nvNormal=normal;\\n}\";\n    r.Effect.ShadersStore.gridVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.OPACITY = !1, t.TRANSPARENT = !1, t.FOG = !1, t.PREMULTIPLYALPHA = !1, t.UV1 = !1, t.UV2 = !1, t.INSTANCES = !1, t.THIN_INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.mainColor = r.Color3.Black(), n.lineColor = r.Color3.Teal(), n.gridRatio = 1, n.gridOffset = r.Vector3.Zero(), n.majorUnitFrequency = 10, n.minorUnitVisibility = .33, n.opacity = 1, n.preMultiplyAlpha = !1, n._gridControl = new r.Vector4(n.gridRatio, n.majorUnitFrequency, n.minorUnitVisibility, n.opacity), n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.opacity < 1 || this._opacityTexture && this._opacityTexture.isReady();\n      }, t.prototype.needAlphaBlendingForMesh = function (e) {\n        return this.needAlphaBlending();\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n\n        if (n.TRANSPARENT !== this.opacity < 1 && (n.TRANSPARENT = !n.TRANSPARENT, n.markAsUnprocessed()), n.PREMULTIPLYALPHA != this.preMultiplyAlpha && (n.PREMULTIPLYALPHA = !n.PREMULTIPLYALPHA, n.markAsUnprocessed()), n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled && this._opacityTexture && r.MaterialFlags.OpacityTextureEnabled)) {\n          if (!this._opacityTexture.isReady()) return !1;\n          n._needUVs = !0, n.OPACITY = !0;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, !1, this.fogEnabled, !1, n), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, o.getEngine(), n, !!i), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial(), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !1, !1);\n          var a = [r.VertexBuffer.PositionKind, r.VertexBuffer.NormalKind];\n          n.UV1 && a.push(r.VertexBuffer.UVKind), n.UV2 && a.push(r.VertexBuffer.UV2Kind), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess, r.MaterialHelper.PrepareAttributesForInstances(a, n);\n          var f = n.toString();\n          t.setEffect(o.getEngine().createEffect(\"grid\", a, [\"projection\", \"mainColor\", \"lineColor\", \"gridControl\", \"gridOffset\", \"vFogInfos\", \"vFogColor\", \"world\", \"view\", \"opacityMatrix\", \"vOpacityInfos\"], [\"opacitySampler\"], f, void 0, this.onCompiled, this.onError), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, o.INSTANCES && !o.THIN_INSTANCE || this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), this._activeEffect.setMatrix(\"projection\", n.getProjectionMatrix()), this._mustRebind(n, a) && (this._activeEffect.setColor3(\"mainColor\", this.mainColor), this._activeEffect.setColor3(\"lineColor\", this.lineColor), this._activeEffect.setVector3(\"gridOffset\", this.gridOffset), this._gridControl.x = this.gridRatio, this._gridControl.y = Math.round(this.majorUnitFrequency), this._gridControl.z = this.minorUnitVisibility, this._gridControl.w = this.opacity, this._activeEffect.setVector4(\"gridControl\", this._gridControl), this._opacityTexture && r.MaterialFlags.OpacityTextureEnabled && (this._activeEffect.setTexture(\"opacitySampler\", this._opacityTexture), this._activeEffect.setFloat2(\"vOpacityInfos\", this._opacityTexture.coordinatesIndex, this._opacityTexture.level), this._activeEffect.setMatrix(\"opacityMatrix\", this._opacityTexture.getTextureMatrix()))), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.dispose = function (t) {\n        e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.GridMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"GridMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"mainColor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"lineColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"gridRatio\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"gridOffset\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"majorUnitFrequency\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"minorUnitVisibility\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"opacity\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"preMultiplyAlpha\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")], t.prototype, \"_opacityTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"opacityTexture\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.GridMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"LavaMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n\\nuniform float time;\\nuniform float speed;\\nuniform float movingSpeed;\\nuniform vec3 fogColor;\\nuniform sampler2D noiseTexture;\\nuniform float fogDensity;\\n\\nvarying float noise;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nfloat random( vec3 scale,float seed ){\\nreturn fract( sin( dot( gl_FragCoord.xyz+seed,scale ) )*43758.5453+seed ) ;\\n}\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\n\\nvec4 noiseTex=texture2D( noiseTexture,vDiffuseUV );\\nvec2 T1=vDiffuseUV+vec2( 1.5,-1.5 )*time*0.02;\\nvec2 T2=vDiffuseUV+vec2( -0.5,2.0 )*time*0.01*speed;\\nT1.x+=noiseTex.x*2.0;\\nT1.y+=noiseTex.y*2.0;\\nT2.x-=noiseTex.y*0.2+time*0.001*movingSpeed;\\nT2.y+=noiseTex.z*0.2+time*0.002*movingSpeed;\\nfloat p=texture2D( noiseTexture,T1*3.0 ).a;\\nvec4 lavaColor=texture2D( diffuseSampler,T2*4.0);\\nvec4 temp=lavaColor*( vec4( p,p,p,p )*2. )+( lavaColor*lavaColor-0.1 );\\nbaseColor=temp;\\nfloat depth=gl_FragCoord.z*4.0;\\nconst float LOG2=1.442695;\\nfloat fogFactor=exp2(-fogDensity*fogDensity*depth*depth*LOG2 );\\nfogFactor=1.0-clamp( fogFactor,0.0,1.0 );\\nbaseColor=mix( baseColor,vec4( fogColor,baseColor.w ),fogFactor );\\ndiffuseColor=baseColor.rgb;\\n\\n\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef UNLIT\\nvec3 diffuseBase=vec3(1.,1.,1.);\\n#else\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.lavaPixelShader = o;\n    var a = \"precision highp float;\\n\\nuniform float time;\\nuniform float lowFrequencySpeed;\\n\\nvarying float noise;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n\\n\\nvec3 mod289(vec3 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 mod289(vec4 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 permute(vec4 x)\\n{\\nreturn mod289(((x*34.0)+1.0)*x);\\n}\\nvec4 taylorInvSqrt(vec4 r)\\n{\\nreturn 1.79284291400159-0.85373472095314*r;\\n}\\nvec3 fade(vec3 t) {\\nreturn t*t*t*(t*(t*6.0-15.0)+10.0);\\n}\\n\\nfloat pnoise(vec3 P,vec3 rep)\\n{\\nvec3 Pi0=mod(floor(P),rep);\\nvec3 Pi1=mod(Pi0+vec3(1.0),rep);\\nPi0=mod289(Pi0);\\nPi1=mod289(Pi1);\\nvec3 Pf0=fract(P);\\nvec3 Pf1=Pf0-vec3(1.0);\\nvec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);\\nvec4 iy=vec4(Pi0.yy,Pi1.yy);\\nvec4 iz0=Pi0.zzzz;\\nvec4 iz1=Pi1.zzzz;\\nvec4 ixy=permute(permute(ix)+iy);\\nvec4 ixy0=permute(ixy+iz0);\\nvec4 ixy1=permute(ixy+iz1);\\nvec4 gx0=ixy0*(1.0/7.0);\\nvec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;\\ngx0=fract(gx0);\\nvec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);\\nvec4 sz0=step(gz0,vec4(0.0));\\ngx0-=sz0*(step(0.0,gx0)-0.5);\\ngy0-=sz0*(step(0.0,gy0)-0.5);\\nvec4 gx1=ixy1*(1.0/7.0);\\nvec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;\\ngx1=fract(gx1);\\nvec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);\\nvec4 sz1=step(gz1,vec4(0.0));\\ngx1-=sz1*(step(0.0,gx1)-0.5);\\ngy1-=sz1*(step(0.0,gy1)-0.5);\\nvec3 g000=vec3(gx0.x,gy0.x,gz0.x);\\nvec3 g100=vec3(gx0.y,gy0.y,gz0.y);\\nvec3 g010=vec3(gx0.z,gy0.z,gz0.z);\\nvec3 g110=vec3(gx0.w,gy0.w,gz0.w);\\nvec3 g001=vec3(gx1.x,gy1.x,gz1.x);\\nvec3 g101=vec3(gx1.y,gy1.y,gz1.y);\\nvec3 g011=vec3(gx1.z,gy1.z,gz1.z);\\nvec3 g111=vec3(gx1.w,gy1.w,gz1.w);\\nvec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));\\ng000*=norm0.x;\\ng010*=norm0.y;\\ng100*=norm0.z;\\ng110*=norm0.w;\\nvec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));\\ng001*=norm1.x;\\ng011*=norm1.y;\\ng101*=norm1.z;\\ng111*=norm1.w;\\nfloat n000=dot(g000,Pf0);\\nfloat n100=dot(g100,vec3(Pf1.x,Pf0.yz));\\nfloat n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));\\nfloat n110=dot(g110,vec3(Pf1.xy,Pf0.z));\\nfloat n001=dot(g001,vec3(Pf0.xy,Pf1.z));\\nfloat n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));\\nfloat n011=dot(g011,vec3(Pf0.x,Pf1.yz));\\nfloat n111=dot(g111,Pf1);\\nvec3 fade_xyz=fade(Pf0);\\nvec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);\\nvec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);\\nfloat n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);\\nreturn 2.2*n_xyz;\\n}\\n\\nfloat turbulence( vec3 p ) {\\nfloat w=100.0;\\nfloat t=-.5;\\nfor (float f=1.0 ; f<=10.0 ; f++ ){\\nfloat power=pow( 2.0,f );\\nt+=abs( pnoise( vec3( power*p ),vec3( 10.0,10.0,10.0 ) )/power );\\n}\\nreturn t;\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#ifdef NORMAL\\n\\nnoise=10.0*-.10*turbulence( .5*normal+time*1.15 );\\n\\nfloat b=lowFrequencySpeed*5.0*pnoise( 0.05*position +vec3(time*1.025),vec3( 100.0 ) );\\n\\nfloat displacement =-1.5*noise+b;\\n\\nvec3 newPosition=position+normal*displacement;\\ngl_Position=viewProjection*finalWorld*vec4( newPosition,1.0 );\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\";\n    r.Effect.ShadersStore.lavaVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.LIGHT0 = !1, t.LIGHT1 = !1, t.LIGHT2 = !1, t.LIGHT3 = !1, t.SPOTLIGHT0 = !1, t.SPOTLIGHT1 = !1, t.SPOTLIGHT2 = !1, t.SPOTLIGHT3 = !1, t.HEMILIGHT0 = !1, t.HEMILIGHT1 = !1, t.HEMILIGHT2 = !1, t.HEMILIGHT3 = !1, t.DIRLIGHT0 = !1, t.DIRLIGHT1 = !1, t.DIRLIGHT2 = !1, t.DIRLIGHT3 = !1, t.POINTLIGHT0 = !1, t.POINTLIGHT1 = !1, t.POINTLIGHT2 = !1, t.POINTLIGHT3 = !1, t.SHADOW0 = !1, t.SHADOW1 = !1, t.SHADOW2 = !1, t.SHADOW3 = !1, t.SHADOWS = !1, t.SHADOWESM0 = !1, t.SHADOWESM1 = !1, t.SHADOWESM2 = !1, t.SHADOWESM3 = !1, t.SHADOWPOISSON0 = !1, t.SHADOWPOISSON1 = !1, t.SHADOWPOISSON2 = !1, t.SHADOWPOISSON3 = !1, t.SHADOWPCF0 = !1, t.SHADOWPCF1 = !1, t.SHADOWPCF2 = !1, t.SHADOWPCF3 = !1, t.SHADOWPCSS0 = !1, t.SHADOWPCSS1 = !1, t.SHADOWPCSS2 = !1, t.SHADOWPCSS3 = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.UNLIT = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.speed = 1, n.movingSpeed = 1, n.lowFrequencySpeed = 1, n.fogDensity = .15, n._lastTime = 0, n.diffuseColor = new r.Color3(1, 1, 1), n._disableLighting = !1, n._unlit = !1, n._maxSimultaneousLights = 4, n._scaledDiffuse = new r.Color3(), n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled && this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled)) {\n          if (!this._diffuseTexture.isReady()) return !1;\n          n._needUVs = !0, n.DIFFUSE = !0;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = !0, r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\", \"time\", \"speed\", \"movingSpeed\", \"fogColor\", \"fogDensity\", \"lowFrequencySpeed\"],\n              d = [\"diffuseSampler\", \"noiseTexture\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"lava\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, o.UNLIT = this._unlit, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this.diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this.diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this.diffuseTexture.coordinatesIndex, this.diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this.diffuseTexture.getTextureMatrix())), this.noiseTexture && this._activeEffect.setTexture(\"noiseTexture\", this.noiseTexture), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this._scaledDiffuse, this.alpha * t.visibility), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._lastTime += n.getEngine().getDeltaTime(), this._activeEffect.setFloat(\"time\", this._lastTime * this.speed / 1e3), this.fogColor || (this.fogColor = r.Color3.Black()), this._activeEffect.setColor3(\"fogColor\", this.fogColor), this._activeEffect.setFloat(\"fogDensity\", this.fogDensity), this._activeEffect.setFloat(\"lowFrequencySpeed\", this.lowFrequencySpeed), this._activeEffect.setFloat(\"movingSpeed\", this.movingSpeed), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.diffuseTexture && this.diffuseTexture.animations && this.diffuseTexture.animations.length > 0 && e.push(this.diffuseTexture), this.noiseTexture && this.noiseTexture.animations && this.noiseTexture.animations.length > 0 && e.push(this.noiseTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this.diffuseTexture === t;\n      }, t.prototype.dispose = function (t) {\n        this.diffuseTexture && this.diffuseTexture.dispose(), this.noiseTexture && this.noiseTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.LavaMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"LavaMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)()], t.prototype, \"noiseTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"fogColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"speed\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"movingSpeed\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"lowFrequencySpeed\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"fogDensity\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"unlit\")], t.prototype, \"_unlit\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"unlit\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.LavaMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"MixMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D mixMap1Sampler;\\nuniform vec2 vTextureInfos;\\n#ifdef MIXMAP2\\nuniform sampler2D mixMap2Sampler;\\n#endif\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform sampler2D diffuse4Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\nuniform vec2 diffuse4Infos;\\n#ifdef MIXMAP2\\nuniform sampler2D diffuse5Sampler;\\nuniform sampler2D diffuse6Sampler;\\nuniform sampler2D diffuse7Sampler;\\nuniform sampler2D diffuse8Sampler;\\nuniform vec2 diffuse5Infos;\\nuniform vec2 diffuse6Infos;\\nuniform vec2 diffuse7Infos;\\nuniform vec2 diffuse8Infos;\\n#endif\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 finalMixColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef MIXMAP2\\nvec4 mixColor2=vec4(1.,1.,1.,1.);\\n#endif\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nvec4 mixColor=texture2D(mixMap1Sampler,vTextureUV);\\n#include<depthPrePass>\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\nvec4 diffuse4Color=texture2D(diffuse4Sampler,vTextureUV*diffuse4Infos);\\ndiffuse1Color.rgb*=mixColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,mixColor.g);\\ndiffuse3Color.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse3Color.rgb,diffuse4Color.rgb,1.0-mixColor.a);\\n#ifdef MIXMAP2\\nmixColor=texture2D(mixMap2Sampler,vTextureUV);\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse5Color=texture2D(diffuse5Sampler,vTextureUV*diffuse5Infos);\\nvec4 diffuse6Color=texture2D(diffuse6Sampler,vTextureUV*diffuse6Infos);\\nvec4 diffuse7Color=texture2D(diffuse7Sampler,vTextureUV*diffuse7Infos);\\nvec4 diffuse8Color=texture2D(diffuse8Sampler,vTextureUV*diffuse8Infos);\\ndiffuse5Color.rgb=mix(finalMixColor.rgb,diffuse5Color.rgb,mixColor.r);\\ndiffuse6Color.rgb=mix(diffuse5Color.rgb,diffuse6Color.rgb,mixColor.g);\\ndiffuse7Color.rgb=mix(diffuse6Color.rgb,diffuse7Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse7Color.rgb,diffuse8Color.rgb,1.0-mixColor.a);\\n#endif\\n#endif\\n#ifdef VERTEXCOLOR\\nfinalMixColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*finalMixColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";\n    r.Effect.ShadersStore.mixPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.mixVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.SPECULARTERM = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.MIXMAP2 = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n.specularColor = new r.Color3(0, 0, 0), n.specularPower = 64, n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (o.texturesEnabled) {\n          if (!this._mixTexture1 || !this._mixTexture1.isReady()) return !1;\n\n          if (n._needUVs = !0, r.MaterialFlags.DiffuseTextureEnabled) {\n            if (!this._diffuseTexture1 || !this._diffuseTexture1.isReady()) return !1;\n            if (n.DIFFUSE = !0, !this._diffuseTexture2 || !this._diffuseTexture2.isReady()) return !1;\n            if (!this._diffuseTexture3 || !this._diffuseTexture3.isReady()) return !1;\n            if (!this._diffuseTexture4 || !this._diffuseTexture4.isReady()) return !1;\n\n            if (this._mixTexture2) {\n              if (!this._mixTexture2.isReady()) return !1;\n              if (n.MIXMAP2 = !0, !this._diffuseTexture5 || !this._diffuseTexture5.isReady()) return !1;\n              if (!this._diffuseTexture6 || !this._diffuseTexture6.isReady()) return !1;\n              if (!this._diffuseTexture7 || !this._diffuseTexture7.isReady()) return !1;\n              if (!this._diffuseTexture8 || !this._diffuseTexture8.isReady()) return !1;\n            }\n          }\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vSpecularColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vTextureInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"textureMatrix\", \"diffuse1Infos\", \"diffuse2Infos\", \"diffuse3Infos\", \"diffuse4Infos\", \"diffuse5Infos\", \"diffuse6Infos\", \"diffuse7Infos\", \"diffuse8Infos\"],\n              d = [\"mixMap1Sampler\", \"mixMap2Sampler\", \"diffuse1Sampler\", \"diffuse2Sampler\", \"diffuse3Sampler\", \"diffuse4Sampler\", \"diffuse5Sampler\", \"diffuse6Sampler\", \"diffuse7Sampler\", \"diffuse8Sampler\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"mix\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this._mixTexture1 && (this._activeEffect.setTexture(\"mixMap1Sampler\", this._mixTexture1), this._activeEffect.setFloat2(\"vTextureInfos\", this._mixTexture1.coordinatesIndex, this._mixTexture1.level), this._activeEffect.setMatrix(\"textureMatrix\", this._mixTexture1.getTextureMatrix()), r.MaterialFlags.DiffuseTextureEnabled && (this._diffuseTexture1 && (this._activeEffect.setTexture(\"diffuse1Sampler\", this._diffuseTexture1), this._activeEffect.setFloat2(\"diffuse1Infos\", this._diffuseTexture1.uScale, this._diffuseTexture1.vScale)), this._diffuseTexture2 && (this._activeEffect.setTexture(\"diffuse2Sampler\", this._diffuseTexture2), this._activeEffect.setFloat2(\"diffuse2Infos\", this._diffuseTexture2.uScale, this._diffuseTexture2.vScale)), this._diffuseTexture3 && (this._activeEffect.setTexture(\"diffuse3Sampler\", this._diffuseTexture3), this._activeEffect.setFloat2(\"diffuse3Infos\", this._diffuseTexture3.uScale, this._diffuseTexture3.vScale)), this._diffuseTexture4 && (this._activeEffect.setTexture(\"diffuse4Sampler\", this._diffuseTexture4), this._activeEffect.setFloat2(\"diffuse4Infos\", this._diffuseTexture4.uScale, this._diffuseTexture4.vScale)))), this._mixTexture2 && (this._activeEffect.setTexture(\"mixMap2Sampler\", this._mixTexture2), r.MaterialFlags.DiffuseTextureEnabled && (this._diffuseTexture5 && (this._activeEffect.setTexture(\"diffuse5Sampler\", this._diffuseTexture5), this._activeEffect.setFloat2(\"diffuse5Infos\", this._diffuseTexture5.uScale, this._diffuseTexture5.vScale)), this._diffuseTexture6 && (this._activeEffect.setTexture(\"diffuse6Sampler\", this._diffuseTexture6), this._activeEffect.setFloat2(\"diffuse6Infos\", this._diffuseTexture6.uScale, this._diffuseTexture6.vScale)), this._diffuseTexture7 && (this._activeEffect.setTexture(\"diffuse7Sampler\", this._diffuseTexture7), this._activeEffect.setFloat2(\"diffuse7Infos\", this._diffuseTexture7.uScale, this._diffuseTexture7.vScale)), this._diffuseTexture8 && (this._activeEffect.setTexture(\"diffuse8Sampler\", this._diffuseTexture8), this._activeEffect.setFloat2(\"diffuse8Infos\", this._diffuseTexture8.uScale, this._diffuseTexture8.vScale)))), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), o.SPECULARTERM && this._activeEffect.setColor4(\"vSpecularColor\", this.specularColor, this.specularPower), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this._mixTexture1 && this._mixTexture1.animations && this._mixTexture1.animations.length > 0 && e.push(this._mixTexture1), this._mixTexture2 && this._mixTexture2.animations && this._mixTexture2.animations.length > 0 && e.push(this._mixTexture2), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._mixTexture1 && t.push(this._mixTexture1), this._diffuseTexture1 && t.push(this._diffuseTexture1), this._diffuseTexture2 && t.push(this._diffuseTexture2), this._diffuseTexture3 && t.push(this._diffuseTexture3), this._diffuseTexture4 && t.push(this._diffuseTexture4), this._mixTexture2 && t.push(this._mixTexture2), this._diffuseTexture5 && t.push(this._diffuseTexture5), this._diffuseTexture6 && t.push(this._diffuseTexture6), this._diffuseTexture7 && t.push(this._diffuseTexture7), this._diffuseTexture8 && t.push(this._diffuseTexture8), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._mixTexture1 === t || this._diffuseTexture1 === t || this._diffuseTexture2 === t || this._diffuseTexture3 === t || this._diffuseTexture4 === t || this._mixTexture2 === t || this._diffuseTexture5 === t || this._diffuseTexture6 === t || this._diffuseTexture7 === t || this._diffuseTexture8 === t;\n      }, t.prototype.dispose = function (t) {\n        this._mixTexture1 && this._mixTexture1.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.MixMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"MixMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture1\")], t.prototype, \"_mixTexture1\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"mixTexture1\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture2\")], t.prototype, \"_mixTexture2\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"mixTexture2\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")], t.prototype, \"_diffuseTexture1\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture1\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")], t.prototype, \"_diffuseTexture2\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture2\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")], t.prototype, \"_diffuseTexture3\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture3\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")], t.prototype, \"_diffuseTexture4\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture4\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")], t.prototype, \"_diffuseTexture5\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture5\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")], t.prototype, \"_diffuseTexture6\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture6\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")], t.prototype, \"_diffuseTexture7\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture7\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")], t.prototype, \"_diffuseTexture8\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture8\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"specularColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"specularPower\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.MixMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"NormalMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef LIGHTING\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef NORMAL\\nbaseColor=mix(baseColor,vec4(vNormalW,1.0),0.5);\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef LIGHTING\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n#else\\nvec3 finalDiffuse=baseColor.rgb;\\n#endif\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.normalPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.normalVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.LIGHT0 = !1, t.LIGHT1 = !1, t.LIGHT2 = !1, t.LIGHT3 = !1, t.SPOTLIGHT0 = !1, t.SPOTLIGHT1 = !1, t.SPOTLIGHT2 = !1, t.SPOTLIGHT3 = !1, t.HEMILIGHT0 = !1, t.HEMILIGHT1 = !1, t.HEMILIGHT2 = !1, t.HEMILIGHT3 = !1, t.DIRLIGHT0 = !1, t.DIRLIGHT1 = !1, t.DIRLIGHT2 = !1, t.DIRLIGHT3 = !1, t.POINTLIGHT0 = !1, t.POINTLIGHT1 = !1, t.POINTLIGHT2 = !1, t.POINTLIGHT3 = !1, t.SHADOW0 = !1, t.SHADOW1 = !1, t.SHADOW2 = !1, t.SHADOW3 = !1, t.SHADOWS = !1, t.SHADOWESM0 = !1, t.SHADOWESM1 = !1, t.SHADOWESM2 = !1, t.SHADOWESM3 = !1, t.SHADOWPOISSON0 = !1, t.SHADOWPOISSON1 = !1, t.SHADOWPOISSON2 = !1, t.SHADOWPOISSON3 = !1, t.SHADOWPCF0 = !1, t.SHADOWPCF1 = !1, t.SHADOWPCF2 = !1, t.SHADOWPCF3 = !1, t.SHADOWPCSS0 = !1, t.SHADOWPCSS1 = !1, t.SHADOWPCSS2 = !1, t.SHADOWPCSS3 = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.LIGHTING = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaBlendingForMesh = function (e) {\n        return this.needAlphaBlending() || e.visibility < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled && this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled)) {\n          if (!this._diffuseTexture.isReady()) return !1;\n          n._needUVs = !0, n.DIFFUSE = !0;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = !0, r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), n.LIGHTING = !this._disableLighting, r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\"],\n              d = [\"diffuseSampler\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: 4\n          }), t.setEffect(o.getEngine().createEffect(\"normal\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: 4\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this.diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this.diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this.diffuseTexture.coordinatesIndex, this.diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this.diffuseTexture.getTextureMatrix())), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.diffuseTexture && this.diffuseTexture.animations && this.diffuseTexture.animations.length > 0 && e.push(this.diffuseTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this.diffuseTexture === t;\n      }, t.prototype.dispose = function (t) {\n        this.diffuseTexture && this.diffuseTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.NormalMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"NormalMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.NormalMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"ShadowOnlyMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform float alpha;\\nuniform vec3 shadowColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..1]\\n\\nvec4 color=vec4(shadowColor,(1.0-clamp(shadow,0.,1.))*alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.shadowOnlyPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.shadowOnlyVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n._needAlphaBlending = !0, n.shadowColor = r.Color3.Black(), n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this._needAlphaBlending;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, Object.defineProperty(t.prototype, \"activeLight\", {\n        get: function get() {\n          return this._activeLight;\n        },\n        set: function set(e) {\n          this._activeLight = e;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype._getFirstShadowLightForMesh = function (e) {\n        for (var t = 0, i = e.lightSources; t < i.length; t++) {\n          var n = i[t];\n          if (n.shadowEnabled) return n;\n        }\n\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        var n;\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var o = t._materialDefines,\n            a = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var f = a.getEngine();\n        if (this._activeLight) for (var l = 0, u = e.lightSources; l < u.length; l++) {\n          var c = u[l];\n\n          if (c.shadowEnabled) {\n            if (this._activeLight === c) break;\n            var d = e.lightSources.indexOf(this._activeLight);\n            -1 !== d && (e.lightSources.splice(d, 1), e.lightSources.splice(0, 0, this._activeLight));\n            break;\n          }\n        }\n        r.MaterialHelper.PrepareDefinesForFrameBoundValues(a, f, o, !!i), r.MaterialHelper.PrepareDefinesForMisc(e, a, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), o), o._needNormals = r.MaterialHelper.PrepareDefinesForLights(a, e, o, !1, 1);\n        var p = null === (n = this._getFirstShadowLightForMesh(e)) || void 0 === n ? void 0 : n.getShadowGenerator();\n\n        if (this._needAlphaBlending = !0, p && p.getClassName && \"CascadedShadowGenerator\" === p.getClassName()) {\n          var h = p;\n          this._needAlphaBlending = !h.autoCalcDepthBounds;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForAttributes(e, o, !1, !0), o.isDirty) {\n          o.markAsProcessed(), a.resetCachedMaterial();\n          var v = new r.EffectFallbacks();\n          o.FOG && v.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(o, v, 1), o.NUM_BONE_INFLUENCERS > 0 && v.addCPUSkinningFallback(0, e), o.IMAGEPROCESSINGPOSTPROCESS = a.imageProcessingConfiguration.applyByPostProcess;\n          var m = [r.VertexBuffer.PositionKind];\n          o.NORMAL && m.push(r.VertexBuffer.NormalKind), r.MaterialHelper.PrepareAttributesForBones(m, e, o, v), r.MaterialHelper.PrepareAttributesForInstances(m, o);\n\n          var g = o.toString(),\n              x = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"alpha\", \"shadowColor\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\"],\n              T = new Array(),\n              _ = new Array();\n\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: x,\n            uniformBuffersNames: _,\n            samplers: T,\n            defines: o,\n            maxSimultaneousLights: 1\n          }), t.setEffect(a.getEngine().createEffect(\"shadowOnly\", {\n            attributes: m,\n            uniformsNames: x,\n            uniformBuffersNames: _,\n            samplers: T,\n            defines: g,\n            fallbacks: v,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: 1\n            }\n          }, f), o);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (o._renderId = a.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n\n          if (a) {\n            if (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), this._activeEffect.setFloat(\"alpha\", this.alpha), this._activeEffect.setColor3(\"shadowColor\", this.shadowColor), r.MaterialHelper.BindEyePosition(a, n)), n.lightsEnabled) {\n              r.MaterialHelper.BindLights(n, t, this._activeEffect, o, 1);\n\n              var s = this._getFirstShadowLightForMesh(t);\n\n              s && (s._renderId = -1);\n            }\n\n            (n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE || o.SHADOWCSM0) && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect);\n          }\n        }\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.ShadowOnlyMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"ShadowOnlyMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.ShadowOnlyMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"SimpleMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";\n    r.Effect.ShadersStore.simplePixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.simpleVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled && this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled)) {\n          if (!this._diffuseTexture.isReady()) return !1;\n          n._needUVs = !0, n.DIFFUSE = !0;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vDiffuseInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"diffuseMatrix\"],\n              d = [\"diffuseSampler\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"simple\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this._maxSimultaneousLights - 1\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this._diffuseTexture && r.MaterialFlags.DiffuseTextureEnabled && (this._activeEffect.setTexture(\"diffuseSampler\", this._diffuseTexture), this._activeEffect.setFloat2(\"vDiffuseInfos\", this._diffuseTexture.coordinatesIndex, this._diffuseTexture.level), this._activeEffect.setMatrix(\"diffuseMatrix\", this._diffuseTexture.getTextureMatrix())), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this._diffuseTexture && this._diffuseTexture.animations && this._diffuseTexture.animations.length > 0 && e.push(this._diffuseTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTexture && t.push(this._diffuseTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this.diffuseTexture === t;\n      }, t.prototype.dispose = function (t) {\n        this._diffuseTexture && this._diffuseTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.SimpleMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"SimpleMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")], t.prototype, \"_diffuseTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.SimpleMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"SkyMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\nuniform vec3 cameraPosition;\\nuniform vec3 cameraOffset;\\nuniform float luminance;\\nuniform float turbidity;\\nuniform float rayleigh;\\nuniform float mieCoefficient;\\nuniform float mieDirectionalG;\\nuniform vec3 sunPosition;\\n\\n#include<fogFragmentDeclaration>\\n\\nconst float e=2.71828182845904523536028747135266249775724709369995957;\\nconst float pi=3.141592653589793238462643383279502884197169;\\nconst float n=1.0003;\\nconst float N=2.545E25;\\nconst float pn=0.035;\\nconst vec3 lambda=vec3(680E-9,550E-9,450E-9);\\nconst vec3 K=vec3(0.686,0.678,0.666);\\nconst float v=4.0;\\nconst float rayleighZenithLength=8.4E3;\\nconst float mieZenithLength=1.25E3;\\nconst vec3 up=vec3(0.0,1.0,0.0);\\nconst float EE=1000.0;\\nconst float sunAngularDiameterCos=0.999956676946448443553574619906976478926848692873900859324;\\nconst float cutoffAngle=pi/1.95;\\nconst float steepness=1.5;\\nvec3 totalRayleigh(vec3 lambda)\\n{\\nreturn (8.0*pow(pi,3.0)*pow(pow(n,2.0)-1.0,2.0)*(6.0+3.0*pn))/(3.0*N*pow(lambda,vec3(4.0))*(6.0-7.0*pn));\\n}\\nvec3 simplifiedRayleigh()\\n{\\nreturn 0.0005/vec3(94,40,18);\\n}\\nfloat rayleighPhase(float cosTheta)\\n{\\nreturn (3.0/(16.0*pi))*(1.0+pow(cosTheta,2.0));\\n}\\nvec3 totalMie(vec3 lambda,vec3 K,float T)\\n{\\nfloat c=(0.2*T )*10E-18;\\nreturn 0.434*c*pi*pow((2.0*pi)/lambda,vec3(v-2.0))*K;\\n}\\nfloat hgPhase(float cosTheta,float g)\\n{\\nreturn (1.0/(4.0*pi))*((1.0-pow(g,2.0))/pow(1.0-2.0*g*cosTheta+pow(g,2.0),1.5));\\n}\\nfloat sunIntensity(float zenithAngleCos)\\n{\\nreturn EE*max(0.0,1.0-exp((-(cutoffAngle-acos(zenithAngleCos))/steepness)));\\n}\\nfloat A=0.15;\\nfloat B=0.50;\\nfloat C=0.10;\\nfloat D=0.20;\\nfloat EEE=0.02;\\nfloat F=0.30;\\nfloat W=1000.0;\\nvec3 Uncharted2Tonemap(vec3 x)\\n{\\nreturn ((x*(A*x+C*B)+D*EEE)/(x*(A*x+B)+D*F))-EEE/F;\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\n\\nfloat sunfade=1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);\\nfloat rayleighCoefficient=rayleigh-(1.0*(1.0-sunfade));\\nvec3 sunDirection=normalize(sunPosition);\\nfloat sunE=sunIntensity(dot(sunDirection,up));\\nvec3 betaR=simplifiedRayleigh()*rayleighCoefficient;\\nvec3 betaM=totalMie(lambda,K,turbidity)*mieCoefficient;\\nfloat zenithAngle=acos(max(0.0,dot(up,normalize(vPositionW-cameraPosition+cameraOffset))));\\nfloat sR=rayleighZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nfloat sM=mieZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nvec3 Fex=exp(-(betaR*sR+betaM*sM));\\nfloat cosTheta=dot(normalize(vPositionW-cameraPosition),sunDirection);\\nfloat rPhase=rayleighPhase(cosTheta*0.5+0.5);\\nvec3 betaRTheta=betaR*rPhase;\\nfloat mPhase=hgPhase(cosTheta,mieDirectionalG);\\nvec3 betaMTheta=betaM*mPhase;\\nvec3 Lin=pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*(1.0-Fex),vec3(1.5));\\nLin*=mix(vec3(1.0),pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up,sunDirection),5.0),0.0,1.0));\\nvec3 direction=normalize(vPositionW-cameraPosition);\\nfloat theta=acos(direction.y);\\nfloat phi=atan(direction.z,direction.x);\\nvec2 uv=vec2(phi,theta)/vec2(2.0*pi,pi)+vec2(0.5,0.0);\\nvec3 L0=vec3(0.1)*Fex;\\nfloat sundisk=smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);\\nL0+=(sunE*19000.0*Fex)*sundisk;\\nvec3 whiteScale=1.0/Uncharted2Tonemap(vec3(W));\\nvec3 texColor=(Lin+L0);\\ntexColor*=0.04 ;\\ntexColor+=vec3(0.0,0.001,0.0025)*0.3;\\nfloat g_fMaxLuminance=1.0;\\nfloat fLumScaled=0.1/luminance;\\nfloat fLumCompressed=(fLumScaled*(1.0+(fLumScaled/(g_fMaxLuminance*g_fMaxLuminance))))/(1.0+fLumScaled);\\nfloat ExposureBias=fLumCompressed;\\nvec3 curr=Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);\\n\\n\\n\\nvec3 retColor=curr*whiteScale;\\n\\n\\nfloat alpha=1.0;\\n#ifdef VERTEXCOLOR\\nretColor.rgb*=vColor.rgb;\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=clamp(vec4(retColor.rgb,alpha),0.0,1.0);\\n\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";\n    r.Effect.ShadersStore.skyPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n\\nuniform mat4 world;\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\nvoid main(void) {\\ngl_Position=viewProjection*world*vec4(position,1.0);\\nvec4 worldPos=world*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.skyVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.POINTSIZE = !1, t.FOG = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.luminance = 1, n.turbidity = 10, n.rayleigh = 2, n.mieCoefficient = .005, n.mieDirectionalG = .8, n.distance = 500, n.inclination = .49, n.azimuth = .25, n.sunPosition = new r.Vector3(0, 100, 0), n.useSunPosition = !1, n.cameraOffset = r.Vector3.Zero(), n._cameraPosition = r.Vector3.Zero(), n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, !1, n), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !1), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var a = new r.EffectFallbacks();\n          n.FOG && a.addFallback(1, \"FOG\"), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var f = [r.VertexBuffer.PositionKind];\n          n.VERTEXCOLOR && f.push(r.VertexBuffer.ColorKind);\n          var l = n.toString();\n          t.setEffect(o.getEngine().createEffect(\"sky\", f, [\"world\", \"viewProjection\", \"view\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"luminance\", \"turbidity\", \"rayleigh\", \"mieCoefficient\", \"mieDirectionalG\", \"sunPosition\", \"cameraPosition\", \"cameraOffset\"], [], l, a, this.onCompiled, this.onError), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene();\n\n        if (i._materialDefines) {\n          var o = i.effect;\n\n          if (o) {\n            this._activeEffect = o, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), this._mustRebind(n, o) && (r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize)), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect);\n            var a = n.activeCamera;\n\n            if (a) {\n              var s = a.getWorldMatrix();\n              this._cameraPosition.x = s.m[12], this._cameraPosition.y = s.m[13], this._cameraPosition.z = s.m[14], this._activeEffect.setVector3(\"cameraPosition\", this._cameraPosition);\n            }\n\n            if (this._activeEffect.setVector3(\"cameraOffset\", this.cameraOffset), this.luminance > 0 && this._activeEffect.setFloat(\"luminance\", this.luminance), this._activeEffect.setFloat(\"turbidity\", this.turbidity), this._activeEffect.setFloat(\"rayleigh\", this.rayleigh), this._activeEffect.setFloat(\"mieCoefficient\", this.mieCoefficient), this._activeEffect.setFloat(\"mieDirectionalG\", this.mieDirectionalG), !this.useSunPosition) {\n              var f = Math.PI * (this.inclination - .5),\n                  l = 2 * Math.PI * (this.azimuth - .5);\n              this.sunPosition.x = this.distance * Math.cos(l), this.sunPosition.y = this.distance * Math.sin(l) * Math.sin(f), this.sunPosition.z = this.distance * Math.sin(l) * Math.cos(f);\n            }\n\n            this._activeEffect.setVector3(\"sunPosition\", this.sunPosition), this._afterBind(t, this._activeEffect);\n          }\n        }\n      }, t.prototype.getAnimatables = function () {\n        return [];\n      }, t.prototype.dispose = function (t) {\n        e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.SkyMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"SkyMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serialize)()], t.prototype, \"luminance\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"turbidity\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"rayleigh\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"mieCoefficient\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"mieDirectionalG\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"distance\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"inclination\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"azimuth\", void 0), Object(n.a)([Object(r.serializeAsVector3)()], t.prototype, \"sunPosition\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"useSunPosition\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"cameraOffset\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.SkyMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"TerrainMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D textureSampler;\\nuniform vec2 vTextureInfos;\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\n#endif\\n#ifdef BUMP\\nuniform sampler2D bump1Sampler;\\nuniform sampler2D bump2Sampler;\\nuniform sampler2D bump3Sampler;\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\n#ifdef BUMP\\n#extension GL_OES_standard_derivatives : enable\\n\\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv)\\n{\\n\\nvec3 dp1=dFdx(p);\\nvec3 dp2=dFdy(p);\\nvec2 duv1=dFdx(uv);\\nvec2 duv2=dFdy(uv);\\n\\nvec3 dp2perp=cross(dp2,normal);\\nvec3 dp1perp=cross(normal,dp1);\\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\\nvec3 binormal=dp2perp*duv1.y+dp1perp*duv2.y;\\n\\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(binormal,binormal)));\\nreturn mat3(tangent*invmax,binormal*invmax,normal);\\n}\\nvec3 perturbNormal(vec3 viewDir,vec3 mixColor)\\n{\\nvec3 bump1Color=texture2D(bump1Sampler,vTextureUV*diffuse1Infos).xyz;\\nvec3 bump2Color=texture2D(bump2Sampler,vTextureUV*diffuse2Infos).xyz;\\nvec3 bump3Color=texture2D(bump3Sampler,vTextureUV*diffuse3Infos).xyz;\\nbump1Color.rgb*=mixColor.r;\\nbump2Color.rgb=mix(bump1Color.rgb,bump2Color.rgb,mixColor.g);\\nvec3 map=mix(bump2Color.rgb,bump3Color.rgb,mixColor.b);\\nmap=map*255./127.-128./127.;\\nmat3 TBN=cotangent_frame(vNormalW*vTextureInfos.y,-viewDir,vTextureUV);\\nreturn normalize(TBN*map);\\n}\\n#endif\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nbaseColor=texture2D(textureSampler,vTextureUV);\\n#if defined(BUMP) && defined(DIFFUSE)\\nnormalW=perturbNormal(viewDirectionW,baseColor.rgb);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\ndiffuse1Color.rgb*=baseColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,baseColor.g);\\nbaseColor.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,baseColor.b);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*baseColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";\n    r.Effect.ShadersStore.terrainPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.terrainVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSE = !1, t.BUMP = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.SPECULARTERM = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.diffuseColor = new r.Color3(1, 1, 1), n.specularColor = new r.Color3(0, 0, 0), n.specularPower = 64, n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (o.texturesEnabled) {\n          if (!this.mixTexture || !this.mixTexture.isReady()) return !1;\n\n          if (n._needUVs = !0, r.MaterialFlags.DiffuseTextureEnabled) {\n            if (!this.diffuseTexture1 || !this.diffuseTexture1.isReady()) return !1;\n            if (!this.diffuseTexture2 || !this.diffuseTexture2.isReady()) return !1;\n            if (!this.diffuseTexture3 || !this.diffuseTexture3.isReady()) return !1;\n            n.DIFFUSE = !0;\n          }\n\n          if (this.bumpTexture1 && this.bumpTexture2 && this.bumpTexture3 && r.MaterialFlags.BumpTextureEnabled) {\n            if (!this.bumpTexture1.isReady()) return !1;\n            if (!this.bumpTexture2.isReady()) return !1;\n            if (!this.bumpTexture3.isReady()) return !1;\n            n._needNormals = !0, n.BUMP = !0;\n          }\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var f = new r.EffectFallbacks();\n          n.FOG && f.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, f, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && f.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var l = [r.VertexBuffer.PositionKind];\n          n.NORMAL && l.push(r.VertexBuffer.NormalKind), n.UV1 && l.push(r.VertexBuffer.UVKind), n.UV2 && l.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && l.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(l, e, n, f), r.MaterialHelper.PrepareAttributesForInstances(l, n);\n          var u = n.toString(),\n              c = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vSpecularColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vTextureInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"textureMatrix\", \"diffuse1Infos\", \"diffuse2Infos\", \"diffuse3Infos\"],\n              d = [\"textureSampler\", \"diffuse1Sampler\", \"diffuse2Sampler\", \"diffuse3Sampler\", \"bump1Sampler\", \"bump2Sampler\", \"bump3Sampler\"],\n              p = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"terrain\", {\n            attributes: l,\n            uniformsNames: c,\n            uniformBuffersNames: p,\n            samplers: d,\n            defines: u,\n            fallbacks: f,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this.mixTexture && (this._activeEffect.setTexture(\"textureSampler\", this._mixTexture), this._activeEffect.setFloat2(\"vTextureInfos\", this._mixTexture.coordinatesIndex, this._mixTexture.level), this._activeEffect.setMatrix(\"textureMatrix\", this._mixTexture.getTextureMatrix()), r.MaterialFlags.DiffuseTextureEnabled && (this._diffuseTexture1 && (this._activeEffect.setTexture(\"diffuse1Sampler\", this._diffuseTexture1), this._activeEffect.setFloat2(\"diffuse1Infos\", this._diffuseTexture1.uScale, this._diffuseTexture1.vScale)), this._diffuseTexture2 && (this._activeEffect.setTexture(\"diffuse2Sampler\", this._diffuseTexture2), this._activeEffect.setFloat2(\"diffuse2Infos\", this._diffuseTexture2.uScale, this._diffuseTexture2.vScale)), this._diffuseTexture3 && (this._activeEffect.setTexture(\"diffuse3Sampler\", this._diffuseTexture3), this._activeEffect.setFloat2(\"diffuse3Infos\", this._diffuseTexture3.uScale, this._diffuseTexture3.vScale))), r.MaterialFlags.BumpTextureEnabled && n.getEngine().getCaps().standardDerivatives && (this._bumpTexture1 && this._activeEffect.setTexture(\"bump1Sampler\", this._bumpTexture1), this._bumpTexture2 && this._activeEffect.setTexture(\"bump2Sampler\", this._bumpTexture2), this._bumpTexture3 && this._activeEffect.setTexture(\"bump3Sampler\", this._bumpTexture3))), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), o.SPECULARTERM && this._activeEffect.setColor4(\"vSpecularColor\", this.specularColor, this.specularPower), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.mixTexture && this.mixTexture.animations && this.mixTexture.animations.length > 0 && e.push(this.mixTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._mixTexture && t.push(this._mixTexture), this._diffuseTexture1 && t.push(this._diffuseTexture1), this._diffuseTexture2 && t.push(this._diffuseTexture2), this._diffuseTexture3 && t.push(this._diffuseTexture3), this._bumpTexture1 && t.push(this._bumpTexture1), this._bumpTexture2 && t.push(this._bumpTexture2), this._bumpTexture3 && t.push(this._bumpTexture3), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._mixTexture === t || this._diffuseTexture1 === t || this._diffuseTexture2 === t || this._diffuseTexture3 === t || this._bumpTexture1 === t || this._bumpTexture2 === t || this._bumpTexture3 === t;\n      }, t.prototype.dispose = function (t) {\n        this.mixTexture && this.mixTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.TerrainMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"TerrainMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture\")], t.prototype, \"_mixTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"mixTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")], t.prototype, \"_diffuseTexture1\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture1\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")], t.prototype, \"_diffuseTexture2\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture2\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")], t.prototype, \"_diffuseTexture3\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTexture3\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture1\")], t.prototype, \"_bumpTexture1\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"bumpTexture1\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture2\")], t.prototype, \"_bumpTexture2\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"bumpTexture2\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture3\")], t.prototype, \"_bumpTexture3\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"bumpTexture3\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"specularColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"specularPower\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.TerrainMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"TriPlanarMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\nuniform sampler2D diffuseSamplerX;\\n#ifdef BUMPX\\nuniform sampler2D normalSamplerX;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\nuniform sampler2D diffuseSamplerY;\\n#ifdef BUMPY\\nuniform sampler2D normalSamplerY;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\nuniform sampler2D diffuseSamplerZ;\\n#ifdef BUMPZ\\nuniform sampler2D normalSamplerZ;\\n#endif\\n#endif\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(0.,0.,0.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=tangentSpace[2];\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\nvec4 baseNormal=vec4(0.0,0.0,0.0,1.0);\\nnormalW*=normalW;\\n#ifdef DIFFUSEX\\nbaseColor+=texture2D(diffuseSamplerX,vTextureUVX)*normalW.x;\\n#ifdef BUMPX\\nbaseNormal+=texture2D(normalSamplerX,vTextureUVX)*normalW.x;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nbaseColor+=texture2D(diffuseSamplerY,vTextureUVY)*normalW.y;\\n#ifdef BUMPY\\nbaseNormal+=texture2D(normalSamplerY,vTextureUVY)*normalW.y;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nbaseColor+=texture2D(diffuseSamplerZ,vTextureUVZ)*normalW.z;\\n#ifdef BUMPZ\\nbaseNormal+=texture2D(normalSamplerZ,vTextureUVZ)*normalW.z;\\n#endif\\n#endif\\n#ifdef NORMAL\\nnormalW=normalize((2.0*baseNormal.xyz-1.0)*tangentSpace);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";\n    r.Effect.ShadersStore.triplanarPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\n#endif\\nuniform float tileSize;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void)\\n{\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef DIFFUSEX\\nvTextureUVX=worldPos.zy/tileSize;\\n#endif\\n#ifdef DIFFUSEY\\nvTextureUVY=worldPos.xz/tileSize;\\n#endif\\n#ifdef DIFFUSEZ\\nvTextureUVZ=worldPos.xy/tileSize;\\n#endif\\n#ifdef NORMAL\\n\\nvec3 xtan=vec3(0,0,1);\\nvec3 xbin=vec3(0,1,0);\\nvec3 ytan=vec3(1,0,0);\\nvec3 ybin=vec3(0,0,1);\\nvec3 ztan=vec3(1,0,0);\\nvec3 zbin=vec3(0,1,0);\\nvec3 normalizedNormal=normalize(normal);\\nnormalizedNormal*=normalizedNormal;\\nvec3 worldBinormal=normalize(xbin*normalizedNormal.x+ybin*normalizedNormal.y+zbin*normalizedNormal.z);\\nvec3 worldTangent=normalize(xtan*normalizedNormal.x+ytan*normalizedNormal.y+ztan*normalizedNormal.z);\\nworldTangent=(world*vec4(worldTangent,1.0)).xyz;\\nworldBinormal=(world*vec4(worldBinormal,1.0)).xyz;\\nvec3 worldNormal=(world*vec4(normalize(normal),1.0)).xyz;\\ntangentSpace[0]=worldTangent;\\ntangentSpace[1]=worldBinormal;\\ntangentSpace[2]=worldNormal;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";\n    r.Effect.ShadersStore.triplanarVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.DIFFUSEX = !1, t.DIFFUSEY = !1, t.DIFFUSEZ = !1, t.BUMPX = !1, t.BUMPY = !1, t.BUMPZ = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.SPECULARTERM = !1, t.NORMAL = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.tileSize = 1, n.diffuseColor = new r.Color3(1, 1, 1), n.specularColor = new r.Color3(.2, .2, .2), n.specularPower = 64, n._disableLighting = !1, n._maxSimultaneousLights = 4, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && o.texturesEnabled) {\n          if (r.MaterialFlags.DiffuseTextureEnabled) for (var f = [this.diffuseTextureX, this.diffuseTextureY, this.diffuseTextureZ], l = [\"DIFFUSEX\", \"DIFFUSEY\", \"DIFFUSEZ\"], u = 0; u < f.length; u++) {\n            if (f[u]) {\n              if (!f[u].isReady()) return !1;\n              n[l[u]] = !0;\n            }\n          }\n          if (r.MaterialFlags.BumpTextureEnabled) for (f = [this.normalTextureX, this.normalTextureY, this.normalTextureZ], l = [\"BUMPX\", \"BUMPY\", \"BUMPZ\"], u = 0; u < f.length; u++) {\n            if (f[u]) {\n              if (!f[u].isReady()) return !1;\n              n[l[u]] = !0;\n            }\n          }\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForMisc(e, o, !1, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !1, this._maxSimultaneousLights, this._disableLighting), r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var c = new r.EffectFallbacks();\n          n.FOG && c.addFallback(1, \"FOG\"), r.MaterialHelper.HandleFallbacksForShadows(n, c, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && c.addCPUSkinningFallback(0, e), n.IMAGEPROCESSINGPOSTPROCESS = o.imageProcessingConfiguration.applyByPostProcess;\n          var d = [r.VertexBuffer.PositionKind];\n          n.NORMAL && d.push(r.VertexBuffer.NormalKind), n.VERTEXCOLOR && d.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(d, e, n, c), r.MaterialHelper.PrepareAttributesForInstances(d, n);\n          var p = n.toString(),\n              h = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vSpecularColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"tileSize\"],\n              v = [\"diffuseSamplerX\", \"diffuseSamplerY\", \"diffuseSamplerZ\", \"normalSamplerX\", \"normalSamplerY\", \"normalSamplerZ\"],\n              m = new Array();\n          r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: h,\n            uniformBuffersNames: m,\n            samplers: v,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"triplanar\", {\n            attributes: d,\n            uniformsNames: h,\n            uniformBuffersNames: m,\n            samplers: v,\n            defines: p,\n            fallbacks: c,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this.maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n          a && (this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._activeEffect.setFloat(\"tileSize\", this.tileSize), n.getCachedMaterial() !== this && (this.diffuseTextureX && this._activeEffect.setTexture(\"diffuseSamplerX\", this.diffuseTextureX), this.diffuseTextureY && this._activeEffect.setTexture(\"diffuseSamplerY\", this.diffuseTextureY), this.diffuseTextureZ && this._activeEffect.setTexture(\"diffuseSamplerZ\", this.diffuseTextureZ), this.normalTextureX && this._activeEffect.setTexture(\"normalSamplerX\", this.normalTextureX), this.normalTextureY && this._activeEffect.setTexture(\"normalSamplerY\", this.normalTextureY), this.normalTextureZ && this._activeEffect.setTexture(\"normalSamplerZ\", this.normalTextureZ), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), o.SPECULARTERM && this._activeEffect.setColor4(\"vSpecularColor\", this.specularColor, this.specularPower), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), this._afterBind(t, this._activeEffect));\n        }\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.mixTexture && this.mixTexture.animations && this.mixTexture.animations.length > 0 && e.push(this.mixTexture), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._diffuseTextureX && t.push(this._diffuseTextureX), this._diffuseTextureY && t.push(this._diffuseTextureY), this._diffuseTextureZ && t.push(this._diffuseTextureZ), this._normalTextureX && t.push(this._normalTextureX), this._normalTextureY && t.push(this._normalTextureY), this._normalTextureZ && t.push(this._normalTextureZ), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._diffuseTextureX === t || this._diffuseTextureY === t || this._diffuseTextureZ === t || this._normalTextureX === t || this._normalTextureY === t || this._normalTextureZ === t;\n      }, t.prototype.dispose = function (t) {\n        this.mixTexture && this.mixTexture.dispose(), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        return e.customType = \"BABYLON.TriPlanarMaterial\", e;\n      }, t.prototype.getClassName = function () {\n        return \"TriPlanarMaterial\";\n      }, t.Parse = function (e, i, n) {\n        return r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n      }, Object(n.a)([Object(r.serializeAsTexture)()], t.prototype, \"mixTexture\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureX\")], t.prototype, \"_diffuseTextureX\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTextureX\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexturY\")], t.prototype, \"_diffuseTextureY\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTextureY\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureZ\")], t.prototype, \"_diffuseTextureZ\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"diffuseTextureZ\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureX\")], t.prototype, \"_normalTextureX\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"normalTextureX\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureY\")], t.prototype, \"_normalTextureY\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"normalTextureY\", void 0), Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureZ\")], t.prototype, \"_normalTextureZ\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"normalTextureZ\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"tileSize\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"specularColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"specularPower\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.TriPlanarMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"WaterMaterial\", function () {\n      return f;\n    });\n    var n = i(1),\n        r = i(0),\n        o = \"#ifdef LOGARITHMICDEPTH\\n#extension GL_EXT_frag_depth : enable\\n#endif\\nprecision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n#include<imageProcessingDeclaration>\\n#include<imageProcessingFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\nvarying vec2 vNormalUV2;\\nuniform sampler2D normalSampler;\\nuniform vec2 vNormalInfos;\\n#endif\\nuniform sampler2D refractionSampler;\\nuniform sampler2D reflectionSampler;\\n\\nconst float LOG2=1.442695;\\nuniform vec3 cameraPosition;\\nuniform vec4 waterColor;\\nuniform float colorBlendFactor;\\nuniform vec4 waterColor2;\\nuniform float colorBlendFactor2;\\nuniform float bumpHeight;\\nuniform float time;\\n\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvarying vec3 vPosition;\\n#include<clipPlaneFragmentDeclaration>\\n#include<logDepthDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef BUMP\\n#ifdef BUMPSUPERIMPOSE\\nbaseColor=0.6*texture2D(normalSampler,vNormalUV)+0.4*texture2D(normalSampler,vec2(vNormalUV2.x,vNormalUV2.y));\\n#else\\nbaseColor=texture2D(normalSampler,vNormalUV);\\n#endif\\nvec3 bumpColor=baseColor.rgb;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\nbaseColor.rgb*=vNormalInfos.y;\\n#else\\nvec3 bumpColor=vec3(1.0);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec2 perturbation=bumpHeight*(baseColor.rg-0.5);\\n#ifdef BUMPAFFECTSREFLECTION\\nvec3 normalW=normalize(vNormalW+vec3(perturbation.x*8.0,0.0,perturbation.y*8.0));\\nif (normalW.y<0.0) {\\nnormalW.y=-normalW.y;\\n}\\n#else\\nvec3 normalW=normalize(vNormalW);\\n#endif\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\nvec2 perturbation=bumpHeight*(vec2(1.0,1.0)-0.5);\\n#endif\\n#ifdef FRESNELSEPARATE\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation*0.5,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vec2(\\nvReflectionMapTexCoord.x/vReflectionMapTexCoord.z+perturbation.x*0.3,\\nvReflectionMapTexCoord.y/vReflectionMapTexCoord.z+perturbation.y\\n),0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=clamp(abs(pow(dot(viewDirectionW,upVector),3.0)),0.05,0.65);\\nfloat IfresnelTerm=1.0-fresnelTerm;\\nrefractiveColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*refractiveColor;\\nreflectiveColor=IfresnelTerm*colorBlendFactor2*waterColor+(1.0-colorBlendFactor2*IfresnelTerm)*reflectiveColor;\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*IfresnelTerm;\\nbaseColor=combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#else\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vReflectionMapTexCoord.xy/vReflectionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=max(dot(viewDirectionW,upVector),0.0);\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*(1.0-fresnelTerm);\\nbaseColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#endif\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<logDepthFragment>\\n#include<fogFragment>\\n\\n\\n#ifdef IMAGEPROCESSINGPOSTPROCESS\\ncolor.rgb=toLinearSpace(color.rgb);\\n#elif defined(IMAGEPROCESSING)\\ncolor.rgb=toLinearSpace(color.rgb);\\ncolor=applyImageProcessing(color);\\n#endif\\ngl_FragColor=color;\\n}\\n\";\n    r.Effect.ShadersStore.waterPixelShader = o;\n    var a = \"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\n#ifdef BUMPSUPERIMPOSE\\nvarying vec2 vNormalUV2;\\n#endif\\nuniform mat4 normalMatrix;\\nuniform vec2 vNormalInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<logDepthDeclaration>\\n\\nuniform mat4 worldReflectionViewProjection;\\nuniform vec2 windDirection;\\nuniform float waveLength;\\nuniform float time;\\nuniform float windForce;\\nuniform float waveHeight;\\nuniform float waveSpeed;\\nuniform float waveCount;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef BUMP\\nif (vNormalInfos.x == 0.)\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv*1.0)/waveLength+time*windForce*windDirection,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv*0.721)/waveLength+time*1.2*windForce*windDirection,1.0,0.0));\\n#endif\\n}\\nelse\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv2*1.0)/waveLength+time*windForce*windDirection ,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv2*0.721)/waveLength+time*1.2*windForce*windDirection ,1.0,0.0));\\n#endif\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\nfloat finalWaveCount=1.0/(waveCount*0.5);\\nvec3 p=position;\\nfloat newY=(sin(((p.x/finalWaveCount)+time*waveSpeed))*waveHeight*windDirection.x*5.0)\\n+(cos(((p.z/finalWaveCount)+time*waveSpeed))*waveHeight*windDirection.y*5.0);\\np.y+=abs(newY);\\ngl_Position=viewProjection*finalWorld*vec4(p,1.0);\\n#ifdef REFLECTION\\nworldPos=viewProjection*finalWorld*vec4(p,1.0);\\n\\nvPosition=position;\\nvRefractionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvRefractionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvRefractionMapTexCoord.z=worldPos.w;\\nworldPos=worldReflectionViewProjection*vec4(position,1.0);\\nvReflectionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvReflectionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvReflectionMapTexCoord.z=worldPos.w;\\n#endif\\n#include<logDepthVertex>\\n}\\n\";\n    r.Effect.ShadersStore.waterVertexShader = a;\n\n    var s = function (e) {\n      function t() {\n        var t = e.call(this) || this;\n        return t.BUMP = !1, t.REFLECTION = !1, t.CLIPPLANE = !1, t.CLIPPLANE2 = !1, t.CLIPPLANE3 = !1, t.CLIPPLANE4 = !1, t.CLIPPLANE5 = !1, t.CLIPPLANE6 = !1, t.ALPHATEST = !1, t.DEPTHPREPASS = !1, t.POINTSIZE = !1, t.FOG = !1, t.NORMAL = !1, t.UV1 = !1, t.UV2 = !1, t.VERTEXCOLOR = !1, t.VERTEXALPHA = !1, t.NUM_BONE_INFLUENCERS = 0, t.BonesPerMesh = 0, t.INSTANCES = !1, t.SPECULARTERM = !1, t.LOGARITHMICDEPTH = !1, t.FRESNELSEPARATE = !1, t.BUMPSUPERIMPOSE = !1, t.BUMPAFFECTSREFLECTION = !1, t.IMAGEPROCESSING = !1, t.VIGNETTE = !1, t.VIGNETTEBLENDMODEMULTIPLY = !1, t.VIGNETTEBLENDMODEOPAQUE = !1, t.TONEMAPPING = !1, t.TONEMAPPING_ACES = !1, t.CONTRAST = !1, t.EXPOSURE = !1, t.COLORCURVES = !1, t.COLORGRADING = !1, t.COLORGRADING3D = !1, t.SAMPLER3DGREENDEPTH = !1, t.SAMPLER3DBGRMAP = !1, t.IMAGEPROCESSINGPOSTPROCESS = !1, t.rebuild(), t;\n      }\n\n      return Object(n.b)(t, e), t;\n    }(r.MaterialDefines),\n        f = function (e) {\n      function t(t, i, n) {\n        void 0 === n && (n = new r.Vector2(512, 512));\n        var o = e.call(this, t, i) || this;\n        return o.renderTargetSize = n, o.diffuseColor = new r.Color3(1, 1, 1), o.specularColor = new r.Color3(0, 0, 0), o.specularPower = 64, o._disableLighting = !1, o._maxSimultaneousLights = 4, o.windForce = 6, o.windDirection = new r.Vector2(0, 1), o.waveHeight = .4, o.bumpHeight = .4, o._bumpSuperimpose = !1, o._fresnelSeparate = !1, o._bumpAffectsReflection = !1, o.waterColor = new r.Color3(.1, .1, .6), o.colorBlendFactor = .2, o.waterColor2 = new r.Color3(.1, .1, .6), o.colorBlendFactor2 = .2, o.waveLength = .1, o.waveSpeed = 1, o.waveCount = 20, o.disableClipPlane = !1, o._renderTargets = new r.SmartArray(16), o._mesh = null, o._reflectionTransform = r.Matrix.Zero(), o._lastTime = 0, o._lastDeltaTime = 0, o._createRenderTargets(i, n), o.getRenderTargetTextures = function () {\n          return o._renderTargets.reset(), o._renderTargets.push(o._reflectionRTT), o._renderTargets.push(o._refractionRTT), o._renderTargets;\n        }, o._imageProcessingConfiguration = o.getScene().imageProcessingConfiguration, o._imageProcessingConfiguration && (o._imageProcessingObserver = o._imageProcessingConfiguration.onUpdateParameters.add(function () {\n          o._markAllSubMeshesAsImageProcessingDirty();\n        })), o;\n      }\n\n      return Object(n.b)(t, e), Object.defineProperty(t.prototype, \"hasRenderTargetTextures\", {\n        get: function get() {\n          return !0;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"useLogarithmicDepth\", {\n        get: function get() {\n          return this._useLogarithmicDepth;\n        },\n        set: function set(e) {\n          this._useLogarithmicDepth = e && this.getScene().getEngine().getCaps().fragmentDepthSupported, this._markAllSubMeshesAsMiscDirty();\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"refractionTexture\", {\n        get: function get() {\n          return this._refractionRTT;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), Object.defineProperty(t.prototype, \"reflectionTexture\", {\n        get: function get() {\n          return this._reflectionRTT;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.addToRenderList = function (e) {\n        this._refractionRTT && this._refractionRTT.renderList && this._refractionRTT.renderList.push(e), this._reflectionRTT && this._reflectionRTT.renderList && this._reflectionRTT.renderList.push(e);\n      }, t.prototype.enableRenderTargets = function (e) {\n        var t = e ? 1 : 0;\n        this._refractionRTT && (this._refractionRTT.refreshRate = t), this._reflectionRTT && (this._reflectionRTT.refreshRate = t);\n      }, t.prototype.getRenderList = function () {\n        return this._refractionRTT ? this._refractionRTT.renderList : [];\n      }, Object.defineProperty(t.prototype, \"renderTargetsEnabled\", {\n        get: function get() {\n          return !(this._refractionRTT && 0 === this._refractionRTT.refreshRate);\n        },\n        enumerable: !1,\n        configurable: !0\n      }), t.prototype.needAlphaBlending = function () {\n        return this.alpha < 1;\n      }, t.prototype.needAlphaTesting = function () {\n        return !1;\n      }, t.prototype.getAlphaTestTexture = function () {\n        return null;\n      }, t.prototype.isReadyForSubMesh = function (e, t, i) {\n        if (this.isFrozen && t.effect && t.effect._wasPreviouslyReady) return !0;\n        t._materialDefines || (t._materialDefines = new s());\n        var n = t._materialDefines,\n            o = this.getScene();\n        if (this._isReadyForSubMesh(t)) return !0;\n        var a = o.getEngine();\n\n        if (n._areTexturesDirty && (n._needUVs = !1, o.texturesEnabled)) {\n          if (this.bumpTexture && r.MaterialFlags.BumpTextureEnabled) {\n            if (!this.bumpTexture.isReady()) return !1;\n            n._needUVs = !0, n.BUMP = !0;\n          }\n\n          r.MaterialFlags.ReflectionTextureEnabled && (n.REFLECTION = !0);\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForFrameBoundValues(o, a, n, !!i), r.MaterialHelper.PrepareDefinesForMisc(e, o, this._useLogarithmicDepth, this.pointsCloud, this.fogEnabled, this._shouldTurnAlphaTestOn(e), n), n._areMiscDirty && (this._fresnelSeparate && (n.FRESNELSEPARATE = !0), this._bumpSuperimpose && (n.BUMPSUPERIMPOSE = !0), this._bumpAffectsReflection && (n.BUMPAFFECTSREFLECTION = !0)), n._needNormals = r.MaterialHelper.PrepareDefinesForLights(o, e, n, !0, this._maxSimultaneousLights, this._disableLighting), n._areImageProcessingDirty && this._imageProcessingConfiguration) {\n          if (!this._imageProcessingConfiguration.isReady()) return !1;\n          this._imageProcessingConfiguration.prepareDefines(n), n.IS_REFLECTION_LINEAR = null != this.reflectionTexture && !this.reflectionTexture.gammaSpace, n.IS_REFRACTION_LINEAR = null != this.refractionTexture && !this.refractionTexture.gammaSpace;\n        }\n\n        if (r.MaterialHelper.PrepareDefinesForAttributes(e, n, !0, !0), this._mesh = e, this._waitingRenderList) {\n          for (var f = 0; f < this._waitingRenderList.length; f++) {\n            this.addToRenderList(o.getNodeByID(this._waitingRenderList[f]));\n          }\n\n          this._waitingRenderList = null;\n        }\n\n        if (n.isDirty) {\n          n.markAsProcessed(), o.resetCachedMaterial();\n          var l = new r.EffectFallbacks();\n          n.FOG && l.addFallback(1, \"FOG\"), n.LOGARITHMICDEPTH && l.addFallback(0, \"LOGARITHMICDEPTH\"), r.MaterialHelper.HandleFallbacksForShadows(n, l, this.maxSimultaneousLights), n.NUM_BONE_INFLUENCERS > 0 && l.addCPUSkinningFallback(0, e);\n          var u = [r.VertexBuffer.PositionKind];\n          n.NORMAL && u.push(r.VertexBuffer.NormalKind), n.UV1 && u.push(r.VertexBuffer.UVKind), n.UV2 && u.push(r.VertexBuffer.UV2Kind), n.VERTEXCOLOR && u.push(r.VertexBuffer.ColorKind), r.MaterialHelper.PrepareAttributesForBones(u, e, n, l), r.MaterialHelper.PrepareAttributesForInstances(u, n);\n          var c = n.toString(),\n              d = [\"world\", \"view\", \"viewProjection\", \"vEyePosition\", \"vLightsType\", \"vDiffuseColor\", \"vSpecularColor\", \"vFogInfos\", \"vFogColor\", \"pointSize\", \"vNormalInfos\", \"mBones\", \"vClipPlane\", \"vClipPlane2\", \"vClipPlane3\", \"vClipPlane4\", \"vClipPlane5\", \"vClipPlane6\", \"normalMatrix\", \"logarithmicDepthConstant\", \"worldReflectionViewProjection\", \"windDirection\", \"waveLength\", \"time\", \"windForce\", \"cameraPosition\", \"bumpHeight\", \"waveHeight\", \"waterColor\", \"waterColor2\", \"colorBlendFactor\", \"colorBlendFactor2\", \"waveSpeed\", \"waveCount\"],\n              p = [\"normalSampler\", \"refractionSampler\", \"reflectionSampler\"],\n              h = new Array();\n          r.ImageProcessingConfiguration && (r.ImageProcessingConfiguration.PrepareUniforms(d, n), r.ImageProcessingConfiguration.PrepareSamplers(p, n)), r.MaterialHelper.PrepareUniformsAndSamplersList({\n            uniformsNames: d,\n            uniformBuffersNames: h,\n            samplers: p,\n            defines: n,\n            maxSimultaneousLights: this.maxSimultaneousLights\n          }), t.setEffect(o.getEngine().createEffect(\"water\", {\n            attributes: u,\n            uniformsNames: d,\n            uniformBuffersNames: h,\n            samplers: p,\n            defines: c,\n            fallbacks: l,\n            onCompiled: this.onCompiled,\n            onError: this.onError,\n            indexParameters: {\n              maxSimultaneousLights: this._maxSimultaneousLights\n            }\n          }, a), n);\n        }\n\n        return !(!t.effect || !t.effect.isReady()) && (n._renderId = o.getRenderId(), t.effect._wasPreviouslyReady = !0, !0);\n      }, t.prototype.bindForSubMesh = function (e, t, i) {\n        var n = this.getScene(),\n            o = i._materialDefines;\n\n        if (o) {\n          var a = i.effect;\n\n          if (a && this._mesh) {\n            this._activeEffect = a, this.bindOnlyWorldMatrix(e), this._activeEffect.setMatrix(\"viewProjection\", n.getTransformMatrix()), r.MaterialHelper.BindBonesParameters(t, this._activeEffect), this._mustRebind(n, a) && (this.bumpTexture && r.MaterialFlags.BumpTextureEnabled && (this._activeEffect.setTexture(\"normalSampler\", this.bumpTexture), this._activeEffect.setFloat2(\"vNormalInfos\", this.bumpTexture.coordinatesIndex, this.bumpTexture.level), this._activeEffect.setMatrix(\"normalMatrix\", this.bumpTexture.getTextureMatrix())), r.MaterialHelper.BindClipPlane(this._activeEffect, n), this.pointsCloud && this._activeEffect.setFloat(\"pointSize\", this.pointSize), r.MaterialHelper.BindEyePosition(a, n)), this._activeEffect.setColor4(\"vDiffuseColor\", this.diffuseColor, this.alpha * t.visibility), o.SPECULARTERM && this._activeEffect.setColor4(\"vSpecularColor\", this.specularColor, this.specularPower), n.lightsEnabled && !this.disableLighting && r.MaterialHelper.BindLights(n, t, this._activeEffect, o, this.maxSimultaneousLights), n.fogEnabled && t.applyFog && n.fogMode !== r.Scene.FOGMODE_NONE && this._activeEffect.setMatrix(\"view\", n.getViewMatrix()), r.MaterialHelper.BindFogParameters(n, t, this._activeEffect), r.MaterialHelper.BindLogDepth(o, this._activeEffect, n), r.MaterialFlags.ReflectionTextureEnabled && (this._activeEffect.setTexture(\"refractionSampler\", this._refractionRTT), this._activeEffect.setTexture(\"reflectionSampler\", this._reflectionRTT));\n\n            var s = this._mesh.getWorldMatrix().multiply(this._reflectionTransform).multiply(n.getProjectionMatrix()),\n                f = n.getEngine().getDeltaTime();\n\n            f !== this._lastDeltaTime && (this._lastDeltaTime = f, this._lastTime += this._lastDeltaTime), this._activeEffect.setMatrix(\"worldReflectionViewProjection\", s), this._activeEffect.setVector2(\"windDirection\", this.windDirection), this._activeEffect.setFloat(\"waveLength\", this.waveLength), this._activeEffect.setFloat(\"time\", this._lastTime / 1e5), this._activeEffect.setFloat(\"windForce\", this.windForce), this._activeEffect.setFloat(\"waveHeight\", this.waveHeight), this._activeEffect.setFloat(\"bumpHeight\", this.bumpHeight), this._activeEffect.setColor4(\"waterColor\", this.waterColor, 1), this._activeEffect.setFloat(\"colorBlendFactor\", this.colorBlendFactor), this._activeEffect.setColor4(\"waterColor2\", this.waterColor2, 1), this._activeEffect.setFloat(\"colorBlendFactor2\", this.colorBlendFactor2), this._activeEffect.setFloat(\"waveSpeed\", this.waveSpeed), this._activeEffect.setFloat(\"waveCount\", this.waveCount), this._imageProcessingConfiguration && !this._imageProcessingConfiguration.applyByPostProcess && this._imageProcessingConfiguration.bind(this._activeEffect), this._afterBind(t, this._activeEffect);\n          }\n        }\n      }, t.prototype._createRenderTargets = function (e, t) {\n        var i,\n            n = this;\n        this._refractionRTT = new r.RenderTargetTexture(name + \"_refraction\", {\n          width: t.x,\n          height: t.y\n        }, e, !1, !0), this._refractionRTT.wrapU = r.Constants.TEXTURE_MIRROR_ADDRESSMODE, this._refractionRTT.wrapV = r.Constants.TEXTURE_MIRROR_ADDRESSMODE, this._refractionRTT.ignoreCameraViewport = !0, this._reflectionRTT = new r.RenderTargetTexture(name + \"_reflection\", {\n          width: t.x,\n          height: t.y\n        }, e, !1, !0), this._reflectionRTT.wrapU = r.Constants.TEXTURE_MIRROR_ADDRESSMODE, this._reflectionRTT.wrapV = r.Constants.TEXTURE_MIRROR_ADDRESSMODE, this._reflectionRTT.ignoreCameraViewport = !0;\n        var o,\n            a = null,\n            s = r.Matrix.Zero();\n        this._refractionRTT.onBeforeRender = function () {\n          if (n._mesh && (i = n._mesh.isVisible, n._mesh.isVisible = !1), !n.disableClipPlane) {\n            a = e.clipPlane;\n            var t = n._mesh ? n._mesh.position.y : 0;\n            e.clipPlane = r.Plane.FromPositionAndNormal(new r.Vector3(0, t + .05, 0), new r.Vector3(0, 1, 0));\n          }\n        }, this._refractionRTT.onAfterRender = function () {\n          n._mesh && (n._mesh.isVisible = i), n.disableClipPlane || (e.clipPlane = a);\n        }, this._reflectionRTT.onBeforeRender = function () {\n          if (n._mesh && (i = n._mesh.isVisible, n._mesh.isVisible = !1), !n.disableClipPlane) {\n            a = e.clipPlane;\n            var t = n._mesh ? n._mesh.position.y : 0;\n            e.clipPlane = r.Plane.FromPositionAndNormal(new r.Vector3(0, t - .05, 0), new r.Vector3(0, -1, 0)), r.Matrix.ReflectionToRef(e.clipPlane, s);\n          }\n\n          o = e.getViewMatrix(), s.multiplyToRef(o, n._reflectionTransform), e.setTransformMatrix(n._reflectionTransform, e.getProjectionMatrix()), e.getEngine().cullBackFaces = !1, e._mirroredCameraPosition = r.Vector3.TransformCoordinates(e.activeCamera.position, s);\n        }, this._reflectionRTT.onAfterRender = function () {\n          n._mesh && (n._mesh.isVisible = i), e.clipPlane = a, e.setTransformMatrix(o, e.getProjectionMatrix()), e.getEngine().cullBackFaces = !0, e._mirroredCameraPosition = null;\n        };\n      }, t.prototype.getAnimatables = function () {\n        var e = [];\n        return this.bumpTexture && this.bumpTexture.animations && this.bumpTexture.animations.length > 0 && e.push(this.bumpTexture), this._reflectionRTT && this._reflectionRTT.animations && this._reflectionRTT.animations.length > 0 && e.push(this._reflectionRTT), this._refractionRTT && this._refractionRTT.animations && this._refractionRTT.animations.length > 0 && e.push(this._refractionRTT), e;\n      }, t.prototype.getActiveTextures = function () {\n        var t = e.prototype.getActiveTextures.call(this);\n        return this._bumpTexture && t.push(this._bumpTexture), t;\n      }, t.prototype.hasTexture = function (t) {\n        return !!e.prototype.hasTexture.call(this, t) || this._bumpTexture === t;\n      }, t.prototype.dispose = function (t) {\n        this.bumpTexture && this.bumpTexture.dispose();\n        var i = this.getScene().customRenderTargets.indexOf(this._refractionRTT);\n        -1 != i && this.getScene().customRenderTargets.splice(i, 1), i = -1, -1 != (i = this.getScene().customRenderTargets.indexOf(this._reflectionRTT)) && this.getScene().customRenderTargets.splice(i, 1), this._reflectionRTT && this._reflectionRTT.dispose(), this._refractionRTT && this._refractionRTT.dispose(), this._imageProcessingConfiguration && this._imageProcessingObserver && this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver), e.prototype.dispose.call(this, t);\n      }, t.prototype.clone = function (e) {\n        var i = this;\n        return r.SerializationHelper.Clone(function () {\n          return new t(e, i.getScene());\n        }, this);\n      }, t.prototype.serialize = function () {\n        var e = r.SerializationHelper.Serialize(this);\n        if (e.customType = \"BABYLON.WaterMaterial\", e.renderList = [], this._refractionRTT && this._refractionRTT.renderList) for (var t = 0; t < this._refractionRTT.renderList.length; t++) {\n          e.renderList.push(this._refractionRTT.renderList[t].id);\n        }\n        return e;\n      }, t.prototype.getClassName = function () {\n        return \"WaterMaterial\";\n      }, t.Parse = function (e, i, n) {\n        var o = r.SerializationHelper.Parse(function () {\n          return new t(e.name, i);\n        }, e, i, n);\n        return o._waitingRenderList = e.renderList, o;\n      }, t.CreateDefaultMesh = function (e, t) {\n        return r.Mesh.CreateGround(e, 512, 512, 32, t, !1);\n      }, Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture\")], t.prototype, \"_bumpTexture\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")], t.prototype, \"bumpTexture\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"diffuseColor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"specularColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"specularPower\", void 0), Object(n.a)([Object(r.serialize)(\"disableLighting\")], t.prototype, \"_disableLighting\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"disableLighting\", void 0), Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")], t.prototype, \"_maxSimultaneousLights\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")], t.prototype, \"maxSimultaneousLights\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"windForce\", void 0), Object(n.a)([Object(r.serializeAsVector2)()], t.prototype, \"windDirection\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"waveHeight\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"bumpHeight\", void 0), Object(n.a)([Object(r.serialize)(\"bumpSuperimpose\")], t.prototype, \"_bumpSuperimpose\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")], t.prototype, \"bumpSuperimpose\", void 0), Object(n.a)([Object(r.serialize)(\"fresnelSeparate\")], t.prototype, \"_fresnelSeparate\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")], t.prototype, \"fresnelSeparate\", void 0), Object(n.a)([Object(r.serialize)(\"bumpAffectsReflection\")], t.prototype, \"_bumpAffectsReflection\", void 0), Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")], t.prototype, \"bumpAffectsReflection\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"waterColor\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"colorBlendFactor\", void 0), Object(n.a)([Object(r.serializeAsColor3)()], t.prototype, \"waterColor2\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"colorBlendFactor2\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"waveLength\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"waveSpeed\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"waveCount\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"disableClipPlane\", void 0), Object(n.a)([Object(r.serialize)()], t.prototype, \"useLogarithmicDepth\", null), t;\n    }(r.PushMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.WaterMaterial\"] = f;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), i.d(t, \"CustomShaderStructure\", function () {\n      return o;\n    }), i.d(t, \"ShaderSpecialParts\", function () {\n      return a;\n    }), i.d(t, \"CustomMaterial\", function () {\n      return s;\n    }), i.d(t, \"ShaderAlebdoParts\", function () {\n      return f;\n    }), i.d(t, \"PBRCustomMaterial\", function () {\n      return l;\n    });\n\n    var n = i(1),\n        r = i(0),\n        o = function o() {},\n        a = function a() {},\n        s = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.CustomParts = new a(), n.customShaderNameResolve = n.Builder, n.FragmentShader = r.Effect.ShadersStore.defaultPixelShader, n.VertexShader = r.Effect.ShadersStore.defaultVertexShader, n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.AttachAfterBind = function (e, t) {\n        if (this._newUniformInstances) for (var i in this._newUniformInstances) {\n          \"vec2\" == (n = i.toString().split(\"-\"))[0] ? t.setVector2(n[1], this._newUniformInstances[i]) : \"vec3\" == n[0] ? t.setVector3(n[1], this._newUniformInstances[i]) : \"vec4\" == n[0] ? t.setVector4(n[1], this._newUniformInstances[i]) : \"mat4\" == n[0] ? t.setMatrix(n[1], this._newUniformInstances[i]) : \"float\" == n[0] && t.setFloat(n[1], this._newUniformInstances[i]);\n        }\n        if (this._newSamplerInstances) for (var i in this._newSamplerInstances) {\n          var n;\n          \"sampler2D\" == (n = i.toString().split(\"-\"))[0] && this._newSamplerInstances[i].isReady && this._newSamplerInstances[i].isReady() && t.setTexture(n[1], this._newSamplerInstances[i]);\n        }\n      }, t.prototype.ReviewUniform = function (e, t) {\n        if (\"uniform\" == e && this._newUniforms) for (var i = 0; i < this._newUniforms.length; i++) {\n          -1 == this._customUniform[i].indexOf(\"sampler\") && t.push(this._newUniforms[i]);\n        }\n        if (\"sampler\" == e && this._newUniforms) for (i = 0; i < this._newUniforms.length; i++) {\n          -1 != this._customUniform[i].indexOf(\"sampler\") && t.push(this._newUniforms[i]);\n        }\n        return t;\n      }, t.prototype.Builder = function (e, i, n, o, a, s) {\n        var f = this;\n        if (s && this._customAttributes && this._customAttributes.length > 0 && s.push.apply(s, this._customAttributes), this.ReviewUniform(\"uniform\", i), this.ReviewUniform(\"sampler\", o), this._isCreatedShader) return this._createdShaderName;\n        this._isCreatedShader = !1, t.ShaderIndexer++;\n\n        var l = \"custom_\" + t.ShaderIndexer,\n            u = this._afterBind.bind(this);\n\n        return this._afterBind = function (e, t) {\n          if (t) {\n            f.AttachAfterBind(e, t);\n\n            try {\n              u(e, t);\n            } catch (t) {}\n          }\n        }, r.Effect.ShadersStore[l + \"VertexShader\"] = this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\", this.CustomParts.Vertex_Begin ? this.CustomParts.Vertex_Begin : \"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Vertex_Definitions ? this.CustomParts.Vertex_Definitions : \"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\", this.CustomParts.Vertex_MainBegin ? this.CustomParts.Vertex_MainBegin : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\", this.CustomParts.Vertex_Before_PositionUpdated ? this.CustomParts.Vertex_Before_PositionUpdated : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\", this.CustomParts.Vertex_Before_NormalUpdated ? this.CustomParts.Vertex_Before_NormalUpdated : \"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\", this.CustomParts.Vertex_MainEnd ? this.CustomParts.Vertex_MainEnd : \"\"), this.CustomParts.Vertex_After_WorldPosComputed && (r.Effect.ShadersStore[l + \"VertexShader\"] = r.Effect.ShadersStore[l + \"VertexShader\"].replace(\"#define CUSTOM_VERTEX_UPDATE_WORLDPOS\", this.CustomParts.Vertex_After_WorldPosComputed)), r.Effect.ShadersStore[l + \"PixelShader\"] = this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\", this.CustomParts.Fragment_Begin ? this.CustomParts.Fragment_Begin : \"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\", this.CustomParts.Fragment_MainBegin ? this.CustomParts.Fragment_MainBegin : \"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Fragment_Definitions ? this.CustomParts.Fragment_Definitions : \"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\", this.CustomParts.Fragment_Custom_Diffuse ? this.CustomParts.Fragment_Custom_Diffuse : \"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\", this.CustomParts.Fragment_Custom_Alpha ? this.CustomParts.Fragment_Custom_Alpha : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\", this.CustomParts.Fragment_Before_Lights ? this.CustomParts.Fragment_Before_Lights : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\", this.CustomParts.Fragment_Before_FragColor ? this.CustomParts.Fragment_Before_FragColor : \"\"), this.CustomParts.Fragment_Before_Fog && (r.Effect.ShadersStore[l + \"PixelShader\"] = r.Effect.ShadersStore[l + \"PixelShader\"].replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\", this.CustomParts.Fragment_Before_Fog)), this._isCreatedShader = !0, this._createdShaderName = l, l;\n      }, t.prototype.AddUniform = function (e, t, i) {\n        return this._customUniform || (this._customUniform = new Array(), this._newUniforms = new Array(), this._newSamplerInstances = {}, this._newUniformInstances = {}), i && (-1 != t.indexOf(\"sampler\") ? this._newSamplerInstances[t + \"-\" + e] = i : this._newUniformInstances[t + \"-\" + e] = i), this._customUniform.push(\"uniform \" + t + \" \" + e + \";\"), this._newUniforms.push(e), this;\n      }, t.prototype.AddAttribute = function (e) {\n        return this._customAttributes || (this._customAttributes = []), this._customAttributes.push(e), this;\n      }, t.prototype.Fragment_Begin = function (e) {\n        return this.CustomParts.Fragment_Begin = e, this;\n      }, t.prototype.Fragment_Definitions = function (e) {\n        return this.CustomParts.Fragment_Definitions = e, this;\n      }, t.prototype.Fragment_MainBegin = function (e) {\n        return this.CustomParts.Fragment_MainBegin = e, this;\n      }, t.prototype.Fragment_Custom_Diffuse = function (e) {\n        return this.CustomParts.Fragment_Custom_Diffuse = e.replace(\"result\", \"diffuseColor\"), this;\n      }, t.prototype.Fragment_Custom_Alpha = function (e) {\n        return this.CustomParts.Fragment_Custom_Alpha = e.replace(\"result\", \"alpha\"), this;\n      }, t.prototype.Fragment_Before_Lights = function (e) {\n        return this.CustomParts.Fragment_Before_Lights = e, this;\n      }, t.prototype.Fragment_Before_Fog = function (e) {\n        return this.CustomParts.Fragment_Before_Fog = e, this;\n      }, t.prototype.Fragment_Before_FragColor = function (e) {\n        return this.CustomParts.Fragment_Before_FragColor = e.replace(\"result\", \"color\"), this;\n      }, t.prototype.Vertex_Begin = function (e) {\n        return this.CustomParts.Vertex_Begin = e, this;\n      }, t.prototype.Vertex_Definitions = function (e) {\n        return this.CustomParts.Vertex_Definitions = e, this;\n      }, t.prototype.Vertex_MainBegin = function (e) {\n        return this.CustomParts.Vertex_MainBegin = e, this;\n      }, t.prototype.Vertex_Before_PositionUpdated = function (e) {\n        return this.CustomParts.Vertex_Before_PositionUpdated = e.replace(\"result\", \"positionUpdated\"), this;\n      }, t.prototype.Vertex_Before_NormalUpdated = function (e) {\n        return this.CustomParts.Vertex_Before_NormalUpdated = e.replace(\"result\", \"normalUpdated\"), this;\n      }, t.prototype.Vertex_After_WorldPosComputed = function (e) {\n        return this.CustomParts.Vertex_After_WorldPosComputed = e, this;\n      }, t.prototype.Vertex_MainEnd = function (e) {\n        return this.CustomParts.Vertex_MainEnd = e, this;\n      }, t.ShaderIndexer = 1, t;\n    }(r.StandardMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.CustomMaterial\"] = s;\n\n    var f = function f() {},\n        l = function (e) {\n      function t(t, i) {\n        var n = e.call(this, t, i) || this;\n        return n.CustomParts = new f(), n.customShaderNameResolve = n.Builder, n.FragmentShader = r.Effect.ShadersStore.pbrPixelShader, n.VertexShader = r.Effect.ShadersStore.pbrVertexShader, n.FragmentShader = n.FragmentShader.replace(/#include<pbrBlockAlbedoOpacity>/g, r.Effect.IncludesShadersStore.pbrBlockAlbedoOpacity), n.FragmentShader = n.FragmentShader.replace(/#include<pbrBlockReflectivity>/g, r.Effect.IncludesShadersStore.pbrBlockReflectivity), n.FragmentShader = n.FragmentShader.replace(/#include<pbrBlockFinalColorComposition>/g, r.Effect.IncludesShadersStore.pbrBlockFinalColorComposition), n;\n      }\n\n      return Object(n.b)(t, e), t.prototype.AttachAfterBind = function (e, t) {\n        if (this._newUniformInstances) for (var i in this._newUniformInstances) {\n          \"vec2\" == (n = i.toString().split(\"-\"))[0] ? t.setVector2(n[1], this._newUniformInstances[i]) : \"vec3\" == n[0] ? t.setVector3(n[1], this._newUniformInstances[i]) : \"vec4\" == n[0] ? t.setVector4(n[1], this._newUniformInstances[i]) : \"mat4\" == n[0] ? t.setMatrix(n[1], this._newUniformInstances[i]) : \"float\" == n[0] && t.setFloat(n[1], this._newUniformInstances[i]);\n        }\n        if (this._newSamplerInstances) for (var i in this._newSamplerInstances) {\n          var n;\n          \"sampler2D\" == (n = i.toString().split(\"-\"))[0] && this._newSamplerInstances[i].isReady && this._newSamplerInstances[i].isReady() && t.setTexture(n[1], this._newSamplerInstances[i]);\n        }\n      }, t.prototype.ReviewUniform = function (e, t) {\n        if (\"uniform\" == e && this._newUniforms) for (var i = 0; i < this._newUniforms.length; i++) {\n          -1 == this._customUniform[i].indexOf(\"sampler\") && t.push(this._newUniforms[i]);\n        }\n        if (\"sampler\" == e && this._newUniforms) for (i = 0; i < this._newUniforms.length; i++) {\n          -1 != this._customUniform[i].indexOf(\"sampler\") && t.push(this._newUniforms[i]);\n        }\n        return t;\n      }, t.prototype.Builder = function (e, i, n, o, a, s) {\n        var f = this;\n        if (s && this._customAttributes && this._customAttributes.length > 0 && s.push.apply(s, this._customAttributes), this.ReviewUniform(\"uniform\", i), this.ReviewUniform(\"sampler\", o), this._isCreatedShader) return this._createdShaderName;\n        this._isCreatedShader = !1, t.ShaderIndexer++;\n\n        var l = \"custom_\" + t.ShaderIndexer,\n            u = this._afterBind.bind(this);\n\n        return this._afterBind = function (e, t) {\n          if (t) {\n            f.AttachAfterBind(e, t);\n\n            try {\n              u(e, t);\n            } catch (t) {}\n          }\n        }, r.Effect.ShadersStore[l + \"VertexShader\"] = this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\", this.CustomParts.Vertex_Begin ? this.CustomParts.Vertex_Begin : \"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Vertex_Definitions ? this.CustomParts.Vertex_Definitions : \"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\", this.CustomParts.Vertex_MainBegin ? this.CustomParts.Vertex_MainBegin : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\", this.CustomParts.Vertex_Before_PositionUpdated ? this.CustomParts.Vertex_Before_PositionUpdated : \"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\", this.CustomParts.Vertex_Before_NormalUpdated ? this.CustomParts.Vertex_Before_NormalUpdated : \"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\", this.CustomParts.Vertex_MainEnd ? this.CustomParts.Vertex_MainEnd : \"\"), this.CustomParts.Vertex_After_WorldPosComputed && (r.Effect.ShadersStore[l + \"VertexShader\"] = r.Effect.ShadersStore[l + \"VertexShader\"].replace(\"#define CUSTOM_VERTEX_UPDATE_WORLDPOS\", this.CustomParts.Vertex_After_WorldPosComputed)), r.Effect.ShadersStore[l + \"PixelShader\"] = this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\", this.CustomParts.Fragment_Begin ? this.CustomParts.Fragment_Begin : \"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\", this.CustomParts.Fragment_MainBegin ? this.CustomParts.Fragment_MainBegin : \"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\", (this._customUniform ? this._customUniform.join(\"\\n\") : \"\") + (this.CustomParts.Fragment_Definitions ? this.CustomParts.Fragment_Definitions : \"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALBEDO\", this.CustomParts.Fragment_Custom_Albedo ? this.CustomParts.Fragment_Custom_Albedo : \"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\", this.CustomParts.Fragment_Custom_Alpha ? this.CustomParts.Fragment_Custom_Alpha : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\", this.CustomParts.Fragment_Before_Lights ? this.CustomParts.Fragment_Before_Lights : \"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_METALLICROUGHNESS\", this.CustomParts.Fragment_Custom_MetallicRoughness ? this.CustomParts.Fragment_Custom_MetallicRoughness : \"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_MICROSURFACE\", this.CustomParts.Fragment_Custom_MicroSurface ? this.CustomParts.Fragment_Custom_MicroSurface : \"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\", this.CustomParts.Fragment_Before_FragColor ? this.CustomParts.Fragment_Before_FragColor : \"\"), this.CustomParts.Fragment_Before_Fog && (r.Effect.ShadersStore[l + \"PixelShader\"] = r.Effect.ShadersStore[l + \"PixelShader\"].replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\", this.CustomParts.Fragment_Before_Fog)), this._isCreatedShader = !0, this._createdShaderName = l, l;\n      }, t.prototype.AddUniform = function (e, t, i) {\n        return this._customUniform || (this._customUniform = new Array(), this._newUniforms = new Array(), this._newSamplerInstances = {}, this._newUniformInstances = {}), i && (-1 != t.indexOf(\"sampler\") ? this._newSamplerInstances[t + \"-\" + e] = i : this._newUniformInstances[t + \"-\" + e] = i), this._customUniform.push(\"uniform \" + t + \" \" + e + \";\"), this._newUniforms.push(e), this;\n      }, t.prototype.AddAttribute = function (e) {\n        return this._customAttributes || (this._customAttributes = []), this._customAttributes.push(e), this;\n      }, t.prototype.Fragment_Begin = function (e) {\n        return this.CustomParts.Fragment_Begin = e, this;\n      }, t.prototype.Fragment_Definitions = function (e) {\n        return this.CustomParts.Fragment_Definitions = e, this;\n      }, t.prototype.Fragment_MainBegin = function (e) {\n        return this.CustomParts.Fragment_MainBegin = e, this;\n      }, t.prototype.Fragment_Custom_Albedo = function (e) {\n        return this.CustomParts.Fragment_Custom_Albedo = e.replace(\"result\", \"surfaceAlbedo\"), this;\n      }, t.prototype.Fragment_Custom_Alpha = function (e) {\n        return this.CustomParts.Fragment_Custom_Alpha = e.replace(\"result\", \"alpha\"), this;\n      }, t.prototype.Fragment_Before_Lights = function (e) {\n        return this.CustomParts.Fragment_Before_Lights = e, this;\n      }, t.prototype.Fragment_Custom_MetallicRoughness = function (e) {\n        return this.CustomParts.Fragment_Custom_MetallicRoughness = e, this;\n      }, t.prototype.Fragment_Custom_MicroSurface = function (e) {\n        return this.CustomParts.Fragment_Custom_MicroSurface = e, this;\n      }, t.prototype.Fragment_Before_Fog = function (e) {\n        return this.CustomParts.Fragment_Before_Fog = e, this;\n      }, t.prototype.Fragment_Before_FragColor = function (e) {\n        return this.CustomParts.Fragment_Before_FragColor = e.replace(\"result\", \"color\"), this;\n      }, t.prototype.Vertex_Begin = function (e) {\n        return this.CustomParts.Vertex_Begin = e, this;\n      }, t.prototype.Vertex_Definitions = function (e) {\n        return this.CustomParts.Vertex_Definitions = e, this;\n      }, t.prototype.Vertex_MainBegin = function (e) {\n        return this.CustomParts.Vertex_MainBegin = e, this;\n      }, t.prototype.Vertex_Before_PositionUpdated = function (e) {\n        return this.CustomParts.Vertex_Before_PositionUpdated = e.replace(\"result\", \"positionUpdated\"), this;\n      }, t.prototype.Vertex_Before_NormalUpdated = function (e) {\n        return this.CustomParts.Vertex_Before_NormalUpdated = e.replace(\"result\", \"normalUpdated\"), this;\n      }, t.prototype.Vertex_After_WorldPosComputed = function (e) {\n        return this.CustomParts.Vertex_After_WorldPosComputed = e, this;\n      }, t.prototype.Vertex_MainEnd = function (e) {\n        return this.CustomParts.Vertex_MainEnd = e, this;\n      }, t.ShaderIndexer = 1, t;\n    }(r.PBRMaterial);\n\n    r._TypeStore.RegisteredTypes[\"BABYLON.PBRCustomMaterial\"] = l;\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t);\n    var n = i(3);\n    i.d(t, \"CellMaterial\", function () {\n      return n.CellMaterial;\n    });\n    var r = i(17);\n    i.d(t, \"CustomShaderStructure\", function () {\n      return r.CustomShaderStructure;\n    }), i.d(t, \"ShaderSpecialParts\", function () {\n      return r.ShaderSpecialParts;\n    }), i.d(t, \"CustomMaterial\", function () {\n      return r.CustomMaterial;\n    }), i.d(t, \"ShaderAlebdoParts\", function () {\n      return r.ShaderAlebdoParts;\n    }), i.d(t, \"PBRCustomMaterial\", function () {\n      return r.PBRCustomMaterial;\n    });\n    var o = i(4);\n    i.d(t, \"FireMaterial\", function () {\n      return o.FireMaterial;\n    });\n    var a = i(5);\n    i.d(t, \"FurMaterial\", function () {\n      return a.FurMaterial;\n    });\n    var s = i(6);\n    i.d(t, \"GradientMaterial\", function () {\n      return s.GradientMaterial;\n    });\n    var f = i(7);\n    i.d(t, \"GridMaterial\", function () {\n      return f.GridMaterial;\n    });\n    var l = i(8);\n    i.d(t, \"LavaMaterial\", function () {\n      return l.LavaMaterial;\n    });\n    var u = i(9);\n    i.d(t, \"MixMaterial\", function () {\n      return u.MixMaterial;\n    });\n    var c = i(10);\n    i.d(t, \"NormalMaterial\", function () {\n      return c.NormalMaterial;\n    });\n    var d = i(11);\n    i.d(t, \"ShadowOnlyMaterial\", function () {\n      return d.ShadowOnlyMaterial;\n    });\n    var p = i(12);\n    i.d(t, \"SimpleMaterial\", function () {\n      return p.SimpleMaterial;\n    });\n    var h = i(13);\n    i.d(t, \"SkyMaterial\", function () {\n      return h.SkyMaterial;\n    });\n    var v = i(14);\n    i.d(t, \"TerrainMaterial\", function () {\n      return v.TerrainMaterial;\n    });\n    var m = i(15);\n    i.d(t, \"TriPlanarMaterial\", function () {\n      return m.TriPlanarMaterial;\n    });\n    var g = i(16);\n    i.d(t, \"WaterMaterial\", function () {\n      return g.WaterMaterial;\n    });\n  }, function (e, t, i) {\n    \"use strict\";\n\n    i.r(t), function (e) {\n      var n = i(18);\n      i.d(t, \"CellMaterial\", function () {\n        return n.CellMaterial;\n      }), i.d(t, \"CustomShaderStructure\", function () {\n        return n.CustomShaderStructure;\n      }), i.d(t, \"ShaderSpecialParts\", function () {\n        return n.ShaderSpecialParts;\n      }), i.d(t, \"CustomMaterial\", function () {\n        return n.CustomMaterial;\n      }), i.d(t, \"ShaderAlebdoParts\", function () {\n        return n.ShaderAlebdoParts;\n      }), i.d(t, \"PBRCustomMaterial\", function () {\n        return n.PBRCustomMaterial;\n      }), i.d(t, \"FireMaterial\", function () {\n        return n.FireMaterial;\n      }), i.d(t, \"FurMaterial\", function () {\n        return n.FurMaterial;\n      }), i.d(t, \"GradientMaterial\", function () {\n        return n.GradientMaterial;\n      }), i.d(t, \"GridMaterial\", function () {\n        return n.GridMaterial;\n      }), i.d(t, \"LavaMaterial\", function () {\n        return n.LavaMaterial;\n      }), i.d(t, \"MixMaterial\", function () {\n        return n.MixMaterial;\n      }), i.d(t, \"NormalMaterial\", function () {\n        return n.NormalMaterial;\n      }), i.d(t, \"ShadowOnlyMaterial\", function () {\n        return n.ShadowOnlyMaterial;\n      }), i.d(t, \"SimpleMaterial\", function () {\n        return n.SimpleMaterial;\n      }), i.d(t, \"SkyMaterial\", function () {\n        return n.SkyMaterial;\n      }), i.d(t, \"TerrainMaterial\", function () {\n        return n.TerrainMaterial;\n      }), i.d(t, \"TriPlanarMaterial\", function () {\n        return n.TriPlanarMaterial;\n      }), i.d(t, \"WaterMaterial\", function () {\n        return n.WaterMaterial;\n      });\n      var r = void 0 !== e ? e : \"undefined\" != typeof window ? window : void 0;\n      if (void 0 !== r) for (var o in r.BABYLON = r.BABYLON || {}, n) {\n        r.BABYLON[o] = n[o];\n      }\n    }.call(this, i(2));\n  }]);\n});","map":{"version":3,"sources":["D:/collection/PROJECT`s/JAPAN/8863074498439810063enhancementv7/node_modules/babylonjs-materials/babylonjs.materials.min.js"],"names":["e","t","exports","module","require","define","amd","MATERIALS","BABYLON","self","global","i","n","r","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","setPrototypeOf","__proto__","Array","constructor","arguments","length","a","getOwnPropertyDescriptor","Reflect","decorate","Function","window","f","Effect","ShadersStore","cellPixelShader","cellVertexShader","DIFFUSE","CLIPPLANE","CLIPPLANE2","CLIPPLANE3","CLIPPLANE4","CLIPPLANE5","CLIPPLANE6","ALPHATEST","POINTSIZE","FOG","NORMAL","UV1","UV2","VERTEXCOLOR","VERTEXALPHA","NUM_BONE_INFLUENCERS","BonesPerMesh","INSTANCES","NDOTL","CUSTOMUSERLIGHTING","CELLBASIC","DEPTHPREPASS","IMAGEPROCESSINGPOSTPROCESS","rebuild","b","MaterialDefines","diffuseColor","Color3","_computeHighLevel","_disableLighting","_maxSimultaneousLights","needAlphaBlending","alpha","needAlphaTesting","getAlphaTestTexture","isReadyForSubMesh","isFrozen","effect","_wasPreviouslyReady","_materialDefines","getScene","_isReadyForSubMesh","getEngine","_areTexturesDirty","_needUVs","texturesEnabled","_diffuseTexture","MaterialFlags","DiffuseTextureEnabled","isReady","computeHighLevel","MaterialHelper","PrepareDefinesForMisc","pointsCloud","fogEnabled","_shouldTurnAlphaTestOn","_needNormals","PrepareDefinesForLights","PrepareDefinesForFrameBoundValues","PrepareDefinesForAttributes","isDirty","markAsProcessed","resetCachedMaterial","EffectFallbacks","addFallback","HandleFallbacksForShadows","maxSimultaneousLights","addCPUSkinningFallback","imageProcessingConfiguration","applyByPostProcess","VertexBuffer","PositionKind","push","NormalKind","UVKind","UV2Kind","ColorKind","PrepareAttributesForBones","PrepareAttributesForInstances","u","toString","PrepareUniformsAndSamplersList","uniformsNames","uniformBuffersNames","samplers","defines","setEffect","createEffect","attributes","fallbacks","onCompiled","onError","indexParameters","_renderId","getRenderId","bindForSubMesh","_activeEffect","bindOnlyWorldMatrix","setMatrix","getTransformMatrix","BindBonesParameters","_mustRebind","setTexture","setFloat2","coordinatesIndex","level","getTextureMatrix","BindClipPlane","setFloat","pointSize","BindEyePosition","setColor4","visibility","lightsEnabled","disableLighting","BindLights","applyFog","fogMode","Scene","FOGMODE_NONE","getViewMatrix","BindFogParameters","_afterBind","getAnimatables","animations","getActiveTextures","hasTexture","dispose","getClassName","clone","SerializationHelper","Clone","serialize","Serialize","customType","Parse","name","serializeAsTexture","expandToProperty","serializeAsColor3","PushMaterial","_TypeStore","RegisteredTypes","firePixelShader","fireVertexShader","speed","_scaledDiffuse","_lastTime","_opacityTexture","_areMiscDirty","forcePointsCloud","transformFeedbackVaryings","_distortionTexture","getDeltaTime","asArray","FromArray","id","Tags","AddTagsTo","tags","backFaceCulling","wireframe","Texture","furPixelShader","furVertexShader","HEIGHTMAP","HIGHLEVEL","furLength","furAngle","furColor","furOffset","furSpacing","furGravity","Vector3","furSpeed","furDensity","furOcclusion","highLevelFur","_furTime","set","configurable","updateFur","_meshes","material","diffuseTexture","furTexture","furTime","heightTexture","getCaps","maxVertexTextureImageUnits","markAsUnprocessed","getCachedMaterial","_heightTexture","setVector3","sourceMeshName","quality","executeWhenReady","getMeshByName","GenerateTexture","FurifyMesh","DynamicTexture","getContext","fillStyle","Math","floor","random","fillRect","getSize","width","height","update","wrapU","WRAP_ADDRESSMODE","wrapV","materials","pop","EnableFor","skeleton","position","Zero","parent","serializeAsVector3","gradientPixelShader","gradientVertexShader","EMISSIVE","topColor","topColorAlpha","bottomColor","bottomColorAlpha","offset","scale","smoothness","gridPixelShader","gridVertexShader","OPACITY","TRANSPARENT","PREMULTIPLYALPHA","THIN_INSTANCES","mainColor","Black","lineColor","Teal","gridRatio","gridOffset","majorUnitFrequency","minorUnitVisibility","opacity","preMultiplyAlpha","_gridControl","Vector4","needAlphaBlendingForMesh","OpacityTextureEnabled","THIN_INSTANCE","getProjectionMatrix","setColor3","x","y","round","z","w","setVector4","lavaPixelShader","lavaVertexShader","LIGHT0","LIGHT1","LIGHT2","LIGHT3","SPOTLIGHT0","SPOTLIGHT1","SPOTLIGHT2","SPOTLIGHT3","HEMILIGHT0","HEMILIGHT1","HEMILIGHT2","HEMILIGHT3","DIRLIGHT0","DIRLIGHT1","DIRLIGHT2","DIRLIGHT3","POINTLIGHT0","POINTLIGHT1","POINTLIGHT2","POINTLIGHT3","SHADOW0","SHADOW1","SHADOW2","SHADOW3","SHADOWS","SHADOWESM0","SHADOWESM1","SHADOWESM2","SHADOWESM3","SHADOWPOISSON0","SHADOWPOISSON1","SHADOWPOISSON2","SHADOWPOISSON3","SHADOWPCF0","SHADOWPCF1","SHADOWPCF2","SHADOWPCF3","SHADOWPCSS0","SHADOWPCSS1","SHADOWPCSS2","SHADOWPCSS3","UNLIT","movingSpeed","lowFrequencySpeed","fogDensity","_unlit","noiseTexture","fogColor","mixPixelShader","mixVertexShader","SPECULARTERM","MIXMAP2","specularColor","specularPower","_mixTexture1","_diffuseTexture1","_diffuseTexture2","_diffuseTexture3","_diffuseTexture4","_mixTexture2","_diffuseTexture5","_diffuseTexture6","_diffuseTexture7","_diffuseTexture8","uScale","vScale","normalPixelShader","normalVertexShader","LIGHTING","shadowOnlyPixelShader","shadowOnlyVertexShader","_needAlphaBlending","shadowColor","_activeLight","_getFirstShadowLightForMesh","lightSources","shadowEnabled","indexOf","splice","getShadowGenerator","h","autoCalcDepthBounds","v","g","T","_","SHADOWCSM0","simplePixelShader","simpleVertexShader","skyPixelShader","skyVertexShader","luminance","turbidity","rayleigh","mieCoefficient","mieDirectionalG","distance","inclination","azimuth","sunPosition","useSunPosition","cameraOffset","_cameraPosition","activeCamera","getWorldMatrix","PI","cos","sin","terrainPixelShader","terrainVertexShader","BUMP","mixTexture","diffuseTexture1","diffuseTexture2","diffuseTexture3","bumpTexture1","bumpTexture2","bumpTexture3","BumpTextureEnabled","_mixTexture","standardDerivatives","_bumpTexture1","_bumpTexture2","_bumpTexture3","triplanarPixelShader","triplanarVertexShader","DIFFUSEX","DIFFUSEY","DIFFUSEZ","BUMPX","BUMPY","BUMPZ","tileSize","diffuseTextureX","diffuseTextureY","diffuseTextureZ","normalTextureX","normalTextureY","normalTextureZ","_diffuseTextureX","_diffuseTextureY","_diffuseTextureZ","_normalTextureX","_normalTextureY","_normalTextureZ","waterPixelShader","waterVertexShader","REFLECTION","LOGARITHMICDEPTH","FRESNELSEPARATE","BUMPSUPERIMPOSE","BUMPAFFECTSREFLECTION","IMAGEPROCESSING","VIGNETTE","VIGNETTEBLENDMODEMULTIPLY","VIGNETTEBLENDMODEOPAQUE","TONEMAPPING","TONEMAPPING_ACES","CONTRAST","EXPOSURE","COLORCURVES","COLORGRADING","COLORGRADING3D","SAMPLER3DGREENDEPTH","SAMPLER3DBGRMAP","Vector2","renderTargetSize","windForce","windDirection","waveHeight","bumpHeight","_bumpSuperimpose","_fresnelSeparate","_bumpAffectsReflection","waterColor","colorBlendFactor","waterColor2","colorBlendFactor2","waveLength","waveSpeed","waveCount","disableClipPlane","_renderTargets","SmartArray","_mesh","_reflectionTransform","Matrix","_lastDeltaTime","_createRenderTargets","getRenderTargetTextures","reset","_reflectionRTT","_refractionRTT","_imageProcessingConfiguration","_imageProcessingObserver","onUpdateParameters","add","_markAllSubMeshesAsImageProcessingDirty","_useLogarithmicDepth","fragmentDepthSupported","_markAllSubMeshesAsMiscDirty","addToRenderList","renderList","enableRenderTargets","refreshRate","getRenderList","bumpTexture","ReflectionTextureEnabled","_areImageProcessingDirty","prepareDefines","IS_REFLECTION_LINEAR","reflectionTexture","gammaSpace","IS_REFRACTION_LINEAR","refractionTexture","_waitingRenderList","getNodeByID","ImageProcessingConfiguration","PrepareUniforms","PrepareSamplers","BindLogDepth","multiply","setVector2","RenderTargetTexture","Constants","TEXTURE_MIRROR_ADDRESSMODE","ignoreCameraViewport","onBeforeRender","isVisible","clipPlane","Plane","FromPositionAndNormal","onAfterRender","ReflectionToRef","multiplyToRef","setTransformMatrix","cullBackFaces","_mirroredCameraPosition","TransformCoordinates","_bumpTexture","customRenderTargets","remove","CreateDefaultMesh","Mesh","CreateGround","serializeAsVector2","CustomParts","customShaderNameResolve","Builder","FragmentShader","defaultPixelShader","VertexShader","defaultVertexShader","AttachAfterBind","_newUniformInstances","split","_newSamplerInstances","ReviewUniform","_newUniforms","_customUniform","_customAttributes","apply","_isCreatedShader","_createdShaderName","ShaderIndexer","replace","Vertex_Begin","join","Vertex_Definitions","Vertex_MainBegin","Vertex_Before_PositionUpdated","Vertex_Before_NormalUpdated","Vertex_MainEnd","Vertex_After_WorldPosComputed","Fragment_Begin","Fragment_MainBegin","Fragment_Definitions","Fragment_Custom_Diffuse","Fragment_Custom_Alpha","Fragment_Before_Lights","Fragment_Before_FragColor","Fragment_Before_Fog","AddUniform","AddAttribute","StandardMaterial","pbrPixelShader","pbrVertexShader","IncludesShadersStore","pbrBlockAlbedoOpacity","pbrBlockReflectivity","pbrBlockFinalColorComposition","Fragment_Custom_Albedo","Fragment_Custom_MetallicRoughness","Fragment_Custom_MicroSurface","PBRMaterial","CellMaterial","CustomShaderStructure","ShaderSpecialParts","CustomMaterial","ShaderAlebdoParts","PBRCustomMaterial","FireMaterial","FurMaterial","GradientMaterial","GridMaterial","LavaMaterial","MixMaterial","NormalMaterial","ShadowOnlyMaterial","SimpleMaterial","SkyMaterial","TerrainMaterial","TriPlanarMaterial","WaterMaterial"],"mappings":"AAAA,CAAC,UAASA,CAAT,EAAWC,CAAX,EAAa;AAAC,cAAU,OAAOC,OAAjB,IAA0B,YAAU,OAAOC,MAA3C,GAAkDA,MAAM,CAACD,OAAP,GAAeD,CAAC,CAACG,OAAO,CAAC,WAAD,CAAR,CAAlE,GAAyF,cAAY,OAAOC,MAAnB,IAA2BA,MAAM,CAACC,GAAlC,GAAsCD,MAAM,CAAC,qBAAD,EAAuB,CAAC,WAAD,CAAvB,EAAqCJ,CAArC,CAA5C,GAAoF,YAAU,OAAOC,OAAjB,GAAyBA,OAAO,CAAC,qBAAD,CAAP,GAA+BD,CAAC,CAACG,OAAO,CAAC,WAAD,CAAR,CAAzD,GAAgFJ,CAAC,CAACO,SAAF,GAAYN,CAAC,CAACD,CAAC,CAACQ,OAAH,CAA1Q;AAAsR,CAApS,CAAqS,eAAa,OAAOC,IAApB,GAAyBA,IAAzB,GAA8B,eAAa,OAAOC,MAApB,GAA2BA,MAA3B,GAAkC,IAArW,EAA2W,UAASV,CAAT,EAAW;AAAC,SAAO,UAASA,CAAT,EAAW;AAAC,QAAIC,CAAC,GAAC,EAAN;;AAAS,aAASU,CAAT,CAAWC,CAAX,EAAa;AAAC,UAAGX,CAAC,CAACW,CAAD,CAAJ,EAAQ,OAAOX,CAAC,CAACW,CAAD,CAAD,CAAKV,OAAZ;AAAoB,UAAIW,CAAC,GAACZ,CAAC,CAACW,CAAD,CAAD,GAAK;AAACD,QAAAA,CAAC,EAACC,CAAH;AAAKE,QAAAA,CAAC,EAAC,CAAC,CAAR;AAAUZ,QAAAA,OAAO,EAAC;AAAlB,OAAX;AAAiC,aAAOF,CAAC,CAACY,CAAD,CAAD,CAAKG,IAAL,CAAUF,CAAC,CAACX,OAAZ,EAAoBW,CAApB,EAAsBA,CAAC,CAACX,OAAxB,EAAgCS,CAAhC,GAAmCE,CAAC,CAACC,CAAF,GAAI,CAAC,CAAxC,EAA0CD,CAAC,CAACX,OAAnD;AAA2D;;AAAA,WAAOS,CAAC,CAACK,CAAF,GAAIhB,CAAJ,EAAMW,CAAC,CAACM,CAAF,GAAIhB,CAAV,EAAYU,CAAC,CAACO,CAAF,GAAI,UAASlB,CAAT,EAAWC,CAAX,EAAaW,CAAb,EAAe;AAACD,MAAAA,CAAC,CAACQ,CAAF,CAAInB,CAAJ,EAAMC,CAAN,KAAUmB,MAAM,CAACC,cAAP,CAAsBrB,CAAtB,EAAwBC,CAAxB,EAA0B;AAACqB,QAAAA,UAAU,EAAC,CAAC,CAAb;AAAeC,QAAAA,GAAG,EAACX;AAAnB,OAA1B,CAAV;AAA2D,KAA3F,EAA4FD,CAAC,CAACE,CAAF,GAAI,UAASb,CAAT,EAAW;AAAC,qBAAa,OAAOwB,MAApB,IAA4BA,MAAM,CAACC,WAAnC,IAAgDL,MAAM,CAACC,cAAP,CAAsBrB,CAAtB,EAAwBwB,MAAM,CAACC,WAA/B,EAA2C;AAACC,QAAAA,KAAK,EAAC;AAAP,OAA3C,CAAhD,EAA6GN,MAAM,CAACC,cAAP,CAAsBrB,CAAtB,EAAwB,YAAxB,EAAqC;AAAC0B,QAAAA,KAAK,EAAC,CAAC;AAAR,OAArC,CAA7G;AAA8J,KAA1Q,EAA2Qf,CAAC,CAACV,CAAF,GAAI,UAASD,CAAT,EAAWC,CAAX,EAAa;AAAC,UAAG,IAAEA,CAAF,KAAMD,CAAC,GAACW,CAAC,CAACX,CAAD,CAAT,GAAc,IAAEC,CAAnB,EAAqB,OAAOD,CAAP;AAAS,UAAG,IAAEC,CAAF,IAAK,YAAU,OAAOD,CAAtB,IAAyBA,CAAzB,IAA4BA,CAAC,CAAC2B,UAAjC,EAA4C,OAAO3B,CAAP;AAAS,UAAIY,CAAC,GAACQ,MAAM,CAACQ,MAAP,CAAc,IAAd,CAAN;AAA0B,UAAGjB,CAAC,CAACE,CAAF,CAAID,CAAJ,GAAOQ,MAAM,CAACC,cAAP,CAAsBT,CAAtB,EAAwB,SAAxB,EAAkC;AAACU,QAAAA,UAAU,EAAC,CAAC,CAAb;AAAeI,QAAAA,KAAK,EAAC1B;AAArB,OAAlC,CAAP,EAAkE,IAAEC,CAAF,IAAK,YAAU,OAAOD,CAA3F,EAA6F,KAAI,IAAIa,CAAR,IAAab,CAAb;AAAeW,QAAAA,CAAC,CAACO,CAAF,CAAIN,CAAJ,EAAMC,CAAN,EAAQ,UAASZ,CAAT,EAAW;AAAC,iBAAOD,CAAC,CAACC,CAAD,CAAR;AAAY,SAAxB,CAAyB4B,IAAzB,CAA8B,IAA9B,EAAmChB,CAAnC,CAAR;AAAf;AAA8D,aAAOD,CAAP;AAAS,KAA9iB,EAA+iBD,CAAC,CAACC,CAAF,GAAI,UAASZ,CAAT,EAAW;AAAC,UAAIC,CAAC,GAACD,CAAC,IAAEA,CAAC,CAAC2B,UAAL,GAAgB,YAAU;AAAC,eAAO3B,CAAC,CAAC8B,OAAT;AAAiB,OAA5C,GAA6C,YAAU;AAAC,eAAO9B,CAAP;AAAS,OAAvE;AAAwE,aAAOW,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,GAAN,EAAUA,CAAV,GAAaA,CAApB;AAAsB,KAA7pB,EAA8pBU,CAAC,CAACQ,CAAF,GAAI,UAASnB,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAOmB,MAAM,CAACW,SAAP,CAAiBC,cAAjB,CAAgCjB,IAAhC,CAAqCf,CAArC,EAAuCC,CAAvC,CAAP;AAAiD,KAAjuB,EAAkuBU,CAAC,CAACsB,CAAF,GAAI,EAAtuB,EAAyuBtB,CAAC,CAACA,CAAC,CAACuB,CAAF,GAAI,EAAL,CAAjvB;AAA0vB,GAAr5B,CAAs5B,CAAC,UAASjC,CAAT,EAAWU,CAAX,EAAa;AAACV,IAAAA,CAAC,CAACC,OAAF,GAAUF,CAAV;AAAY,GAA3B,EAA4B,UAASA,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,GAAN,EAAW,YAAU;AAAC,aAAOY,CAAP;AAAS,KAA/B,GAAkCF,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,GAAN,EAAW,YAAU;AAAC,aAAOkB,CAAP;AAAS,KAA/B,CAAlC;AAC90C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAIP,EAAC,GAAC,WAASZ,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAM,CAACW,EAAC,GAACQ,MAAM,CAACe,cAAP,IAAuB;AAACC,QAAAA,SAAS,EAAC;AAAX,mBAAyBC,KAAzB,IAAgC,UAASrC,CAAT,EAAWC,CAAX,EAAa;AAACD,QAAAA,CAAC,CAACoC,SAAF,GAAYnC,CAAZ;AAAc,OAAnF,IAAqF,UAASD,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAI,IAAIU,CAAR,IAAaV,CAAb;AAAemB,UAAAA,MAAM,CAACW,SAAP,CAAiBC,cAAjB,CAAgCjB,IAAhC,CAAqCd,CAArC,EAAuCU,CAAvC,MAA4CX,CAAC,CAACW,CAAD,CAAD,GAAKV,CAAC,CAACU,CAAD,CAAlD;AAAf;AAAsE,OAA5K,EAA8KX,CAA9K,EAAgLC,CAAhL,CAAN;AAAyL,KAA7M;;AAA8M,aAASY,CAAT,CAAWb,CAAX,EAAaC,CAAb,EAAe;AAAC,eAASU,CAAT,GAAY;AAAC,aAAK2B,WAAL,GAAiBtC,CAAjB;AAAmB;;AAAAY,MAAAA,EAAC,CAACZ,CAAD,EAAGC,CAAH,CAAD,EAAOD,CAAC,CAAC+B,SAAF,GAAY,SAAO9B,CAAP,GAASmB,MAAM,CAACQ,MAAP,CAAc3B,CAAd,CAAT,IAA2BU,CAAC,CAACoB,SAAF,GAAY9B,CAAC,CAAC8B,SAAd,EAAwB,IAAIpB,CAAJ,EAAnD,CAAnB;AAA6E;;AAAA,aAASQ,CAAT,CAAWnB,CAAX,EAAaC,CAAb,EAAeU,CAAf,EAAiBC,CAAjB,EAAmB;AAAC,UAAIC,CAAJ;AAAA,UAAMM,CAAC,GAACoB,SAAS,CAACC,MAAlB;AAAA,UAAyBC,CAAC,GAACtB,CAAC,GAAC,CAAF,GAAIlB,CAAJ,GAAM,SAAOW,CAAP,GAASA,CAAC,GAACQ,MAAM,CAACsB,wBAAP,CAAgCzC,CAAhC,EAAkCU,CAAlC,CAAX,GAAgDC,CAAjF;AAAmF,UAAG,YAAU,OAAO+B,OAAjB,IAA0B,cAAY,OAAOA,OAAO,CAACC,QAAxD,EAAiEH,CAAC,GAACE,OAAO,CAACC,QAAR,CAAiB5C,CAAjB,EAAmBC,CAAnB,EAAqBU,CAArB,EAAuBC,CAAvB,CAAF,CAAjE,KAAkG,KAAI,IAAIsB,CAAC,GAAClC,CAAC,CAACwC,MAAF,GAAS,CAAnB,EAAqBN,CAAC,IAAE,CAAxB,EAA0BA,CAAC,EAA3B;AAA8B,SAACrB,CAAC,GAACb,CAAC,CAACkC,CAAD,CAAJ,MAAWO,CAAC,GAAC,CAACtB,CAAC,GAAC,CAAF,GAAIN,CAAC,CAAC4B,CAAD,CAAL,GAAStB,CAAC,GAAC,CAAF,GAAIN,CAAC,CAACZ,CAAD,EAAGU,CAAH,EAAK8B,CAAL,CAAL,GAAa5B,CAAC,CAACZ,CAAD,EAAGU,CAAH,CAAxB,KAAgC8B,CAA7C;AAA9B;AAA8E,aAAOtB,CAAC,GAAC,CAAF,IAAKsB,CAAL,IAAQrB,MAAM,CAACC,cAAP,CAAsBpB,CAAtB,EAAwBU,CAAxB,EAA0B8B,CAA1B,CAAR,EAAqCA,CAA5C;AAA8C;;AAAArB,IAAAA,MAAM,CAACQ,MAAP;AAAcR,IAAAA,MAAM,CAACQ,MAAP;AAAc,GAfymB,EAexmB,UAAS5B,CAAT,EAAWC,CAAX,EAAa;AAAC,QAAIU,CAAJ;;AAAMA,IAAAA,CAAC,GAAC,YAAU;AAAC,aAAO,IAAP;AAAY,KAAvB,EAAF;;AAA4B,QAAG;AAACA,MAAAA,CAAC,GAACA,CAAC,IAAE,IAAIkC,QAAJ,CAAa,aAAb,GAAL;AAAmC,KAAvC,CAAuC,OAAM7C,CAAN,EAAQ;AAAC,kBAAU,OAAO8C,MAAjB,KAA0BnC,CAAC,GAACmC,MAA5B;AAAoC;;AAAA9C,IAAAA,CAAC,CAACE,OAAF,GAAUS,CAAV;AAAY,GAfwd,EAevd,UAASX,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA1C,CAAP;AAAoD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,ugFAApB;AAA4hFN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBC,eAAtB,GAAsC/B,CAAtC;AAAwC,QAAIsB,CAAC,GAAC,28CAAN;AAAk9C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBE,gBAAtB,GAAuCV,CAAvC;;AAAyC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAAxI,EAA0I3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAjJ,EAAmJ5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA7J,EAA+J7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAAtK,EAAwK9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAA/K,EAAiL/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAhM,EAAkMhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAjN,EAAmNjE,CAAC,CAACkE,oBAAF,GAAuB,CAA1O,EAA4OlE,CAAC,CAACmE,YAAF,GAAe,CAA3P,EAA6PnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA1Q,EAA4QpE,CAAC,CAACqE,KAAF,GAAQ,CAAC,CAArR,EAAuRrE,CAAC,CAACsE,kBAAF,GAAqB,CAAC,CAA7S,EAA+StE,CAAC,CAACuE,SAAF,GAAY,CAAC,CAA5T,EAA8TvE,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA9U,EAAgVxE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA9W,EAAgXzE,CAAC,CAAC0E,OAAF,EAAhX,EAA4X1E,CAAnY;AAAqY;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAAjd,CAAkdY,CAAC,CAACgE,eAApd,CAAN;AAAA,QAA2e9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACoE,iBAAF,GAAoB,CAAC,CAAxD,EAA0DpE,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAA9E,EAAgFrE,CAAC,CAACsE,sBAAF,GAAyB,CAAzG,EAA2GtE,CAAlH;AAAoH;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAF,IAAmB,KAAKC,eAAxB,IAAyCrF,CAAC,CAACsF,aAAF,CAAgBC,qBAA7F,CAAH,EAAuH;AAAC,cAAG,CAAC,KAAKF,eAAL,CAAqBG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGxC,CAAC,CAAC4D,SAAF,GAAY,CAAC,KAAK8B,gBAAlB,EAAmCzF,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,CAAnC,EAAoJA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAnK,EAAwQpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAAxQ,EAAsUE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAtU,EAA8XA,CAAC,CAACoG,OAAnY,EAA2Y;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,EAA+C,KAAKuE,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,WAA9E,EAA0F,WAA1F,EAAsG,WAAtG,EAAkH,eAAlH,EAAkI,QAAlI,EAA2I,YAA3I,EAAwJ,aAAxJ,EAAsK,aAAtK,EAAoL,aAApL,EAAkM,aAAlM,EAAgN,aAAhN,EAA8N,eAA9N,CAArB;AAAA,cAAoQC,CAAC,GAAC,CAAC,gBAAD,CAAtQ;AAAA,cAAyRe,CAAC,GAAC,IAAII,KAAJ,EAA3R;AAAqSxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,MAA3B,EAAkC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA,qBAAL,GAA2B;AAAlD;AAArJ,WAAlC,EAA6O7E,CAA7O,CAAZ,EAA4P7B,CAA5P,CAA/J;AAA8Z;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAj6E,EAAk6EzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKyD,eAAL,IAAsBrF,CAAC,CAACsF,aAAF,CAAgBC,qBAAtC,KAA8D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKxD,eAApD,GAAqE,KAAKkD,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKzD,eAAL,CAAqB0D,gBAAlE,EAAmF,KAAK1D,eAAL,CAAqB2D,KAAxG,CAArE,EAAoL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKpD,eAAL,CAAqB4D,gBAArB,EAA7C,CAAlP,GAAyUjJ,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAzU,EAA8X,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAhZ,EAAwcpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAhe,CAAlL,EAAyrB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAAzrB,EAAixBxJ,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAK+D,sBAA1D,CAAzzB,EAA24BtE,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAv8B,EAA8/B/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAA9/B,EAAyjC,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAA5jC,CAAD;AAAomC;AAAC,OAAlnH,EAAmnHnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAKkG,eAAL,IAAsB,KAAKA,eAAL,CAAqB8E,UAA3C,IAAuD,KAAK9E,eAAL,CAAqB8E,UAArB,CAAgCxI,MAAhC,GAAuC,CAA9F,IAAiGxC,CAAC,CAAC4H,IAAF,CAAO,KAAK1B,eAAZ,CAAjG,EAA8HlG,CAArI;AAAuI,OAAzyH,EAA0yHC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmDjG,CAA1D;AAA4D,OAA97H,EAA+7HA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAuC,KAAKiG,eAAL,KAAuBjG,CAApE;AAAsE,OAAxiI,EAAyiIA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKiG,eAAL,IAAsB,KAAKA,eAAL,CAAqBiF,OAArB,EAAtB,EAAqDnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAArD;AAAsF,OAA/pI,EAAgqIA,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,cAAN;AAAqB,OAAztI,EAA0tInL,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAv1I,EAAw1I3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,sBAAb,EAAoC1L,CAA3C;AAA6C,OAAl9I,EAAm9IC,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA1jJ,EAA2jJQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA3jJ,EAA8pJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAA9pJ,EAAgxJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,CAA4B,SAA5B,CAAD,CAAZ,EAAqD9L,CAAC,CAAC8B,SAAvD,EAAiE,cAAjE,EAAgF,KAAK,CAArF,CAAhxJ,EAAw2JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,kBAApB,CAAD,CAAZ,EAAsDvL,CAAC,CAAC8B,SAAxD,EAAkE,mBAAlE,EAAsF,KAAK,CAA3F,CAAx2J,EAAs8JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,kBAAzF,EAA4G,KAAK,CAAjH,CAAt8J,EAA0jKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAA1jK,EAAspKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAAtpK,EAAuwKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAvwK,EAA+2KX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA/2K,EAAs+K9B,CAA7+K;AAA++K,KAA5pL,CAA6pLY,CAAC,CAACmL,YAA/pL,CAA7e;;AAA0pMnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,sBAA7B,IAAqDnJ,CAArD;AAAuD,GAf14T,EAe24T,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA1C,CAAP;AAAoD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,u1DAApB;AAA42DN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBkJ,eAAtB,GAAsChL,CAAtC;AAAwC,QAAIsB,CAAC,GAAC,s5CAAN;AAA65C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBmJ,gBAAtB,GAAuC3J,CAAvC;;AAAyC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA3I,EAA6IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA1J,EAA4J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAnK,EAAqK5D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAA5K,EAA8K9D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAA7L,EAA+LhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAA9M,EAAgNjE,CAAC,CAACmE,YAAF,GAAe,CAA/N,EAAiOnE,CAAC,CAACkE,oBAAF,GAAuB,CAAxP,EAA0PlE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAAvQ,EAAyQpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAAvS,EAAySzE,CAAC,CAAC0E,OAAF,EAAzS,EAAqT1E,CAA5T;AAA8T;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA1Y,CAA2YY,CAAC,CAACgE,eAA7Y,CAAN;AAAA,QAAoa9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACyL,KAAF,GAAQ,CAA3C,EAA6CzL,CAAC,CAAC0L,cAAF,GAAiB,IAAIzL,CAAC,CAACkE,MAAN,EAA9D,EAA2EnE,CAAC,CAAC2L,SAAF,GAAY,CAAvF,EAAyF3L,CAAhG;AAAkG;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAnE,EAAoElF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAArH,EAAsHpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAA7K,EAA8KrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc,KAAKE,eAAL,IAAsBrF,CAAC,CAACsF,aAAF,CAAgBC,qBAA1E,CAAH,EAAoG;AAAC,cAAG,CAAC,KAAKF,eAAL,CAAqBG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGxC,CAAC,CAAC+C,SAAF,GAAY,CAAC,CAAC,KAAK6I,eAAnB,EAAmC5L,CAAC,CAAC6L,aAAF,KAAkB7L,CAAC,CAACgD,SAAF,GAAY,KAAK6C,WAAL,IAAkBtF,CAAC,CAACuL,gBAAhC,EAAiD9L,CAAC,CAACiD,GAAF,GAAM1C,CAAC,CAACuF,UAAF,IAAc1G,CAAC,CAACwK,QAAhB,IAA0BrJ,CAAC,CAACsJ,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKjE,UAA1I,CAAnC,EAAyL7F,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAAzL,EAAuPE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAvP,EAA+SA,CAAC,CAACoG,OAApT,EAA4T;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BxG,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAxD,EAAsFY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAAlJ;AAAqK,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAP,EAAqClH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAApD,EAAqFnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAArF,EAAyIlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAAzI;AAA6L,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAmBnI,UAAAA,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,MAA3B,EAAkC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,WAAhD,EAA4D,WAA5D,EAAwE,WAAxE,EAAoF,eAApF,EAAoG,QAApG,EAA6G,YAA7G,EAA0H,aAA1H,EAAwI,aAAxI,EAAsJ,aAAtJ,EAAoK,aAApK,EAAkL,aAAlL,EAAgM,eAAhM,EAAgN,MAAhN,EAAuN,OAAvN,CAA5B;AAA4PC,YAAAA,mBAAmB,EAAC,EAAhR;AAAmRC,YAAAA,QAAQ,EAAC,CAAC,gBAAD,EAAkB,mBAAlB,EAAsC,gBAAtC,CAA5R;AAAoVC,YAAAA,OAAO,EAACN,CAA5V;AAA8VU,YAAAA,SAAS,EAAC9F,CAAxW;AAA0W+F,YAAAA,UAAU,EAAC,KAAKA,UAA1X;AAAqYC,YAAAA,OAAO,EAAC,KAAKA,OAAlZ;AAA0ZC,YAAAA,eAAe,EAAC,IAA1a;AAA+a1B,YAAAA,qBAAqB,EAAC,CAArc;AAAucqF,YAAAA,yBAAyB,EAAC;AAAje,WAAlC,EAAygBlK,CAAzgB,CAAZ,EAAwhB7B,CAAxhB;AAA2hB;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAlgE,EAAmgEzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;;AAAsB,YAAGjF,CAAC,CAACgF,gBAAL,EAAsB;AAAC,cAAIxE,CAAC,GAACR,CAAC,CAAC8E,MAAR;AAAetE,UAAAA,CAAC,KAAG,KAAKiI,aAAL,GAAmBjI,CAAnB,EAAqB,KAAKkI,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmBO,CAAnB,MAAwB,KAAK+E,eAAL,IAAsBrF,CAAC,CAACsF,aAAF,CAAgBC,qBAAtC,KAA8D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKxD,eAApD,GAAqE,KAAKkD,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKzD,eAAL,CAAqB0D,gBAAlE,EAAmF,KAAK1D,eAAL,CAAqB2D,KAAxG,CAArE,EAAoL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKpD,eAAL,CAAqB4D,gBAArB,EAA7C,CAApL,EAA0Q,KAAKV,aAAL,CAAmBM,UAAnB,CAA8B,mBAA9B,EAAkD,KAAKkD,kBAAvD,CAA1Q,EAAqV,KAAKxD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK8C,eAApD,CAAnZ,GAAyd3L,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAzd,EAA8gB,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAhiB,EAAwlBpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiC/I,CAAjC,EAAmCP,CAAnC,CAAhnB,CAAlL,EAAy0B,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKmC,cAAlD,EAAiE,KAAKlH,KAAL,GAAWnF,CAAC,CAACmK,UAA9E,CAAz0B,EAAm6BxJ,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA/9B,EAAshC/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAthC,EAAilC,KAAKmD,SAAL,IAAgB3L,CAAC,CAACkF,SAAF,GAAc+G,YAAd,EAAjmC,EAA8nC,KAAKzD,aAAL,CAAmBY,QAAnB,CAA4B,MAA5B,EAAmC,KAAKuC,SAAxC,CAA9nC,EAAirC,KAAKnD,aAAL,CAAmBY,QAAnB,CAA4B,OAA5B,EAAoC,KAAKqC,KAAzC,CAAjrC,EAAiuC,KAAKvB,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAApuC,CAAD;AAA4wC;AAAC,OAAv3G,EAAw3GnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAKkG,eAAL,IAAsB,KAAKA,eAAL,CAAqB8E,UAA3C,IAAuD,KAAK9E,eAAL,CAAqB8E,UAArB,CAAgCxI,MAAhC,GAAuC,CAA9F,IAAiGxC,CAAC,CAAC4H,IAAF,CAAO,KAAK1B,eAAZ,CAAjG,EAA8H,KAAK0G,kBAAL,IAAyB,KAAKA,kBAAL,CAAwB5B,UAAjD,IAA6D,KAAK4B,kBAAL,CAAwB5B,UAAxB,CAAmCxI,MAAnC,GAA0C,CAAvG,IAA0GxC,CAAC,CAAC4H,IAAF,CAAO,KAAKgF,kBAAZ,CAAxO,EAAwQ,KAAKJ,eAAL,IAAsB,KAAKA,eAAL,CAAqBxB,UAA3C,IAAuD,KAAKwB,eAAL,CAAqBxB,UAArB,CAAgCxI,MAAhC,GAAuC,CAA9F,IAAiGxC,CAAC,CAAC4H,IAAF,CAAO,KAAK4E,eAAZ,CAAzW,EAAsYxM,CAA7Y;AAA+Y,OAAtzH,EAAuzHC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmD,KAAK0G,kBAAL,IAAyB3M,CAAC,CAAC2H,IAAF,CAAO,KAAKgF,kBAAZ,CAA5E,EAA4G,KAAKJ,eAAL,IAAsBvM,CAAC,CAAC2H,IAAF,CAAO,KAAK4E,eAAZ,CAAlI,EAA+JvM,CAAtK;AAAwK,OAAvjI,EAAwjIA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAwC,KAAKiG,eAAL,KAAuBjG,CAAvB,IAA2B,KAAK2M,kBAAL,KAA0B3M,CAA1B,IAA6B,KAAKuM,eAAL,KAAuBvM,CAA7H;AAAiI,OAA5tI,EAA6tIA,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,cAAN;AAAqB,OAAtxI,EAAuxInL,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKiG,eAAL,IAAsB,KAAKA,eAAL,CAAqBiF,OAArB,EAAtB,EAAqD,KAAKyB,kBAAL,IAAyB,KAAKA,kBAAL,CAAwBzB,OAAxB,EAA9E,EAAgHnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAAhH;AAAiJ,OAAx8I,EAAy8IA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAtkJ,EAAukJ3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIvL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYyJ,SAAZ,CAAsBzK,IAAtB,CAA2B,IAA3B,CAAN;AAAuC,eAAOd,CAAC,CAACyL,UAAF,GAAa,sBAAb,EAAoCzL,CAAC,CAAC6E,YAAF,GAAe,KAAKA,YAAL,CAAkBgI,OAAlB,EAAnD,EAA+E7M,CAAC,CAACoM,KAAF,GAAQ,KAAKA,KAA5F,EAAkG,KAAKnG,eAAL,KAAuBjG,CAAC,CAACiG,eAAF,GAAkB,KAAKA,eAAL,CAAqBsF,SAArB,EAAzC,CAAlG,EAA6K,KAAKoB,kBAAL,KAA0B3M,CAAC,CAAC2M,kBAAF,GAAqB,KAAKA,kBAAL,CAAwBpB,SAAxB,EAA/C,CAA7K,EAAiQ,KAAKgB,eAAL,KAAuBvM,CAAC,CAACuM,eAAF,GAAkB,KAAKA,eAAL,CAAqBhB,SAArB,EAAzC,CAAjQ,EAA4UvL,CAAnV;AAAqV,OAAp+J,EAAq+JA,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,YAAIO,CAAC,GAAC,IAAIlB,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAN;AAAsB,eAAOQ,CAAC,CAAC2D,YAAF,GAAejE,CAAC,CAACkE,MAAF,CAASgI,SAAT,CAAmB/M,CAAC,CAAC8E,YAArB,CAAf,EAAkD3D,CAAC,CAACkL,KAAF,GAAQrM,CAAC,CAACqM,KAA5D,EAAkElL,CAAC,CAACiE,KAAF,GAAQpF,CAAC,CAACoF,KAA5E,EAAkFjE,CAAC,CAAC6L,EAAF,GAAKhN,CAAC,CAACgN,EAAzF,EAA4FnM,CAAC,CAACoM,IAAF,CAAOC,SAAP,CAAiB/L,CAAjB,EAAmBnB,CAAC,CAACmN,IAArB,CAA5F,EAAuHhM,CAAC,CAACiM,eAAF,GAAkBpN,CAAC,CAACoN,eAA3I,EAA2JjM,CAAC,CAACkM,SAAF,GAAYrN,CAAC,CAACqN,SAAzK,EAAmLrN,CAAC,CAACkG,eAAF,KAAoB/E,CAAC,CAAC+E,eAAF,GAAkBrF,CAAC,CAACyM,OAAF,CAAU3B,KAAV,CAAgB3L,CAAC,CAACkG,eAAlB,EAAkCvF,CAAlC,EAAoCC,CAApC,CAAtC,CAAnL,EAAiQZ,CAAC,CAAC4M,kBAAF,KAAuBzL,CAAC,CAACyL,kBAAF,GAAqB/L,CAAC,CAACyM,OAAF,CAAU3B,KAAV,CAAgB3L,CAAC,CAAC4M,kBAAlB,EAAqCjM,CAArC,EAAuCC,CAAvC,CAA5C,CAAjQ,EAAwVZ,CAAC,CAACwM,eAAF,KAAoBrL,CAAC,CAACqL,eAAF,GAAkB3L,CAAC,CAACyM,OAAF,CAAU3B,KAAV,CAAgB3L,CAAC,CAACwM,eAAlB,EAAkC7L,CAAlC,EAAoCC,CAApC,CAAtC,CAAxV,EAAsaO,CAA7a;AAA+a,OAAl8K,EAAm8KC,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAAn8K,EAAsiLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAtiL,EAAwpLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,mBAA7B,CAAD,CAAZ,EAAgE5L,CAAC,CAAC8B,SAAlE,EAA4E,oBAA5E,EAAiG,KAAK,CAAtG,CAAxpL,EAAiwLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,mBAAzF,EAA6G,KAAK,CAAlH,CAAjwL,EAAs3LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAAt3L,EAAy9LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAz9L,EAA2kMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,CAA4B,SAA5B,CAAD,CAAZ,EAAqD9L,CAAC,CAAC8B,SAAvD,EAAiE,cAAjE,EAAgF,KAAK,CAArF,CAA3kM,EAAmqMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,OAAhD,EAAwD,KAAK,CAA7D,CAAnqM,EAAmuM9B,CAA1uM;AAA4uM,KAAv4M,CAAw4MY,CAAC,CAACmL,YAA14M,CAAta;;AAA8zNnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,sBAA7B,IAAqDnJ,CAArD;AAAuD,GAf3qoB,EAe4qoB,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAAzC,CAAP;AAAmD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,4vEAApB;AAAixEN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBsK,cAAtB,GAAqCpM,CAArC;AAAuC,QAAIsB,CAAC,GAAC,2kGAAN;AAAklG5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBuK,eAAtB,GAAsC/K,CAAtC;;AAAwC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACwN,SAAF,GAAY,CAAC,CAA1B,EAA4BxN,CAAC,CAACoD,SAAF,GAAY,CAAC,CAAzC,EAA2CpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAAzD,EAA2DrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAAzE,EAA2EtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAAzF,EAA2FvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAAzG,EAA2GxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAAzH,EAA2HzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAxI,EAA0I1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA1J,EAA4JxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAAzK,EAA2K3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAlL,EAAoL5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA9L,EAAgM7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAAvM,EAAyM9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAhN,EAAkN/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAjO,EAAmOhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAlP,EAAoPjE,CAAC,CAACkE,oBAAF,GAAuB,CAA3Q,EAA6QlE,CAAC,CAACmE,YAAF,GAAe,CAA5R,EAA8RnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA3S,EAA6SpE,CAAC,CAACyN,SAAF,GAAY,CAAC,CAA1T,EAA4TzN,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA1V,EAA4VzE,CAAC,CAAC0E,OAAF,EAA5V,EAAwW1E,CAA/W;AAAiX;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA7b,CAA8bY,CAAC,CAACgE,eAAhc,CAAN;AAAA,QAAud9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAAC+M,SAAF,GAAY,CAA/C,EAAiD/M,CAAC,CAACgN,QAAF,GAAW,CAA5D,EAA8DhN,CAAC,CAACiN,QAAF,GAAW,IAAIhN,CAAC,CAACkE,MAAN,CAAa,GAAb,EAAiB,GAAjB,EAAqB,GAArB,CAAzE,EAAmGnE,CAAC,CAACkN,SAAF,GAAY,CAA/G,EAAiHlN,CAAC,CAACmN,UAAF,GAAa,EAA9H,EAAiInN,CAAC,CAACoN,UAAF,GAAa,IAAInN,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgB,CAAhB,EAAkB,CAAlB,CAA9I,EAAmKrN,CAAC,CAACsN,QAAF,GAAW,GAA9K,EAAkLtN,CAAC,CAACuN,UAAF,GAAa,EAA/L,EAAkMvN,CAAC,CAACwN,YAAF,GAAe,CAAjN,EAAmNxN,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAAvO,EAAyOrE,CAAC,CAACsE,sBAAF,GAAyB,CAAlQ,EAAoQtE,CAAC,CAACyN,YAAF,GAAe,CAAC,CAApR,EAAsRzN,CAAC,CAAC0N,QAAF,GAAW,CAAjS,EAAmS1N,CAA1S;AAA4S;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBoB,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,SAAlC,EAA4C;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAO,KAAK+M,QAAZ;AAAqB,SAArC;AAAsCC,QAAAA,GAAG,EAAC,aAASvO,CAAT,EAAW;AAAC,eAAKsO,QAAL,GAActO,CAAd;AAAgB,SAAtE;AAAuEsB,QAAAA,UAAU,EAAC,CAAC,CAAnF;AAAqFkN,QAAAA,YAAY,EAAC,CAAC;AAAnG,OAA5C,CAAjB,EAAoKvO,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAAjO,EAAkOnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAnR,EAAoRpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAA3U,EAA4UrF,CAAC,CAAC8B,SAAF,CAAY0M,SAAZ,GAAsB,YAAU;AAAC,aAAI,IAAIzO,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAK0O,OAAL,CAAalM,MAA3B,EAAkCxC,CAAC,EAAnC,EAAsC;AAAC,cAAIC,CAAC,GAAC,KAAKyO,OAAL,CAAa1O,CAAb,EAAgB2O,QAAtB;AAA+B1O,UAAAA,CAAC,CAAC0N,SAAF,GAAY,KAAKA,SAAjB,EAA2B1N,CAAC,CAAC2N,QAAF,GAAW,KAAKA,QAA3C,EAAoD3N,CAAC,CAAC+N,UAAF,GAAa,KAAKA,UAAtE,EAAiF/N,CAAC,CAAC8N,UAAF,GAAa,KAAKA,UAAnG,EAA8G9N,CAAC,CAACiO,QAAF,GAAW,KAAKA,QAA9H,EAAuIjO,CAAC,CAAC4N,QAAF,GAAW,KAAKA,QAAvJ,EAAgK5N,CAAC,CAAC2O,cAAF,GAAiB,KAAKA,cAAtL,EAAqM3O,CAAC,CAAC4O,UAAF,GAAa,KAAKA,UAAvN,EAAkO5O,CAAC,CAACoO,YAAF,GAAe,KAAKA,YAAtP,EAAmQpO,CAAC,CAAC6O,OAAF,GAAU,KAAKA,OAAlR,EAA0R7O,CAAC,CAACkO,UAAF,GAAa,KAAKA,UAA5S;AAAuT;AAAC,OAA3uB,EAA4uBlO,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,IAAqB5E,CAAC,CAAC8E,eAA1B,EAA0C;AAAC,cAAG,KAAK2I,cAAL,IAAqB/N,CAAC,CAACsF,aAAF,CAAgBC,qBAAxC,EAA8D;AAAC,gBAAG,CAAC,KAAKwI,cAAL,CAAoBvI,OAApB,EAAJ,EAAkC,OAAM,CAAC,CAAP;AAASzF,YAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,cAAG,KAAK2L,aAAL,IAAoBtM,CAAC,CAACuM,OAAF,GAAYC,0BAAnC,EAA8D;AAAC,gBAAG,CAAC,KAAKF,aAAL,CAAmB1I,OAAnB,EAAJ,EAAiC,OAAM,CAAC,CAAP;AAASzF,YAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAAC6M,SAAF,GAAY,CAAC,CAA3B;AAA6B;AAAC;;AAAA,YAAG,KAAKY,YAAL,KAAoBzN,CAAC,CAAC8M,SAAtB,KAAkC9M,CAAC,CAAC8M,SAAF,GAAY,CAAC,CAAb,EAAe9M,CAAC,CAACsO,iBAAF,EAAjD,GAAwErO,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,CAAxE,EAAyLA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAxM,EAA6SpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAA7S,EAA2WE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAA3W,EAAmaA,CAAC,CAACoG,OAAxa,EAAgb;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,EAA+C,KAAKuE,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,WAA9E,EAA0F,WAA1F,EAAsG,WAAtG,EAAkH,eAAlH,EAAkI,QAAlI,EAA2I,YAA3I,EAAwJ,aAAxJ,EAAsK,aAAtK,EAAoL,aAApL,EAAkM,aAAlM,EAAgN,aAAhN,EAA8N,eAA9N,EAA8O,WAA9O,EAA0P,UAA1P,EAAqQ,UAArQ,EAAgR,WAAhR,EAA4R,YAA5R,EAAyS,SAAzS,EAAmT,YAAnT,EAAgU,YAAhU,EAA6U,cAA7U,CAArB;AAAA,cAAkXC,CAAC,GAAC,CAAC,gBAAD,EAAkB,eAAlB,EAAkC,YAAlC,CAApX;AAAA,cAAoae,CAAC,GAAC,IAAII,KAAJ,EAAta;AAAgbxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,KAA3B,EAAiC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA;AAA5B;AAArJ,WAAjC,EAA0O7E,CAA1O,CAAZ,EAAyP7B,CAAzP,CAA/J;AAA2Z;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAzvG,EAA0vGzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkLxI,CAAC,CAACuO,iBAAF,OAAwB,IAAxB,KAA+B,KAAKjJ,eAAL,IAAsBrF,CAAC,CAACsF,aAAF,CAAgBC,qBAAtC,KAA8D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKxD,eAApD,GAAqE,KAAKkD,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKzD,eAAL,CAAqB0D,gBAAlE,EAAmF,KAAK1D,eAAL,CAAqB2D,KAAxG,CAArE,EAAoL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKpD,eAAL,CAAqB4D,gBAArB,EAA7C,CAAlP,GAAyU,KAAKsF,cAAL,IAAqB,KAAKhG,aAAL,CAAmBM,UAAnB,CAA8B,eAA9B,EAA8C,KAAK0F,cAAnD,CAA9V,EAAiavO,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAja,EAAsd,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAxe,EAAgiBpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAA/jB,CAAlL,EAAwxB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAAxxB,EAAg3BxJ,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAx5B,EAAy+B1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAriC,EAA4lC/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAA5lC,EAAupC,KAAKA,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAK2D,SAA7C,CAAvpC,EAA+sC,KAAKvE,aAAL,CAAmBY,QAAnB,CAA4B,UAA5B,EAAuC,KAAK4D,QAA5C,CAA/sC,EAAqwC,KAAKxE,aAAL,CAAmBe,SAAnB,CAA6B,UAA7B,EAAwC,KAAK0D,QAA7C,EAAsD,CAAtD,CAArwC,EAA8zC,KAAKQ,YAAL,KAAoB,KAAKjF,aAAL,CAAmBiG,UAAnB,CAA8B,YAA9B,EAA2C,KAAKrB,UAAhD,GAA4D,KAAK5E,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAK8D,SAA7C,CAA5D,EAAoH,KAAK1E,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAK+D,UAA9C,CAApH,EAA8K,KAAK3E,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAKmE,UAA9C,CAA9K,EAAwO,KAAK/E,aAAL,CAAmBY,QAAnB,CAA4B,cAA5B,EAA2C,KAAKoE,YAAhD,CAAxO,EAAsS,KAAKE,QAAL,IAAe,KAAK1I,QAAL,GAAgBE,SAAhB,GAA4B+G,YAA5B,KAA2C,KAAKqB,QAArW,EAA8W,KAAK9E,aAAL,CAAmBY,QAAnB,CAA4B,SAA5B,EAAsC,KAAKsE,QAA3C,CAA9W,EAAma,KAAKlF,aAAL,CAAmBM,UAAnB,CAA8B,YAA9B,EAA2C,KAAKmF,UAAhD,CAAvb,CAA9zC,EAAkzD,KAAK/D,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAArzD,CAAD;AAA61D;AAAC,OAAnsK,EAAosKnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK4O,cAAL,IAAqB,KAAKA,cAAL,CAAoB5D,UAAzC,IAAqD,KAAK4D,cAAL,CAAoB5D,UAApB,CAA+BxI,MAA/B,GAAsC,CAA3F,IAA8FxC,CAAC,CAAC4H,IAAF,CAAO,KAAKgH,cAAZ,CAA9F,EAA0H,KAAKG,aAAL,IAAoB,KAAKA,aAAL,CAAmB/D,UAAvC,IAAmD,KAAK+D,aAAL,CAAmB/D,UAAnB,CAA8BxI,MAA9B,GAAqC,CAAxF,IAA2FxC,CAAC,CAAC4H,IAAF,CAAO,KAAKmH,aAAZ,CAArN,EAAgP/O,CAAvP;AAAyP,OAA5+K,EAA6+KC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmD,KAAKkJ,cAAL,IAAqBnP,CAAC,CAAC2H,IAAF,CAAO,KAAKwH,cAAZ,CAAxE,EAAoGnP,CAA3G;AAA6G,OAAlrL,EAAmrLA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAwC,KAAK2O,cAAL,KAAsB3O,CAAtB,IAAyB,KAAKmP,cAAL,KAAsBnP,CAA7F;AAAgG,OAAtzL,EAAuzLA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,YAAG,KAAK2O,cAAL,IAAqB,KAAKA,cAAL,CAAoBzD,OAApB,EAArB,EAAmD,KAAKuD,OAA3D,EAAmE,KAAI,IAAI/N,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAK+N,OAAL,CAAalM,MAA3B,EAAkC7B,CAAC,EAAnC,EAAsC;AAAC,cAAIC,CAAC,GAAC,KAAK8N,OAAL,CAAa/N,CAAb,EAAgBgO,QAAtB;AAA+B/N,UAAAA,CAAC,IAAEA,CAAC,CAACuK,OAAF,CAAUlL,CAAV,CAAH,EAAgB,KAAKyO,OAAL,CAAa/N,CAAb,EAAgBwK,OAAhB,EAAhB;AAA0C;AAAAnL,QAAAA,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B;AAAiC,OAA3iM,EAA4iMA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAzqM,EAA0qM3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,qBAAb,EAAmC,KAAKgD,OAAL,KAAe1O,CAAC,CAACsP,cAAF,GAAiB,KAAKZ,OAAL,CAAa,CAAb,EAAgB9C,IAAjC,EAAsC5L,CAAC,CAACuP,OAAF,GAAU,KAAKb,OAAL,CAAalM,MAA5E,CAAnC,EAAuHxC,CAA9H;AAAgI,OAAv3M,EAAw3MC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,aAAN;AAAoB,OAAh7M,EAAi7MnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,YAAIO,CAAC,GAACN,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAN;AAA8E,eAAOZ,CAAC,CAACsP,cAAF,IAAkBnO,CAAC,CAACkN,YAApB,IAAkC1N,CAAC,CAAC6O,gBAAF,CAAoB,YAAU;AAAC,cAAI5O,CAAC,GAACD,CAAC,CAAC8O,aAAF,CAAgBzP,CAAC,CAACsP,cAAlB,CAAN;;AAAwC,cAAG1O,CAAH,EAAK;AAAC,gBAAIC,CAAC,GAACZ,CAAC,CAACyP,eAAF,CAAkB,aAAlB,EAAgC/O,CAAhC,CAAN;AAAyCQ,YAAAA,CAAC,CAAC0N,UAAF,GAAahO,CAAb,EAAeZ,CAAC,CAAC0P,UAAF,CAAa/O,CAAb,EAAeZ,CAAC,CAACuP,OAAjB,CAAf;AAAyC;AAAC,SAAhK,CAAlC,EAAqMpO,CAA5M;AAA8M,OAAruN,EAAsuNlB,CAAC,CAACyP,eAAF,GAAkB,UAAS1P,CAAT,EAAWC,CAAX,EAAa;AAAC,aAAI,IAAIU,CAAC,GAAC,IAAIE,CAAC,CAAC+O,cAAN,CAAqB,gBAAc5P,CAAnC,EAAqC,GAArC,EAAyCC,CAAzC,EAA2C,CAAC,CAA5C,CAAN,EAAqDW,CAAC,GAACD,CAAC,CAACkP,UAAF,EAAvD,EAAsE1O,CAAC,GAAC,CAA5E,EAA8EA,CAAC,GAAC,GAAhF,EAAoF,EAAEA,CAAtF;AAAwFP,UAAAA,CAAC,CAACkP,SAAF,GAAY,eAAaC,IAAI,CAACC,KAAL,CAAW,MAAID,IAAI,CAACE,MAAL,EAAf,CAAb,GAA2C,IAA3C,GAAgDF,IAAI,CAACC,KAAL,CAAW,MAAID,IAAI,CAACE,MAAL,EAAf,CAAhD,GAA8E,MAA1F,EAAiGrP,CAAC,CAACsP,QAAF,CAAWH,IAAI,CAACE,MAAL,KAActP,CAAC,CAACwP,OAAF,GAAYC,KAArC,EAA2CL,IAAI,CAACE,MAAL,KAActP,CAAC,CAACwP,OAAF,GAAYE,MAArE,EAA4E,CAA5E,EAA8E,CAA9E,CAAjG;AAAxF;;AAA0Q,eAAO1P,CAAC,CAAC2P,MAAF,CAAS,CAAC,CAAV,GAAa3P,CAAC,CAAC4P,KAAF,GAAQ1P,CAAC,CAACyM,OAAF,CAAUkD,gBAA/B,EAAgD7P,CAAC,CAAC8P,KAAF,GAAQ5P,CAAC,CAACyM,OAAF,CAAUkD,gBAAlE,EAAmF7P,CAA1F;AAA4F,OAA5mO,EAA6mOV,CAAC,CAAC0P,UAAF,GAAa,UAAS3P,CAAT,EAAWW,CAAX,EAAa;AAAC,YAAIC,CAAJ;AAAA,YAAMO,CAAC,GAAC,CAACnB,CAAD,CAAR;AAAA,YAAYyC,CAAC,GAACzC,CAAC,CAAC2O,QAAhB;AAAyB,YAAG,EAAElM,CAAC,YAAYxC,CAAf,CAAH,EAAqB,MAAK,wDAAL;;AAA8D,aAAIW,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACD,CAAV,EAAYC,CAAC,EAAb,EAAgB;AAAC,cAAIsB,CAAC,GAAC,IAAIjC,CAAJ,CAAMwC,CAAC,CAACmJ,IAAF,GAAOhL,CAAb,EAAeZ,CAAC,CAAC4F,QAAF,EAAf,CAAN;AAAmC5F,UAAAA,CAAC,CAAC4F,QAAF,GAAa8K,SAAb,CAAuBC,GAAvB,IAA6B9P,CAAC,CAACoM,IAAF,CAAO2D,SAAP,CAAiB1O,CAAjB,CAA7B,EAAiDrB,CAAC,CAACoM,IAAF,CAAOC,SAAP,CAAiBhL,CAAjB,EAAmB,kBAAnB,CAAjD,EAAwFA,CAAC,CAACyL,SAAF,GAAYlL,CAAC,CAACkL,SAAtG,EAAgHzL,CAAC,CAAC0L,QAAF,GAAWnL,CAAC,CAACmL,QAA7H,EAAsI1L,CAAC,CAAC8L,UAAF,GAAavL,CAAC,CAACuL,UAArJ,EAAgK9L,CAAC,CAAC6L,UAAF,GAAatL,CAAC,CAACsL,UAA/K,EAA0L7L,CAAC,CAACgM,QAAF,GAAWzL,CAAC,CAACyL,QAAvM,EAAgNhM,CAAC,CAAC2L,QAAF,GAAWpL,CAAC,CAACoL,QAA7N,EAAsO3L,CAAC,CAAC0M,cAAF,GAAiBnM,CAAC,CAACmM,cAAzP,EAAwQ1M,CAAC,CAAC4L,SAAF,GAAYlN,CAAC,GAACD,CAAtR,EAAwRuB,CAAC,CAAC2M,UAAF,GAAapM,CAAC,CAACoM,UAAvS,EAAkT3M,CAAC,CAACmM,YAAF,GAAe5L,CAAC,CAAC4L,YAAnU,EAAgVnM,CAAC,CAAC4M,OAAF,GAAUrM,CAAC,CAACqM,OAA5V,EAAoW5M,CAAC,CAACiM,UAAF,GAAa1L,CAAC,CAAC0L,UAAnX;AAA8X,cAAIpL,CAAC,GAAC/C,CAAC,CAACqL,KAAF,CAAQrL,CAAC,CAAC4L,IAAF,GAAOhL,CAAf,CAAN;AAAwBmC,UAAAA,CAAC,CAAC4L,QAAF,GAAWzM,CAAX,EAAaa,CAAC,CAAC8N,QAAF,GAAW7Q,CAAC,CAAC6Q,QAA1B,EAAmC9N,CAAC,CAAC+N,QAAF,GAAWjQ,CAAC,CAACoN,OAAF,CAAU8C,IAAV,EAA9C,EAA+D5P,CAAC,CAACyG,IAAF,CAAO7E,CAAP,CAA/D;AAAyE;;AAAA,aAAInC,CAAC,GAAC,CAAN,EAAQA,CAAC,GAACO,CAAC,CAACqB,MAAZ,EAAmB5B,CAAC,EAApB;AAAuBO,UAAAA,CAAC,CAACP,CAAD,CAAD,CAAKoQ,MAAL,GAAYhR,CAAZ;AAAvB;;AAAqC,eAAOA,CAAC,CAAC2O,QAAF,CAAWD,OAAX,GAAmBvN,CAAnB,EAAqBA,CAA5B;AAA8B,OAA10P,EAA20PC,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA30P,EAA86PX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAA96P,EAAgiQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,eAA7B,CAAD,CAAZ,EAA4D5L,CAAC,CAAC8B,SAA9D,EAAwE,gBAAxE,EAAyF,KAAK,CAA9F,CAAhiQ,EAAioQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,eAAzF,EAAyG,KAAK,CAA9G,CAAjoQ,EAAkvQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAlvQ,EAAi0QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAAj0Q,EAAq4QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,UAAhD,EAA2D,KAAK,CAAhE,CAAr4Q,EAAw8QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,UAAxD,EAAmE,KAAK,CAAxE,CAAx8Q,EAAmhRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAAnhR,EAAulRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAAvlR,EAA4pRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACoQ,kBAAH,CAAN,EAAD,CAAZ,EAA6ChR,CAAC,CAAC8B,SAA/C,EAAyD,YAAzD,EAAsE,KAAK,CAA3E,CAA5pR,EAA0uRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,UAAhD,EAA2D,KAAK,CAAhE,CAA1uR,EAA6yRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAA7yR,EAAk3RX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,cAAhD,EAA+D,KAAK,CAApE,CAAl3R,EAAy7RX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAz7R,EAAqhSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAArhS,EAAsoSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAtoS,EAA8uSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA9uS,EAAq2SX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,cAAhD,EAA+D,KAAK,CAApE,CAAr2S,EAA46SX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,SAAhD,EAA0D,IAA1D,CAA56S,EAA4+S9B,CAAn/S;AAAq/S,KAA11T,CAA21TY,CAAC,CAACmL,YAA71T,CAAzd;;AAAo0UnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,qBAA7B,IAAoDnJ,CAApD;AAAsD,GAfxioC,EAeyioC,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,kBAAN,EAA0B,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA9C,CAAP;AAAwD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,mqDAApB;AAAwrDN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBiO,mBAAtB,GAA0C/P,CAA1C;AAA4C,QAAIsB,CAAC,GAAC,kuCAAN;AAAyuC5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBkO,oBAAtB,GAA2C1O,CAA3C;;AAA6C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmR,QAAF,GAAW,CAAC,CAAZ,EAAcnR,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA3B,EAA6BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA3C,EAA6CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA3D,EAA6DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA3E,EAA6EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA3F,EAA6FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA3G,EAA6GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAA1H,EAA4H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA5I,EAA8IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA3J,EAA6J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAApK,EAAsK5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAAhL,EAAkL7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAAzL,EAA2L9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAlM,EAAoM/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAnN,EAAqNhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAApO,EAAsOjE,CAAC,CAACkE,oBAAF,GAAuB,CAA7P,EAA+PlE,CAAC,CAACmE,YAAF,GAAe,CAA9Q,EAAgRnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA7R,EAA+RpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA7T,EAA+TzE,CAAC,CAAC0E,OAAF,EAA/T,EAA2U1E,CAAlV;AAAoV;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAAha,CAAiaY,CAAC,CAACgE,eAAna,CAAN;AAAA,QAA0b9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACsE,sBAAF,GAAyB,CAAzB,EAA2BtE,CAAC,CAACyQ,QAAF,GAAW,IAAIxQ,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAtC,EAA0DnE,CAAC,CAAC0Q,aAAF,GAAgB,CAA1E,EAA4E1Q,CAAC,CAAC2Q,WAAF,GAAc,IAAI1Q,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAA1F,EAA8GnE,CAAC,CAAC4Q,gBAAF,GAAmB,CAAjI,EAAmI5Q,CAAC,CAAC6Q,MAAF,GAAS,CAA5I,EAA8I7Q,CAAC,CAAC8Q,KAAF,GAAQ,CAAtJ,EAAwJ9Q,CAAC,CAAC+Q,UAAF,GAAa,CAArK,EAAuK/Q,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAA3L,EAA6LrE,CAApM;AAAsM;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAX,IAAc,KAAKkM,aAAL,GAAmB,CAAjC,IAAoC,KAAKE,gBAAL,GAAsB,CAAjE;AAAmE,OAA7H,EAA8HvR,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAA/K,EAAgLpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAvO,EAAwOrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGjF,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,GAA8DE,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,CAA9D,EAA+KA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAA9L,EAAmSrE,CAAC,CAACwQ,QAAF,GAAW,KAAKnM,gBAAnT,EAAoUpE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAApU,EAA4XA,CAAC,CAACoG,OAAjY,EAAyY;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,CAA9B,EAA8EnC,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAxG,EAAsIY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAAlM;AAAqN,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,WAA9D,EAA0E,WAA1E,EAAsF,WAAtF,EAAkG,QAAlG,EAA2G,YAA3G,EAAwH,aAAxH,EAAsI,aAAtI,EAAoJ,aAApJ,EAAkK,aAAlK,EAAgL,aAAhL,EAA8L,UAA9L,EAAyM,aAAzM,EAAuN,QAAvN,EAAgO,YAAhO,EAA6O,OAA7O,CAArB;AAAA,cAA2QC,CAAC,GAAC,EAA7Q;AAAA,cAAgRe,CAAC,GAAC,IAAII,KAAJ,EAAlR;AAA4RxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC;AAAlF,WAAhD,GAAsIrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,UAA3B,EAAsC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC;AAAvB;AAArJ,WAAtC,EAAsN7E,CAAtN,CAAZ,EAAqO7B,CAArO,CAAtI;AAA8W;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA3rE,EAA4rEzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuCwC,CAAvC,CAAvH,EAAiK,KAAKgH,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB5B,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+BtH,CAA/B,EAAiC7B,CAAjC,GAAoC,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAtD,EAA8GpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAtI,CAAjK,EAA8UA,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAtX,EAAuc1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAngB,EAA0jB/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAA1jB,EAAqnB,KAAKA,aAAL,CAAmBe,SAAnB,CAA6B,UAA7B,EAAwC,KAAKkH,QAA7C,EAAsD,KAAKC,aAA3D,CAArnB,EAA+rB,KAAKlI,aAAL,CAAmBe,SAAnB,CAA6B,aAA7B,EAA2C,KAAKoH,WAAhD,EAA4D,KAAKC,gBAAjE,CAA/rB,EAAkxB,KAAKpI,aAAL,CAAmBY,QAAnB,CAA4B,QAA5B,EAAqC,KAAKyH,MAA1C,CAAlxB,EAAo0B,KAAKrI,aAAL,CAAmBY,QAAnB,CAA4B,OAA5B,EAAoC,KAAK0H,KAAzC,CAAp0B,EAAo3B,KAAKtI,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAK2H,UAA9C,CAAp3B,EAA86B,KAAK7G,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAj7B,CAAD;AAAy9B;AAAC,OAAjwG,EAAkwGnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,eAAM,EAAN;AAAS,OAAjzG,EAAkzG9K,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAACD,QAAAA,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B;AAAiC,OAAn3G,EAAo3GA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAj/G,EAAk/G3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,0BAAb,EAAwC1L,CAA/C;AAAiD,OAAhnH,EAAinHC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,kBAAN;AAAyB,OAA9qH,EAA+qHnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAAtxH,EAAuxHQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAvxH,EAA+3HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA/3H,EAAs/HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,UAAxD,EAAmE,KAAK,CAAxE,CAAt/H,EAAikIX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,eAAhD,EAAgE,KAAK,CAArE,CAAjkI,EAAyoIX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,aAAxD,EAAsE,KAAK,CAA3E,CAAzoI,EAAutIX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,kBAAhD,EAAmE,KAAK,CAAxE,CAAvtI,EAAkyIX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,QAAhD,EAAyD,KAAK,CAA9D,CAAlyI,EAAm2IX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,OAAhD,EAAwD,KAAK,CAA7D,CAAn2I,EAAm6IX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAAn6I,EAAw+IX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAx+I,EAAokJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAApkJ,EAAqrJ9B,CAA5rJ;AAA8rJ,KAA77J,CAA87JY,CAAC,CAACmL,YAAh8J,CAA5b;;AAA04KnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,0BAA7B,IAAyDnJ,CAAzD;AAA2D,GAf7j5C,EAe8j5C,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA1C,CAAP;AAAoD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,i6EAApB;AAAs7EN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB2O,eAAtB,GAAsCzQ,CAAtC;AAAwC,QAAIsB,CAAC,GAAC,65BAAN;AAAo6B5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB4O,gBAAtB,GAAuCpP,CAAvC;;AAAyC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAAC6R,OAAF,GAAU,CAAC,CAAX,EAAa7R,CAAC,CAAC8R,WAAF,GAAc,CAAC,CAA5B,EAA8B9R,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAArC,EAAuC5D,CAAC,CAAC+R,gBAAF,GAAmB,CAAC,CAA3D,EAA6D/R,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAApE,EAAsE9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAA7E,EAA+E/D,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA5F,EAA8FpE,CAAC,CAACgS,cAAF,GAAiB,CAAC,CAAhH,EAAkHhS,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAAhJ,EAAkJzE,CAAC,CAAC0E,OAAF,EAAlJ,EAA8J1E,CAArK;AAAuK;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAAnP,CAAoPY,CAAC,CAACgE,eAAtP,CAAN;AAAA,QAA6Q9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACsR,SAAF,GAAYrR,CAAC,CAACkE,MAAF,CAASoN,KAAT,EAAZ,EAA6BvR,CAAC,CAACwR,SAAF,GAAYvR,CAAC,CAACkE,MAAF,CAASsN,IAAT,EAAzC,EAAyDzR,CAAC,CAAC0R,SAAF,GAAY,CAArE,EAAuE1R,CAAC,CAAC2R,UAAF,GAAa1R,CAAC,CAACoN,OAAF,CAAU8C,IAAV,EAApF,EAAqGnQ,CAAC,CAAC4R,kBAAF,GAAqB,EAA1H,EAA6H5R,CAAC,CAAC6R,mBAAF,GAAsB,GAAnJ,EAAuJ7R,CAAC,CAAC8R,OAAF,GAAU,CAAjK,EAAmK9R,CAAC,CAAC+R,gBAAF,GAAmB,CAAC,CAAvL,EAAyL/R,CAAC,CAACgS,YAAF,GAAe,IAAI/R,CAAC,CAACgS,OAAN,CAAcjS,CAAC,CAAC0R,SAAhB,EAA0B1R,CAAC,CAAC4R,kBAA5B,EAA+C5R,CAAC,CAAC6R,mBAAjD,EAAqE7R,CAAC,CAAC8R,OAAvE,CAAxM,EAAwR9R,CAA/R;AAAiS;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKuN,OAAL,GAAa,CAAb,IAAgB,KAAKlG,eAAL,IAAsB,KAAKA,eAAL,CAAqBnG,OAArB,EAA7C;AAA4E,OAAtI,EAAuIpG,CAAC,CAAC8B,SAAF,CAAY+Q,wBAAZ,GAAqC,UAAS9S,CAAT,EAAW;AAAC,eAAO,KAAKmF,iBAAL,EAAP;AAAgC,OAAxN,EAAyNlF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;;AAAS,YAAGW,CAAC,CAACmR,WAAF,KAAgB,KAAKW,OAAL,GAAa,CAA7B,KAAiC9R,CAAC,CAACmR,WAAF,GAAc,CAACnR,CAAC,CAACmR,WAAjB,EAA6BnR,CAAC,CAACsO,iBAAF,EAA9D,GAAqFtO,CAAC,CAACoR,gBAAF,IAAoB,KAAKW,gBAAzB,KAA4C/R,CAAC,CAACoR,gBAAF,GAAmB,CAACpR,CAAC,CAACoR,gBAAtB,EAAuCpR,CAAC,CAACsO,iBAAF,EAAnF,CAArF,EAA+LtO,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAF,IAAmB,KAAKuG,eAAxB,IAAyC3L,CAAC,CAACsF,aAAF,CAAgB4M,qBAA7F,CAAlM,EAAsT;AAAC,cAAG,CAAC,KAAKvG,eAAL,CAAqBnG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACkR,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGjR,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,CAAC,CAA/C,EAAiD,KAAKuF,UAAtD,EAAiE,CAAC,CAAlE,EAAoE9F,CAApE,GAAuEC,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDA,CAAC,CAAC2E,SAAF,EAArD,EAAmElF,CAAnE,EAAqE,CAAC,CAACD,CAAvE,CAAvE,EAAiJC,CAAC,CAACoG,OAAtJ,EAA8J;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB,EAA4CrG,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAA5C;AAAoG,cAAI6B,CAAC,GAAC,CAAC5B,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,EAA6B9G,CAAC,CAAC6G,YAAF,CAAeG,UAA5C,CAAN;AAA8DjH,UAAAA,CAAC,CAACmD,GAAF,IAAOtB,CAAC,CAACmF,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAP,EAAqClH,CAAC,CAACoD,GAAF,IAAOvB,CAAC,CAACmF,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAA5C,EAA2EnH,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAAvI,EAA0J5G,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CzF,CAA/C,EAAiD7B,CAAjD,CAA1J;AAA8M,cAAImC,CAAC,GAACnC,CAAC,CAACwH,QAAF,EAAN;AAAmBnI,UAAAA,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,MAA3B,EAAkClG,CAAlC,EAAoC,CAAC,YAAD,EAAc,WAAd,EAA0B,WAA1B,EAAsC,aAAtC,EAAoD,YAApD,EAAiE,WAAjE,EAA6E,WAA7E,EAAyF,OAAzF,EAAiG,MAAjG,EAAwG,eAAxG,EAAwH,eAAxH,CAApC,EAA6K,CAAC,gBAAD,CAA7K,EAAgMM,CAAhM,EAAkM,KAAK,CAAvM,EAAyM,KAAK+F,UAA9M,EAAyN,KAAKC,OAA9N,CAAZ,EAAmPnI,CAAnP;AAAsP;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA1sD,EAA2sDzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqBtB,CAAC,CAACkD,SAAF,IAAa,CAAClD,CAAC,CAAC6R,aAAhB,IAA+B,KAAK3J,mBAAL,CAAyBrJ,CAAzB,CAApD,EAAgF,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAhF,EAAuI,KAAKxB,aAAL,CAAmBE,SAAnB,CAA6B,YAA7B,EAA0C1I,CAAC,CAACqS,mBAAF,EAA1C,CAAvI,EAA0M,KAAKxJ,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAK2G,aAAL,CAAmB8J,SAAnB,CAA6B,WAA7B,EAAyC,KAAKhB,SAA9C,GAAyD,KAAK9I,aAAL,CAAmB8J,SAAnB,CAA6B,WAA7B,EAAyC,KAAKd,SAA9C,CAAzD,EAAkH,KAAKhJ,aAAL,CAAmBiG,UAAnB,CAA8B,YAA9B,EAA2C,KAAKkD,UAAhD,CAAlH,EAA8K,KAAKK,YAAL,CAAkBO,CAAlB,GAAoB,KAAKb,SAAvM,EAAiN,KAAKM,YAAL,CAAkBQ,CAAlB,GAAoBrD,IAAI,CAACsD,KAAL,CAAW,KAAKb,kBAAhB,CAArO,EAAyQ,KAAKI,YAAL,CAAkBU,CAAlB,GAAoB,KAAKb,mBAAlS,EAAsT,KAAKG,YAAL,CAAkBW,CAAlB,GAAoB,KAAKb,OAA/U,EAAuV,KAAKtJ,aAAL,CAAmBoK,UAAnB,CAA8B,aAA9B,EAA4C,KAAKZ,YAAjD,CAAvV,EAAsZ,KAAKpG,eAAL,IAAsB3L,CAAC,CAACsF,aAAF,CAAgB4M,qBAAtC,KAA8D,KAAK3J,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK8C,eAApD,GAAqE,KAAKpD,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK6C,eAAL,CAAqB5C,gBAAlE,EAAmF,KAAK4C,eAAL,CAAqB3C,KAAxG,CAArE,EAAoL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKkD,eAAL,CAAqB1C,gBAArB,EAA7C,CAAlP,CAA9a,CAA1M,EAAk8BjJ,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAl8B,EAA6/B,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAhgC,CAAD;AAAwiC;AAAC,OAA/1F,EAAg2FnJ,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAACD,QAAAA,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B;AAAiC,OAAj6F,EAAk6FA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA/hG,EAAgiG3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,sBAAb,EAAoC1L,CAA3C;AAA6C,OAA1pG,EAA2pGC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,cAAN;AAAqB,OAAptG,EAAqtGnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA5zG,EAA6zGQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,WAAxD,EAAoE,KAAK,CAAzE,CAA7zG,EAAy4GX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,WAAxD,EAAoE,KAAK,CAAzE,CAAz4G,EAAq9GX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAAr9G,EAAyhHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,YAAxD,EAAqE,KAAK,CAA1E,CAAzhH,EAAsmHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,oBAAhD,EAAqE,KAAK,CAA1E,CAAtmH,EAAmrHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,qBAAhD,EAAsE,KAAK,CAA3E,CAAnrH,EAAiwHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,SAAhD,EAA0D,KAAK,CAA/D,CAAjwH,EAAm0HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,kBAAhD,EAAmE,KAAK,CAAxE,CAAn0H,EAA84HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA94H,EAAi/HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAj/H,EAAmmI9B,CAA1mI;AAA4mI,KAAt8I,CAAu8IY,CAAC,CAACmL,YAAz8I,CAA/Q;;AAAsuJnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,sBAA7B,IAAqDnJ,CAArD;AAAuD,GAfv1pD,EAew1pD,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA1C,CAAP;AAAoD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,mqFAApB;AAAwrFN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBwQ,eAAtB,GAAsCtS,CAAtC;AAAwC,QAAIsB,CAAC,GAAC,kuIAAN;AAAyuI5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsByQ,gBAAtB,GAAuCjR,CAAvC;;AAAyC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA3I,EAA6IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA1J,EAA4J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAnK,EAAqK5D,CAAC,CAAC0T,MAAF,GAAS,CAAC,CAA/K,EAAiL1T,CAAC,CAAC2T,MAAF,GAAS,CAAC,CAA3L,EAA6L3T,CAAC,CAAC4T,MAAF,GAAS,CAAC,CAAvM,EAAyM5T,CAAC,CAAC6T,MAAF,GAAS,CAAC,CAAnN,EAAqN7T,CAAC,CAAC8T,UAAF,GAAa,CAAC,CAAnO,EAAqO9T,CAAC,CAAC+T,UAAF,GAAa,CAAC,CAAnP,EAAqP/T,CAAC,CAACgU,UAAF,GAAa,CAAC,CAAnQ,EAAqQhU,CAAC,CAACiU,UAAF,GAAa,CAAC,CAAnR,EAAqRjU,CAAC,CAACkU,UAAF,GAAa,CAAC,CAAnS,EAAqSlU,CAAC,CAACmU,UAAF,GAAa,CAAC,CAAnT,EAAqTnU,CAAC,CAACoU,UAAF,GAAa,CAAC,CAAnU,EAAqUpU,CAAC,CAACqU,UAAF,GAAa,CAAC,CAAnV,EAAqVrU,CAAC,CAACsU,SAAF,GAAY,CAAC,CAAlW,EAAoWtU,CAAC,CAACuU,SAAF,GAAY,CAAC,CAAjX,EAAmXvU,CAAC,CAACwU,SAAF,GAAY,CAAC,CAAhY,EAAkYxU,CAAC,CAACyU,SAAF,GAAY,CAAC,CAA/Y,EAAiZzU,CAAC,CAAC0U,WAAF,GAAc,CAAC,CAAha,EAAka1U,CAAC,CAAC2U,WAAF,GAAc,CAAC,CAAjb,EAAmb3U,CAAC,CAAC4U,WAAF,GAAc,CAAC,CAAlc,EAAoc5U,CAAC,CAAC6U,WAAF,GAAc,CAAC,CAAnd,EAAqd7U,CAAC,CAAC8U,OAAF,GAAU,CAAC,CAAhe,EAAke9U,CAAC,CAAC+U,OAAF,GAAU,CAAC,CAA7e,EAA+e/U,CAAC,CAACgV,OAAF,GAAU,CAAC,CAA1f,EAA4fhV,CAAC,CAACiV,OAAF,GAAU,CAAC,CAAvgB,EAAygBjV,CAAC,CAACkV,OAAF,GAAU,CAAC,CAAphB,EAAshBlV,CAAC,CAACmV,UAAF,GAAa,CAAC,CAApiB,EAAsiBnV,CAAC,CAACoV,UAAF,GAAa,CAAC,CAApjB,EAAsjBpV,CAAC,CAACqV,UAAF,GAAa,CAAC,CAApkB,EAAskBrV,CAAC,CAACsV,UAAF,GAAa,CAAC,CAAplB,EAAslBtV,CAAC,CAACuV,cAAF,GAAiB,CAAC,CAAxmB,EAA0mBvV,CAAC,CAACwV,cAAF,GAAiB,CAAC,CAA5nB,EAA8nBxV,CAAC,CAACyV,cAAF,GAAiB,CAAC,CAAhpB,EAAkpBzV,CAAC,CAAC0V,cAAF,GAAiB,CAAC,CAApqB,EAAsqB1V,CAAC,CAAC2V,UAAF,GAAa,CAAC,CAAprB,EAAsrB3V,CAAC,CAAC4V,UAAF,GAAa,CAAC,CAApsB,EAAssB5V,CAAC,CAAC6V,UAAF,GAAa,CAAC,CAAptB,EAAstB7V,CAAC,CAAC8V,UAAF,GAAa,CAAC,CAApuB,EAAsuB9V,CAAC,CAAC+V,WAAF,GAAc,CAAC,CAArvB,EAAuvB/V,CAAC,CAACgW,WAAF,GAAc,CAAC,CAAtwB,EAAwwBhW,CAAC,CAACiW,WAAF,GAAc,CAAC,CAAvxB,EAAyxBjW,CAAC,CAACkW,WAAF,GAAc,CAAC,CAAxyB,EAA0yBlW,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAApzB,EAAszB7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAA7zB,EAA+zB9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAt0B,EAAw0B/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAv1B,EAAy1BhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAx2B,EAA02BjE,CAAC,CAACkE,oBAAF,GAAuB,CAAj4B,EAAm4BlE,CAAC,CAACmE,YAAF,GAAe,CAAl5B,EAAo5BnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAAj6B,EAAm6BpE,CAAC,CAACmW,KAAF,GAAQ,CAAC,CAA56B,EAA86BnW,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA58B,EAA88BzE,CAAC,CAAC0E,OAAF,EAA98B,EAA09B1E,CAAj+B;AAAm+B;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA/iC,CAAgjCY,CAAC,CAACgE,eAAljC,CAAN;AAAA,QAAykC9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACyL,KAAF,GAAQ,CAAR,EAAUzL,CAAC,CAACyV,WAAF,GAAc,CAAxB,EAA0BzV,CAAC,CAAC0V,iBAAF,GAAoB,CAA9C,EAAgD1V,CAAC,CAAC2V,UAAF,GAAa,GAA7D,EAAiE3V,CAAC,CAAC2L,SAAF,GAAY,CAA7E,EAA+E3L,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAA9F,EAAkHnE,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAAtI,EAAwIrE,CAAC,CAAC4V,MAAF,GAAS,CAAC,CAAlJ,EAAoJ5V,CAAC,CAACsE,sBAAF,GAAyB,CAA7K,EAA+KtE,CAAC,CAAC0L,cAAF,GAAiB,IAAIzL,CAAC,CAACkE,MAAN,EAAhM,EAA6MnE,CAApN;AAAsN;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAF,IAAmB,KAAKC,eAAxB,IAAyCrF,CAAC,CAACsF,aAAF,CAAgBC,qBAA7F,CAAH,EAAuH;AAAC,cAAG,CAAC,KAAKF,eAAL,CAAqBG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGvC,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe,CAAC,CAAjI,EAAmI/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAnI,EAAwOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAAxO,EAAsSE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAtS,EAA8VA,CAAC,CAACoG,OAAnW,EAA2W;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,CAA9B,EAA8EnC,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAxG,EAAsIY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAAlM;AAAqN,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,WAA9E,EAA0F,WAA1F,EAAsG,WAAtG,EAAkH,eAAlH,EAAkI,QAAlI,EAA2I,YAA3I,EAAwJ,aAAxJ,EAAsK,aAAtK,EAAoL,aAApL,EAAkM,aAAlM,EAAgN,aAAhN,EAA8N,eAA9N,EAA8O,MAA9O,EAAqP,OAArP,EAA6P,aAA7P,EAA2Q,UAA3Q,EAAsR,YAAtR,EAAmS,mBAAnS,CAArB;AAAA,cAA6UC,CAAC,GAAC,CAAC,gBAAD,EAAkB,cAAlB,CAA/U;AAAA,cAAiXe,CAAC,GAAC,IAAII,KAAJ,EAAnX;AAA6XxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,MAA3B,EAAkC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA;AAA5B;AAArJ,WAAlC,EAA2O7E,CAA3O,CAAZ,EAA0P7B,CAA1P,CAA/J;AAA4Z;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA57E,EAA67EzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqBtB,CAAC,CAACiV,KAAF,GAAQ,KAAKI,MAAlC,EAAyC,KAAKnN,mBAAL,CAAyBrJ,CAAzB,CAAzC,EAAqE,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAArE,EAA2I1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAA3I,EAAsM,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKmM,cAAL,IAAqB/N,CAAC,CAACsF,aAAF,CAAgBC,qBAArC,KAA6D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKkF,cAApD,GAAoE,KAAKxF,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKiF,cAAL,CAAoBhF,gBAAjE,EAAkF,KAAKgF,cAAL,CAAoB/E,KAAtG,CAApE,EAAiL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKsF,cAAL,CAAoB9E,gBAApB,EAA7C,CAA9O,GAAoU,KAAK2M,YAAL,IAAmB,KAAKrN,aAAL,CAAmBM,UAAnB,CAA8B,cAA9B,EAA6C,KAAK+M,YAAlD,CAAvV,EAAuZ5V,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAvZ,EAA4c,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAA9d,EAAshBpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAA9iB,CAAtM,EAA2xB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKmC,cAAlD,EAAiE,KAAKlH,KAAL,GAAWnF,CAAC,CAACmK,UAA9E,CAA3xB,EAAq3BxJ,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,CAA75B,EAAm9BP,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA/gC,EAAskC/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAtkC,EAAioC,KAAKmD,SAAL,IAAgB3L,CAAC,CAACkF,SAAF,GAAc+G,YAAd,EAAjpC,EAA8qC,KAAKzD,aAAL,CAAmBY,QAAnB,CAA4B,MAA5B,EAAmC,KAAKuC,SAAL,GAAe,KAAKF,KAApB,GAA0B,GAA7D,CAA9qC,EAAgvC,KAAKqK,QAAL,KAAgB,KAAKA,QAAL,GAAc7V,CAAC,CAACkE,MAAF,CAASoN,KAAT,EAA9B,CAAhvC,EAAgyC,KAAK/I,aAAL,CAAmB8J,SAAnB,CAA6B,UAA7B,EAAwC,KAAKwD,QAA7C,CAAhyC,EAAu1C,KAAKtN,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAKuM,UAA9C,CAAv1C,EAAi5C,KAAKnN,aAAL,CAAmBY,QAAnB,CAA4B,mBAA5B,EAAgD,KAAKsM,iBAArD,CAAj5C,EAAy9C,KAAKlN,aAAL,CAAmBY,QAAnB,CAA4B,aAA5B,EAA0C,KAAKqM,WAA/C,CAAz9C,EAAqhD,KAAKvL,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAxhD,CAAD;AAAgkD;AAAC,OAAzmI,EAA0mInJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK4O,cAAL,IAAqB,KAAKA,cAAL,CAAoB5D,UAAzC,IAAqD,KAAK4D,cAAL,CAAoB5D,UAApB,CAA+BxI,MAA/B,GAAsC,CAA3F,IAA8FxC,CAAC,CAAC4H,IAAF,CAAO,KAAKgH,cAAZ,CAA9F,EAA0H,KAAK6H,YAAL,IAAmB,KAAKA,YAAL,CAAkBzL,UAArC,IAAiD,KAAKyL,YAAL,CAAkBzL,UAAlB,CAA6BxI,MAA7B,GAAoC,CAArF,IAAwFxC,CAAC,CAAC4H,IAAF,CAAO,KAAK6O,YAAZ,CAAlN,EAA4OzW,CAAnP;AAAqP,OAA94I,EAA+4IC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmDjG,CAA1D;AAA4D,OAAniJ,EAAoiJA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAuC,KAAK2O,cAAL,KAAsB3O,CAAnE;AAAqE,OAA5oJ,EAA6oJA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAK2O,cAAL,IAAqB,KAAKA,cAAL,CAAoBzD,OAApB,EAArB,EAAmD,KAAKsL,YAAL,IAAmB,KAAKA,YAAL,CAAkBtL,OAAlB,EAAtE,EAAkGnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAAlG;AAAmI,OAAhzJ,EAAizJA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA96J,EAA+6J3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,sBAAb,EAAoC1L,CAA3C;AAA6C,OAAziK,EAA0iKC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,cAAN;AAAqB,OAAnmK,EAAomKnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA3sK,EAA4sKQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA5sK,EAA+yKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAA/yK,EAAi6KX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,EAAD,CAAZ,EAA6C5L,CAAC,CAAC8B,SAA/C,EAAyD,cAAzD,EAAwE,KAAK,CAA7E,CAAj6K,EAAi/KX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,UAAxD,EAAmE,KAAK,CAAxE,CAAj/K,EAA4jLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,OAAhD,EAAwD,KAAK,CAA7D,CAA5jL,EAA4nLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,aAAhD,EAA8D,KAAK,CAAnE,CAA5nL,EAAksLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,mBAAhD,EAAoE,KAAK,CAAzE,CAAlsL,EAA8wLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAA9wL,EAAm1LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAn1L,EAAk6LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAl6L,EAA8/LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAA9/L,EAA+mMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,OAApB,CAAD,CAAZ,EAA2CvL,CAAC,CAAC8B,SAA7C,EAAuD,QAAvD,EAAgE,KAAK,CAArE,CAA/mM,EAAurMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,OAAvF,EAA+F,KAAK,CAApG,CAAvrM,EAA8xMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAA9xM,EAAs4MX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAAt4M,EAA6/M9B,CAApgN;AAAsgN,KAArxN,CAAsxNY,CAAC,CAACmL,YAAxxN,CAA3kC;;AAAi3PnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,sBAA7B,IAAqDnJ,CAArD;AAAuD,GAfn0nE,EAeo0nE,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAAzC,CAAP;AAAmD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,opHAApB;AAAyqHN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB0T,cAAtB,GAAqCxV,CAArC;AAAuC,QAAIsB,CAAC,GAAC,68CAAN;AAAo9C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB2T,eAAtB,GAAsCnU,CAAtC;;AAAwC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA3I,EAA6IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA1J,EAA4J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAnK,EAAqK5D,CAAC,CAAC4W,YAAF,GAAe,CAAC,CAArL,EAAuL5W,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAAjM,EAAmM7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAA1M,EAA4M9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAnN,EAAqN/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAApO,EAAsOhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAArP,EAAuPjE,CAAC,CAACkE,oBAAF,GAAuB,CAA9Q,EAAgRlE,CAAC,CAACmE,YAAF,GAAe,CAA/R,EAAiSnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA9S,EAAgTpE,CAAC,CAAC6W,OAAF,GAAU,CAAC,CAA3T,EAA6T7W,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA3V,EAA6VzE,CAAC,CAAC0E,OAAF,EAA7V,EAAyW1E,CAAhX;AAAkX;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA9b,CAA+bY,CAAC,CAACgE,eAAjc,CAAN;AAAA,QAAwd9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACmW,aAAF,GAAgB,IAAIlW,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAnD,EAAuEnE,CAAC,CAACoW,aAAF,GAAgB,EAAvF,EAA0FpW,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAA9G,EAAgHrE,CAAC,CAACsE,sBAAF,GAAyB,CAAzI,EAA2ItE,CAAlJ;AAAoJ;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAG3E,CAAC,CAAC8E,eAAL,EAAqB;AAAC,cAAG,CAAC,KAAKgR,YAAN,IAAoB,CAAC,KAAKA,YAAL,CAAkB5Q,OAAlB,EAAxB,EAAoD,OAAM,CAAC,CAAP;;AAAS,cAAGzF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcnF,CAAC,CAACsF,aAAF,CAAgBC,qBAAjC,EAAuD;AAAC,gBAAG,CAAC,KAAK8Q,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsB7Q,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;AAAS,gBAAGzF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAX,EAAa,CAAC,KAAK+T,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsB9Q,OAAtB,EAAzC,EAAyE,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAK+Q,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsB/Q,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAKgR,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsBhR,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;;AAAS,gBAAG,KAAKiR,YAAR,EAAqB;AAAC,kBAAG,CAAC,KAAKA,YAAL,CAAkBjR,OAAlB,EAAJ,EAAgC,OAAM,CAAC,CAAP;AAAS,kBAAGzF,CAAC,CAACkW,OAAF,GAAU,CAAC,CAAX,EAAa,CAAC,KAAKS,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsBlR,OAAtB,EAAzC,EAAyE,OAAM,CAAC,CAAP;AAAS,kBAAG,CAAC,KAAKmR,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsBnR,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;AAAS,kBAAG,CAAC,KAAKoR,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsBpR,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;AAAS,kBAAG,CAAC,KAAKqR,gBAAN,IAAwB,CAAC,KAAKA,gBAAL,CAAsBrR,OAAtB,EAA5B,EAA4D,OAAM,CAAC,CAAP;AAAS;AAAC;AAAC;;AAAA,YAAGxF,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAhI,EAAqOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAArO,EAAmSE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAnS,EAA2VA,CAAC,CAACoG,OAAhW,EAAwW;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,EAA+C,KAAKuE,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,gBAA9E,EAA+F,WAA/F,EAA2G,WAA3G,EAAuH,WAAvH,EAAmI,eAAnI,EAAmJ,QAAnJ,EAA4J,YAA5J,EAAyK,aAAzK,EAAuL,aAAvL,EAAqM,aAArM,EAAmN,aAAnN,EAAiO,aAAjO,EAA+O,eAA/O,EAA+P,eAA/P,EAA+Q,eAA/Q,EAA+R,eAA/R,EAA+S,eAA/S,EAA+T,eAA/T,EAA+U,eAA/U,EAA+V,eAA/V,EAA+W,eAA/W,CAArB;AAAA,cAAqZC,CAAC,GAAC,CAAC,gBAAD,EAAkB,gBAAlB,EAAmC,iBAAnC,EAAqD,iBAArD,EAAuE,iBAAvE,EAAyF,iBAAzF,EAA2G,iBAA3G,EAA6H,iBAA7H,EAA+I,iBAA/I,EAAiK,iBAAjK,CAAvZ;AAAA,cAA2kBe,CAAC,GAAC,IAAII,KAAJ,EAA7kB;AAAulBxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,KAA3B,EAAiC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA;AAA5B;AAArJ,WAAjC,EAA0O7E,CAA1O,CAAZ,EAAyP7B,CAAzP,CAA/J;AAA2Z;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA5vG,EAA6vGzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKwU,YAAL,KAAoB,KAAK7N,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKuN,YAApD,GAAkE,KAAK7N,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKsN,YAAL,CAAkBrN,gBAA/D,EAAgF,KAAKqN,YAAL,CAAkBpN,KAAlG,CAAlE,EAA2K,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAK2N,YAAL,CAAkBnN,gBAAlB,EAA7C,CAA3K,EAA8PjJ,CAAC,CAACsF,aAAF,CAAgBC,qBAAhB,KAAwC,KAAK8Q,gBAAL,KAAwB,KAAK9N,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKwN,gBAArD,GAAuE,KAAK9N,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKuN,gBAAL,CAAsBS,MAAnE,EAA0E,KAAKT,gBAAL,CAAsBU,MAAhG,CAA/F,GAAwM,KAAKT,gBAAL,KAAwB,KAAK/N,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKyN,gBAArD,GAAuE,KAAK/N,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKwN,gBAAL,CAAsBQ,MAAnE,EAA0E,KAAKR,gBAAL,CAAsBS,MAAhG,CAA/F,CAAxM,EAAgZ,KAAKR,gBAAL,KAAwB,KAAKhO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK0N,gBAArD,GAAuE,KAAKhO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKyN,gBAAL,CAAsBO,MAAnE,EAA0E,KAAKP,gBAAL,CAAsBQ,MAAhG,CAA/F,CAAhZ,EAAwlB,KAAKP,gBAAL,KAAwB,KAAKjO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK2N,gBAArD,GAAuE,KAAKjO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK0N,gBAAL,CAAsBM,MAAnE,EAA0E,KAAKN,gBAAL,CAAsBO,MAAhG,CAA/F,CAAhoB,CAAlR,GAA4lC,KAAKN,YAAL,KAAoB,KAAKlO,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK4N,YAApD,GAAkEzW,CAAC,CAACsF,aAAF,CAAgBC,qBAAhB,KAAwC,KAAKmR,gBAAL,KAAwB,KAAKnO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK6N,gBAArD,GAAuE,KAAKnO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK4N,gBAAL,CAAsBI,MAAnE,EAA0E,KAAKJ,gBAAL,CAAsBK,MAAhG,CAA/F,GAAwM,KAAKJ,gBAAL,KAAwB,KAAKpO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK8N,gBAArD,GAAuE,KAAKpO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK6N,gBAAL,CAAsBG,MAAnE,EAA0E,KAAKH,gBAAL,CAAsBI,MAAhG,CAA/F,CAAxM,EAAgZ,KAAKH,gBAAL,KAAwB,KAAKrO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK+N,gBAArD,GAAuE,KAAKrO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK8N,gBAAL,CAAsBE,MAAnE,EAA0E,KAAKF,gBAAL,CAAsBG,MAAhG,CAA/F,CAAhZ,EAAwlB,KAAKF,gBAAL,KAAwB,KAAKtO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKgO,gBAArD,GAAuE,KAAKtO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAK+N,gBAAL,CAAsBC,MAAnE,EAA0E,KAAKD,gBAAL,CAAsBE,MAAhG,CAA/F,CAAhoB,CAAtF,CAA5lC,EAA4/D/W,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAA5/D,EAAijE,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAnkE,EAA2nEpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAnpE,CAAlL,EAA42E,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAA52E,EAAo8EjJ,CAAC,CAAC0V,YAAF,IAAgB,KAAKzN,aAAL,CAAmBe,SAAnB,CAA6B,gBAA7B,EAA8C,KAAK4M,aAAnD,EAAiE,KAAKC,aAAtE,CAAp9E,EAAyiFpW,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAjlF,EAAkqF1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA9tF,EAAqxF/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAArxF,EAAg1F,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAn1F,CAAD;AAA23F;AAAC,OAApuM,EAAquMnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAKiX,YAAL,IAAmB,KAAKA,YAAL,CAAkBjM,UAArC,IAAiD,KAAKiM,YAAL,CAAkBjM,UAAlB,CAA6BxI,MAA7B,GAAoC,CAArF,IAAwFxC,CAAC,CAAC4H,IAAF,CAAO,KAAKqP,YAAZ,CAAxF,EAAkH,KAAKK,YAAL,IAAmB,KAAKA,YAAL,CAAkBtM,UAArC,IAAiD,KAAKsM,YAAL,CAAkBtM,UAAlB,CAA6BxI,MAA7B,GAAoC,CAArF,IAAwFxC,CAAC,CAAC4H,IAAF,CAAO,KAAK0P,YAAZ,CAA1M,EAAoOtX,CAA3O;AAA6O,OAAjgN,EAAkgNC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKkW,YAAL,IAAmBhX,CAAC,CAAC2H,IAAF,CAAO,KAAKqP,YAAZ,CAAnB,EAA6C,KAAKC,gBAAL,IAAuBjX,CAAC,CAAC2H,IAAF,CAAO,KAAKsP,gBAAZ,CAApE,EAAkG,KAAKC,gBAAL,IAAuBlX,CAAC,CAAC2H,IAAF,CAAO,KAAKuP,gBAAZ,CAAzH,EAAuJ,KAAKC,gBAAL,IAAuBnX,CAAC,CAAC2H,IAAF,CAAO,KAAKwP,gBAAZ,CAA9K,EAA4M,KAAKC,gBAAL,IAAuBpX,CAAC,CAAC2H,IAAF,CAAO,KAAKyP,gBAAZ,CAAnO,EAAiQ,KAAKC,YAAL,IAAmBrX,CAAC,CAAC2H,IAAF,CAAO,KAAK0P,YAAZ,CAApR,EAA8S,KAAKC,gBAAL,IAAuBtX,CAAC,CAAC2H,IAAF,CAAO,KAAK2P,gBAAZ,CAArU,EAAmW,KAAKC,gBAAL,IAAuBvX,CAAC,CAAC2H,IAAF,CAAO,KAAK4P,gBAAZ,CAA1X,EAAwZ,KAAKC,gBAAL,IAAuBxX,CAAC,CAAC2H,IAAF,CAAO,KAAK6P,gBAAZ,CAA/a,EAA6c,KAAKC,gBAAL,IAAuBzX,CAAC,CAAC2H,IAAF,CAAO,KAAK8P,gBAAZ,CAApe,EAAkgBzX,CAAzgB;AAA2gB,OAArmO,EAAsmOA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAwC,KAAKgX,YAAL,KAAoBhX,CAApB,IAAwB,KAAKiX,gBAAL,KAAwBjX,CAAxB,IAA4B,KAAKkX,gBAAL,KAAwBlX,CAAxB,IAA4B,KAAKmX,gBAAL,KAAwBnX,CAAxB,IAA4B,KAAKoX,gBAAL,KAAwBpX,CAAxB,IAA4B,KAAKqX,YAAL,KAAoBrX,CAApB,IAAwB,KAAKsX,gBAAL,KAAwBtX,CAAxB,IAA4B,KAAKuX,gBAAL,KAAwBvX,CAAxB,IAA4B,KAAKwX,gBAAL,KAAwBxX,CAAxB,IAA2B,KAAKyX,gBAAL,KAAwBzX,CAAzT;AAAoU,OAA78O,EAA88OA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKgX,YAAL,IAAmB,KAAKA,YAAL,CAAkB9L,OAAlB,EAAnB,EAA+CnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAA/C;AAAgF,OAA9jP,EAA+jPA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA5rP,EAA6rP3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,qBAAb,EAAmC1L,CAA1C;AAA4C,OAAtzP,EAAuzPC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,aAAN;AAAoB,OAA/2P,EAAg3PnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAAv9P,EAAw9PQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,aAA7B,CAAD,CAAZ,EAA0D5L,CAAC,CAAC8B,SAA5D,EAAsE,cAAtE,EAAqF,KAAK,CAA1F,CAAx9P,EAAqjQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,aAAzF,EAAuG,KAAK,CAA5G,CAArjQ,EAAoqQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,aAA7B,CAAD,CAAZ,EAA0D5L,CAAC,CAAC8B,SAA5D,EAAsE,cAAtE,EAAqF,KAAK,CAA1F,CAApqQ,EAAiwQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,aAAzF,EAAuG,KAAK,CAA5G,CAAjwQ,EAAg3QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAh3Q,EAAq9QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAr9Q,EAAwkRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAxkR,EAA6qRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAA7qR,EAAgyRX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAhyR,EAAq4RX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAr4R,EAAw/RX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAx/R,EAA6lSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAA7lS,EAAgtSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAhtS,EAAqzSX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAArzS,EAAw6SX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAx6S,EAA6gTX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAA7gT,EAAgoTX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAhoT,EAAquTX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAruT,EAAw1TX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAAx1T,EAA67TX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAA77T,EAAgjUX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAhjU,EAA+nUX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,eAAxD,EAAwE,KAAK,CAA7E,CAA/nU,EAA+sUX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,eAAhD,EAAgE,KAAK,CAArE,CAA/sU,EAAuxUX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAvxU,EAAm3UX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAAn3U,EAAo+UX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAp+U,EAA4kVX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA5kV,EAAmsV9B,CAA1sV;AAA4sV,KAAz5V,CAA05VY,CAAC,CAACmL,YAA55V,CAA1d;;AAAo4WnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,qBAA7B,IAAoDnJ,CAApD;AAAsD,GAf1hpF,EAe2hpF,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA5C,CAAP;AAAsD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,qoDAApB;AAA0pDN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB4U,iBAAtB,GAAwC1W,CAAxC;AAA0C,QAAIsB,CAAC,GAAC,42CAAN;AAAm3C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB6U,kBAAtB,GAAyCrV,CAAzC;;AAA2C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA3I,EAA6IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA1J,EAA4J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAnK,EAAqK5D,CAAC,CAAC0T,MAAF,GAAS,CAAC,CAA/K,EAAiL1T,CAAC,CAAC2T,MAAF,GAAS,CAAC,CAA3L,EAA6L3T,CAAC,CAAC4T,MAAF,GAAS,CAAC,CAAvM,EAAyM5T,CAAC,CAAC6T,MAAF,GAAS,CAAC,CAAnN,EAAqN7T,CAAC,CAAC8T,UAAF,GAAa,CAAC,CAAnO,EAAqO9T,CAAC,CAAC+T,UAAF,GAAa,CAAC,CAAnP,EAAqP/T,CAAC,CAACgU,UAAF,GAAa,CAAC,CAAnQ,EAAqQhU,CAAC,CAACiU,UAAF,GAAa,CAAC,CAAnR,EAAqRjU,CAAC,CAACkU,UAAF,GAAa,CAAC,CAAnS,EAAqSlU,CAAC,CAACmU,UAAF,GAAa,CAAC,CAAnT,EAAqTnU,CAAC,CAACoU,UAAF,GAAa,CAAC,CAAnU,EAAqUpU,CAAC,CAACqU,UAAF,GAAa,CAAC,CAAnV,EAAqVrU,CAAC,CAACsU,SAAF,GAAY,CAAC,CAAlW,EAAoWtU,CAAC,CAACuU,SAAF,GAAY,CAAC,CAAjX,EAAmXvU,CAAC,CAACwU,SAAF,GAAY,CAAC,CAAhY,EAAkYxU,CAAC,CAACyU,SAAF,GAAY,CAAC,CAA/Y,EAAiZzU,CAAC,CAAC0U,WAAF,GAAc,CAAC,CAAha,EAAka1U,CAAC,CAAC2U,WAAF,GAAc,CAAC,CAAjb,EAAmb3U,CAAC,CAAC4U,WAAF,GAAc,CAAC,CAAlc,EAAoc5U,CAAC,CAAC6U,WAAF,GAAc,CAAC,CAAnd,EAAqd7U,CAAC,CAAC8U,OAAF,GAAU,CAAC,CAAhe,EAAke9U,CAAC,CAAC+U,OAAF,GAAU,CAAC,CAA7e,EAA+e/U,CAAC,CAACgV,OAAF,GAAU,CAAC,CAA1f,EAA4fhV,CAAC,CAACiV,OAAF,GAAU,CAAC,CAAvgB,EAAygBjV,CAAC,CAACkV,OAAF,GAAU,CAAC,CAAphB,EAAshBlV,CAAC,CAACmV,UAAF,GAAa,CAAC,CAApiB,EAAsiBnV,CAAC,CAACoV,UAAF,GAAa,CAAC,CAApjB,EAAsjBpV,CAAC,CAACqV,UAAF,GAAa,CAAC,CAApkB,EAAskBrV,CAAC,CAACsV,UAAF,GAAa,CAAC,CAAplB,EAAslBtV,CAAC,CAACuV,cAAF,GAAiB,CAAC,CAAxmB,EAA0mBvV,CAAC,CAACwV,cAAF,GAAiB,CAAC,CAA5nB,EAA8nBxV,CAAC,CAACyV,cAAF,GAAiB,CAAC,CAAhpB,EAAkpBzV,CAAC,CAAC0V,cAAF,GAAiB,CAAC,CAApqB,EAAsqB1V,CAAC,CAAC2V,UAAF,GAAa,CAAC,CAAprB,EAAsrB3V,CAAC,CAAC4V,UAAF,GAAa,CAAC,CAApsB,EAAssB5V,CAAC,CAAC6V,UAAF,GAAa,CAAC,CAAptB,EAAstB7V,CAAC,CAAC8V,UAAF,GAAa,CAAC,CAApuB,EAAsuB9V,CAAC,CAAC+V,WAAF,GAAc,CAAC,CAArvB,EAAuvB/V,CAAC,CAACgW,WAAF,GAAc,CAAC,CAAtwB,EAAwwBhW,CAAC,CAACiW,WAAF,GAAc,CAAC,CAAvxB,EAAyxBjW,CAAC,CAACkW,WAAF,GAAc,CAAC,CAAxyB,EAA0yBlW,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAApzB,EAAszB7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAA7zB,EAA+zB9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAt0B,EAAw0B/D,CAAC,CAACkE,oBAAF,GAAuB,CAA/1B,EAAi2BlE,CAAC,CAACmE,YAAF,GAAe,CAAh3B,EAAk3BnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA/3B,EAAi4BpE,CAAC,CAAC8X,QAAF,GAAW,CAAC,CAA74B,EAA+4B9X,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA76B,EAA+6BzE,CAAC,CAAC0E,OAAF,EAA/6B,EAA27B1E,CAAl8B;AAAo8B;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAAhhC,CAAihCY,CAAC,CAACgE,eAAnhC,CAAN;AAAA,QAA0iC9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAAvD,EAAyDrE,CAAC,CAACsE,sBAAF,GAAyB,CAAlF,EAAoFtE,CAA3F;AAA6F;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAY+Q,wBAAZ,GAAqC,UAAS9S,CAAT,EAAW;AAAC,eAAO,KAAKmF,iBAAL,MAA0BnF,CAAC,CAACoK,UAAF,GAAa,CAA9C;AAAgD,OAAhL,EAAiLnK,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAlO,EAAmOpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAA1R,EAA2RrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAF,IAAmB,KAAKC,eAAxB,IAAyCrF,CAAC,CAACsF,aAAF,CAAgBC,qBAA7F,CAAH,EAAuH;AAAC,cAAG,CAAC,KAAKF,eAAL,CAAqBG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGvC,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe,CAAC,CAAjI,EAAmI/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAnI,EAAwOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAAxO,EAAsSC,CAAC,CAACmX,QAAF,GAAW,CAAC,KAAK9S,gBAAvT,EAAwUpE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAxU,EAAgYA,CAAC,CAACoG,OAArY,EAA6Y;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,CAA9B,EAA8EnC,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAxG,EAAsIY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAAlM;AAAqN,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHlH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvH,EAA2KlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3K;AAA+N,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,WAA9E,EAA0F,WAA1F,EAAsG,WAAtG,EAAkH,eAAlH,EAAkI,QAAlI,EAA2I,YAA3I,EAAwJ,aAAxJ,EAAsK,aAAtK,EAAoL,aAApL,EAAkM,aAAlM,EAAgN,aAAhN,EAA8N,eAA9N,CAArB;AAAA,cAAoQC,CAAC,GAAC,CAAC,gBAAD,CAAtQ;AAAA,cAAyRe,CAAC,GAAC,IAAII,KAAJ,EAA3R;AAAqSxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC;AAAlF,WAAhD,GAAsIrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,QAA3B,EAAoC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC;AAAvB;AAArJ,WAApC,EAAoN7E,CAApN,CAAZ,EAAmO7B,CAAnO,CAAtI;AAA4W;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAx4E,EAAy4EzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKmM,cAAL,IAAqB/N,CAAC,CAACsF,aAAF,CAAgBC,qBAArC,KAA6D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKkF,cAApD,GAAoE,KAAKxF,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKiF,cAAL,CAAoBhF,gBAAjE,EAAkF,KAAKgF,cAAL,CAAoB/E,KAAtG,CAApE,EAAiL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKsF,cAAL,CAAoB9E,gBAApB,EAA7C,CAA9O,GAAoUjJ,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAApU,EAAyX,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAA3Y,EAAmcpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAA3d,CAAlL,EAAorB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAAprB,EAA4wBxJ,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,CAApzB,EAA02BP,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAt6B,EAA69B/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAA79B,EAAwhC,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAA3hC,CAAD;AAAmkC;AAAC,OAAxjH,EAAyjHnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK4O,cAAL,IAAqB,KAAKA,cAAL,CAAoB5D,UAAzC,IAAqD,KAAK4D,cAAL,CAAoB5D,UAApB,CAA+BxI,MAA/B,GAAsC,CAA3F,IAA8FxC,CAAC,CAAC4H,IAAF,CAAO,KAAKgH,cAAZ,CAA9F,EAA0H5O,CAAjI;AAAmI,OAA3uH,EAA4uHC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmDjG,CAA1D;AAA4D,OAAh4H,EAAi4HA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAuC,KAAK2O,cAAL,KAAsB3O,CAAnE;AAAqE,OAAz+H,EAA0+HA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAK2O,cAAL,IAAqB,KAAKA,cAAL,CAAoBzD,OAApB,EAArB,EAAmDnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAAnD;AAAoF,OAA9lI,EAA+lIA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA5tI,EAA6tI3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,wBAAb,EAAsC1L,CAA7C;AAA+C,OAAz1I,EAA01IC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,gBAAN;AAAuB,OAAr5I,EAAs5InL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA7/I,EAA8/IQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA9/I,EAAimJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAjmJ,EAAmtJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAntJ,EAAkyJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAlyJ,EAA83JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAA93J,EAA++JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAA/+J,EAAulKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAAvlK,EAA8sK9B,CAArtK;AAAutK,KAA72K,CAA82KY,CAAC,CAACmL,YAAh3K,CAA5iC;;AAA06MnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,wBAA7B,IAAuDnJ,CAAvD;AAAyD,GAfnr8F,EAeor8F,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAAhD,CAAP;AAA0D,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,m4BAApB;AAAw5BN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB+U,qBAAtB,GAA4C7W,CAA5C;AAA8C,QAAIsB,CAAC,GAAC,06BAAN;AAAi7B5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBgV,sBAAtB,GAA6CxV,CAA7C;;AAA+C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACoD,SAAF,GAAY,CAAC,CAAb,EAAepD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA7B,EAA+BrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA7C,EAA+CtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA7D,EAA+DvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA7E,EAA+ExD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA7F,EAA+FzD,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA5G,EAA8G3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAArH,EAAuH5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAAjI,EAAmI7D,CAAC,CAACkE,oBAAF,GAAuB,CAA1J,EAA4JlE,CAAC,CAACmE,YAAF,GAAe,CAA3K,EAA6KnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA1L,EAA4LpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA1N,EAA4NzE,CAAC,CAAC0E,OAAF,EAA5N,EAAwO1E,CAA/O;AAAiP;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA7T,CAA8TY,CAAC,CAACgE,eAAhU,CAAN;AAAA,QAAuV9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACsX,kBAAF,GAAqB,CAAC,CAAtB,EAAwBtX,CAAC,CAACuX,WAAF,GAActX,CAAC,CAACkE,MAAF,CAASoN,KAAT,EAAtC,EAAuDvR,CAA9D;AAAgE;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAK+S,kBAAZ;AAA+B,OAAzF,EAA0FjY,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAA3I,EAA4IpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAnM,EAAoMlE,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,aAAlC,EAAgD;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAO,KAAK6W,YAAZ;AAAyB,SAAzC;AAA0C7J,QAAAA,GAAG,EAAC,aAASvO,CAAT,EAAW;AAAC,eAAKoY,YAAL,GAAkBpY,CAAlB;AAAoB,SAA9E;AAA+EsB,QAAAA,UAAU,EAAC,CAAC,CAA3F;AAA6FkN,QAAAA,YAAY,EAAC,CAAC;AAA3G,OAAhD,CAApM,EAAmWvO,CAAC,CAAC8B,SAAF,CAAYsW,2BAAZ,GAAwC,UAASrY,CAAT,EAAW;AAAC,aAAI,IAAIC,CAAC,GAAC,CAAN,EAAQU,CAAC,GAACX,CAAC,CAACsY,YAAhB,EAA6BrY,CAAC,GAACU,CAAC,CAAC6B,MAAjC,EAAwCvC,CAAC,EAAzC,EAA4C;AAAC,cAAIW,CAAC,GAACD,CAAC,CAACV,CAAD,CAAP;AAAW,cAAGW,CAAC,CAAC2X,aAAL,EAAmB,OAAO3X,CAAP;AAAS;;AAAA,eAAO,IAAP;AAAY,OAAvf,EAAwfX,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAJ;AAAM,YAAG,KAAK4E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAIf,CAAC,GAAClB,CAAC,CAAC0F,gBAAR;AAAA,YAAyBlD,CAAC,GAAC,KAAKmD,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAI8C,CAAC,GAACN,CAAC,CAACqD,SAAF,EAAN;AAAoB,YAAG,KAAKsS,YAAR,EAAqB,KAAI,IAAItX,CAAC,GAAC,CAAN,EAAQqH,CAAC,GAACnI,CAAC,CAACsY,YAAhB,EAA6BxX,CAAC,GAACqH,CAAC,CAAC3F,MAAjC,EAAwC1B,CAAC,EAAzC,EAA4C;AAAC,cAAIG,CAAC,GAACkH,CAAC,CAACrH,CAAD,CAAP;;AAAW,cAAGG,CAAC,CAACsX,aAAL,EAAmB;AAAC,gBAAG,KAAKH,YAAL,KAAoBnX,CAAvB,EAAyB;AAAM,gBAAIC,CAAC,GAAClB,CAAC,CAACsY,YAAF,CAAeE,OAAf,CAAuB,KAAKJ,YAA5B,CAAN;AAAgD,aAAC,CAAD,KAAKlX,CAAL,KAASlB,CAAC,CAACsY,YAAF,CAAeG,MAAf,CAAsBvX,CAAtB,EAAwB,CAAxB,GAA2BlB,CAAC,CAACsY,YAAF,CAAeG,MAAf,CAAsB,CAAtB,EAAwB,CAAxB,EAA0B,KAAKL,YAA/B,CAApC;AAAkF;AAAM;AAAC;AAAAvX,QAAAA,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmDrE,CAAnD,EAAqDM,CAArD,EAAuD5B,CAAvD,EAAyD,CAAC,CAACR,CAA3D,GAA8DE,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCyC,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKgE,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GmB,CAA9G,CAA9D,EAA+KA,CAAC,CAACyF,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyCpE,CAAzC,EAA2CzC,CAA3C,EAA6CmB,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,CAAlD,CAA9L;AAAmP,YAAIc,CAAC,GAAC,UAAQrB,CAAC,GAAC,KAAKyX,2BAAL,CAAiCrY,CAAjC,CAAV,KAAgD,KAAK,CAAL,KAASY,CAAzD,GAA2D,KAAK,CAAhE,GAAkEA,CAAC,CAAC8X,kBAAF,EAAxE;;AAA+F,YAAG,KAAKR,kBAAL,GAAwB,CAAC,CAAzB,EAA2BjW,CAAC,IAAEA,CAAC,CAACmJ,YAAL,IAAmB,8BAA4BnJ,CAAC,CAACmJ,YAAF,EAA7E,EAA8F;AAAC,cAAIuN,CAAC,GAAC1W,CAAN;AAAQ,eAAKiW,kBAAL,GAAwB,CAACS,CAAC,CAACC,mBAA3B;AAA+C;;AAAA,YAAG/X,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CmB,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,GAAwDA,CAAC,CAAC6F,OAA7D,EAAqE;AAAC7F,UAAAA,CAAC,CAAC8F,eAAF,IAAoBxE,CAAC,CAACyE,mBAAF,EAApB;AAA4C,cAAI2R,CAAC,GAAC,IAAIhY,CAAC,CAACsG,eAAN,EAAN;AAA4BhG,UAAAA,CAAC,CAAC0C,GAAF,IAAOgV,CAAC,CAACzR,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2ClG,CAA3C,EAA6C0X,CAA7C,EAA+C,CAA/C,CAA9B,EAAgF1X,CAAC,CAACgD,oBAAF,GAAuB,CAAvB,IAA0B0U,CAAC,CAACtR,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAA1G,EAAwImB,CAAC,CAACuD,0BAAF,GAA6BjC,CAAC,CAAC+E,4BAAF,CAA+BC,kBAApM;AAAuN,cAAIzG,CAAC,GAAC,CAACH,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoCxG,UAAAA,CAAC,CAAC2C,MAAF,IAAU9C,CAAC,CAAC4G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4ChH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CjH,CAA3C,EAA6ChB,CAA7C,EAA+CmB,CAA/C,EAAiD0X,CAAjD,CAA5C,EAAgGhY,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+ClH,CAA/C,EAAiDG,CAAjD,CAAhG;;AAAoJ,cAAI2X,CAAC,GAAC3X,CAAC,CAACiH,QAAF,EAAN;AAAA,cAAmB+K,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,WAA9D,EAA0E,WAA1E,EAAsF,WAAtF,EAAkG,OAAlG,EAA0G,aAA1G,EAAwH,QAAxH,EAAiI,YAAjI,EAA8I,aAA9I,EAA4J,aAA5J,EAA0K,aAA1K,EAAwL,aAAxL,EAAsM,aAAtM,CAArB;AAAA,cAA0O4F,CAAC,GAAC,IAAI1W,KAAJ,EAA5O;AAAA,cAAsP2W,CAAC,GAAC,IAAI3W,KAAJ,EAAxP;;AAAkQxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAAC6K,CAAf;AAAiB5K,YAAAA,mBAAmB,EAACyQ,CAArC;AAAuCxQ,YAAAA,QAAQ,EAACuQ,CAAhD;AAAkDtQ,YAAAA,OAAO,EAACtH,CAA1D;AAA4DmG,YAAAA,qBAAqB,EAAC;AAAlF,WAAhD,GAAsIrH,CAAC,CAACyI,SAAF,CAAYjG,CAAC,CAACqD,SAAF,GAAc6C,YAAd,CAA2B,YAA3B,EAAwC;AAACC,YAAAA,UAAU,EAAC5H,CAAZ;AAAcsH,YAAAA,aAAa,EAAC6K,CAA5B;AAA8B5K,YAAAA,mBAAmB,EAACyQ,CAAlD;AAAoDxQ,YAAAA,QAAQ,EAACuQ,CAA7D;AAA+DtQ,YAAAA,OAAO,EAACqQ,CAAvE;AAAyEjQ,YAAAA,SAAS,EAACgQ,CAAnF;AAAqF/P,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC;AAAvB;AAArJ,WAAxC,EAAwNvE,CAAxN,CAAZ,EAAuO5B,CAAvO,CAAtI;AAAgX;;AAAA,eAAM,EAAE,CAAClB,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoClF,CAAC,CAAC8H,SAAF,GAAYxG,CAAC,CAACyG,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA7uF,EAA8uFzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;;AAAe,cAAGhD,CAAH,EAAK;AAAC,gBAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB5B,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,GAAqD,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAvE,EAA+H,KAAKb,aAAL,CAAmBY,QAAnB,CAA4B,OAA5B,EAAoC,KAAK5E,KAAzC,CAA/H,EAA+K,KAAKgE,aAAL,CAAmB8J,SAAnB,CAA6B,aAA7B,EAA2C,KAAKiF,WAAhD,CAA/K,EAA4OtX,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAApQ,CAAlL,EAA6dA,CAAC,CAACyJ,aAAle,EAAgf;AAACxJ,cAAAA,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,CAArD;;AAAwD,kBAAIe,CAAC,GAAC,KAAKmW,2BAAL,CAAiCpY,CAAjC,CAAN;;AAA0CiC,cAAAA,CAAC,KAAGA,CAAC,CAAC+G,SAAF,GAAY,CAAC,CAAhB,CAAD;AAAoB;;AAAA,aAACrI,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4DxJ,CAAC,CAAC8X,UAA/D,KAA4E,KAAK7P,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA5E,EAAmI/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAnI,EAA8L,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAA9L;AAAoO;AAAC;AAAC,OAA5qH,EAA6qHnJ,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA1yH,EAA2yH3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,4BAAb,EAA0C1L,CAAjD;AAAmD,OAA36H,EAA46HC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,oBAAN;AAA2B,OAA3+H,EAA4+HnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAAnlI,EAAolIX,CAA3lI;AAA6lI,KAAttI,CAAutIY,CAAC,CAACmL,YAAztI,CAAzV;;AAAgkJnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,4BAA7B,IAA2DnJ,CAA3D;AAA6D,GAf9ypG,EAe+ypG,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA5C,CAAP;AAAsD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,uiDAApB;AAA4jDN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBiW,iBAAtB,GAAwC/X,CAAxC;AAA0C,QAAIsB,CAAC,GAAC,28CAAN;AAAk9C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBkW,kBAAtB,GAAyC1W,CAAzC;;AAA2C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACoD,SAAF,GAAY,CAAC,CAA1B,EAA4BpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA1C,EAA4CrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA1D,EAA4DtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA1E,EAA4EvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA1F,EAA4FxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA1G,EAA4GzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAzH,EAA2H1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAA3I,EAA6IxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA1J,EAA4J3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAnK,EAAqK5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA/K,EAAiL7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAAxL,EAA0L9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAAjM,EAAmM/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAlN,EAAoNhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAnO,EAAqOjE,CAAC,CAACkE,oBAAF,GAAuB,CAA5P,EAA8PlE,CAAC,CAACmE,YAAF,GAAe,CAA7Q,EAA+QnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA5R,EAA8RpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA5T,EAA8TzE,CAAC,CAAC0E,OAAF,EAA9T,EAA0U1E,CAAjV;AAAmV;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA/Z,CAAgaY,CAAC,CAACgE,eAAla,CAAN;AAAA,QAAyb9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAAvD,EAAyDrE,CAAC,CAACsE,sBAAF,GAAyB,CAAlF,EAAoFtE,CAA3F;AAA6F;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAF,IAAmB,KAAKC,eAAxB,IAAyCrF,CAAC,CAACsF,aAAF,CAAgBC,qBAA7F,CAAH,EAAuH;AAAC,cAAG,CAAC,KAAKF,eAAL,CAAqBG,OAArB,EAAJ,EAAmC,OAAM,CAAC,CAAP;AAASzF,UAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAzB;AAA2B;;AAAA,YAAGvC,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAhI,EAAqOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAArO,EAAmSE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAnS,EAA2VA,CAAC,CAACoG,OAAhW,EAAwW;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,EAA+C,KAAKuE,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,WAA9E,EAA0F,WAA1F,EAAsG,WAAtG,EAAkH,eAAlH,EAAkI,QAAlI,EAA2I,YAA3I,EAAwJ,aAAxJ,EAAsK,aAAtK,EAAoL,aAApL,EAAkM,aAAlM,EAAgN,aAAhN,EAA8N,eAA9N,CAArB;AAAA,cAAoQC,CAAC,GAAC,CAAC,gBAAD,CAAtQ;AAAA,cAAyRe,CAAC,GAAC,IAAII,KAAJ,EAA3R;AAAqSxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,QAA3B,EAAoC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKpC,sBAAL,GAA4B;AAAnD;AAArJ,WAApC,EAAgPzC,CAAhP,CAAZ,EAA+P7B,CAA/P,CAA/J;AAAia;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAj4E,EAAk4EzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKyD,eAAL,IAAsBrF,CAAC,CAACsF,aAAF,CAAgBC,qBAAtC,KAA8D,KAAKgD,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKxD,eAApD,GAAqE,KAAKkD,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKzD,eAAL,CAAqB0D,gBAAlE,EAAmF,KAAK1D,eAAL,CAAqB2D,KAAxG,CAArE,EAAoL,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAKpD,eAAL,CAAqB4D,gBAArB,EAA7C,CAAlP,GAAyUjJ,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAzU,EAA8X,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAhZ,EAAwcpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAhe,CAAlL,EAAyrB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAAzrB,EAAixBxJ,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAzzB,EAA04B1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAt8B,EAA6/B/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAA7/B,EAAwjC,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAA3jC,CAAD;AAAmmC;AAAC,OAAjlH,EAAklHnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAKkG,eAAL,IAAsB,KAAKA,eAAL,CAAqB8E,UAA3C,IAAuD,KAAK9E,eAAL,CAAqB8E,UAArB,CAAgCxI,MAAhC,GAAuC,CAA9F,IAAiGxC,CAAC,CAAC4H,IAAF,CAAO,KAAK1B,eAAZ,CAAjG,EAA8HlG,CAArI;AAAuI,OAAxwH,EAAywHC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKmF,eAAL,IAAsBjG,CAAC,CAAC2H,IAAF,CAAO,KAAK1B,eAAZ,CAAtB,EAAmDjG,CAA1D;AAA4D,OAA75H,EAA85HA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAuC,KAAK2O,cAAL,KAAsB3O,CAAnE;AAAqE,OAAtgI,EAAugIA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKiG,eAAL,IAAsB,KAAKA,eAAL,CAAqBiF,OAArB,EAAtB,EAAqDnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAArD;AAAsF,OAA7nI,EAA8nIA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA3vI,EAA4vI3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,wBAAb,EAAsC1L,CAA7C;AAA+C,OAAx3I,EAAy3IC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,gBAAN;AAAuB,OAAp7I,EAAq7InL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA5hJ,EAA6hJQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA7hJ,EAAgoJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAhoJ,EAAkvJX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,CAA4B,SAA5B,CAAD,CAAZ,EAAqD9L,CAAC,CAAC8B,SAAvD,EAAiE,cAAjE,EAAgF,KAAK,CAArF,CAAlvJ,EAA00JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAA10J,EAAs6JX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAAt6J,EAAuhKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAvhK,EAA+nKX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA/nK,EAAsvK9B,CAA7vK;AAA+vK,KAAr5K,CAAs5KY,CAAC,CAACmL,YAAx5K,CAA3b;;AAAi2LnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,wBAA7B,IAAuDnJ,CAAvD;AAAyD,GAf/37G,EAeg47G,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAAzC,CAAP;AAAmD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,8/HAApB;AAAmhIN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBmW,cAAtB,GAAqCjY,CAArC;AAAuC,QAAIsB,CAAC,GAAC,iqBAAN;AAAwqB5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBoW,eAAtB,GAAsC5W,CAAtC;;AAAwC,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACoD,SAAF,GAAY,CAAC,CAAb,EAAepD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAA7B,EAA+BrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAA7C,EAA+CtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAA7D,EAA+DvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAA7E,EAA+ExD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAA7F,EAA+FzD,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAA5G,EAA8G3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAArH,EAAuH5D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAtI,EAAwIhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAvJ,EAAyJjE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAAvL,EAAyLzE,CAAC,CAAC0E,OAAF,EAAzL,EAAqM1E,CAA5M;AAA8M;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA1R,CAA2RY,CAAC,CAACgE,eAA7R,CAAN;AAAA,QAAoT9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAAC0Y,SAAF,GAAY,CAAZ,EAAc1Y,CAAC,CAAC2Y,SAAF,GAAY,EAA1B,EAA6B3Y,CAAC,CAAC4Y,QAAF,GAAW,CAAxC,EAA0C5Y,CAAC,CAAC6Y,cAAF,GAAiB,IAA3D,EAAgE7Y,CAAC,CAAC8Y,eAAF,GAAkB,EAAlF,EAAqF9Y,CAAC,CAAC+Y,QAAF,GAAW,GAAhG,EAAoG/Y,CAAC,CAACgZ,WAAF,GAAc,GAAlH,EAAsHhZ,CAAC,CAACiZ,OAAF,GAAU,GAAhI,EAAoIjZ,CAAC,CAACkZ,WAAF,GAAc,IAAIjZ,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgB,GAAhB,EAAoB,CAApB,CAAlJ,EAAyKrN,CAAC,CAACmZ,cAAF,GAAiB,CAAC,CAA3L,EAA6LnZ,CAAC,CAACoZ,YAAF,GAAenZ,CAAC,CAACoN,OAAF,CAAU8C,IAAV,EAA5M,EAA6NnQ,CAAC,CAACqZ,eAAF,GAAkBpZ,CAAC,CAACoN,OAAF,CAAU8C,IAAV,EAA/O,EAAgQnQ,CAAvQ;AAAyQ;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;;AAAS,YAAGY,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,CAAC,CAAhF,EAAkF9F,CAAlF,GAAqFC,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAArF,EAA6IA,CAAC,CAACoG,OAAlJ,EAA0J;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAIzE,CAAC,GAAC,IAAI5B,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOpB,CAAC,CAAC2E,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BxG,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA1F;AAA6G,cAAI1E,CAAC,GAAC,CAAClC,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACqD,WAAF,IAAelB,CAAC,CAAC6E,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAf;AAAgD,cAAIlH,CAAC,GAACF,CAAC,CAACwH,QAAF,EAAN;AAAmBnI,UAAAA,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,KAA3B,EAAiC5F,CAAjC,EAAmC,CAAC,OAAD,EAAS,gBAAT,EAA0B,MAA1B,EAAiC,WAAjC,EAA6C,WAA7C,EAAyD,WAAzD,EAAqE,YAArE,EAAkF,aAAlF,EAAgG,aAAhG,EAA8G,aAA9G,EAA4H,aAA5H,EAA0I,aAA1I,EAAwJ,WAAxJ,EAAoK,WAApK,EAAgL,UAAhL,EAA2L,gBAA3L,EAA4M,iBAA5M,EAA8N,aAA9N,EAA4O,gBAA5O,EAA6P,cAA7P,CAAnC,EAAgT,EAAhT,EAAmTjC,CAAnT,EAAqT2B,CAArT,EAAuT,KAAKqG,UAA5T,EAAuU,KAAKC,OAA5U,CAAZ,EAAiWnI,CAAjW;AAAoW;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA/yC,EAAgzCzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;;AAAsB,YAAGjF,CAAC,CAACgF,gBAAL,EAAsB;AAAC,cAAIxE,CAAC,GAACR,CAAC,CAAC8E,MAAR;;AAAe,cAAGtE,CAAH,EAAK;AAAC,iBAAKiI,aAAL,GAAmBjI,CAAnB,EAAqB,KAAKkI,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH,KAAKE,WAAL,CAAiB7I,CAAjB,EAAmBO,CAAnB,MAAwBN,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,GAAqD,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAA/F,CAAvH,EAA+QrJ,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA3U,EAAkY/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAlY;AAA6b,gBAAI3G,CAAC,GAAC7B,CAAC,CAACsZ,YAAR;;AAAqB,gBAAGzX,CAAH,EAAK;AAAC,kBAAIP,CAAC,GAACO,CAAC,CAAC0X,cAAF,EAAN;AAAyB,mBAAKF,eAAL,CAAqB9G,CAArB,GAAuBjR,CAAC,CAAClB,CAAF,CAAI,EAAJ,CAAvB,EAA+B,KAAKiZ,eAAL,CAAqB7G,CAArB,GAAuBlR,CAAC,CAAClB,CAAF,CAAI,EAAJ,CAAtD,EAA8D,KAAKiZ,eAAL,CAAqB3G,CAArB,GAAuBpR,CAAC,CAAClB,CAAF,CAAI,EAAJ,CAArF,EAA6F,KAAKoI,aAAL,CAAmBiG,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK4K,eAApD,CAA7F;AAAkK;;AAAA,gBAAG,KAAK7Q,aAAL,CAAmBiG,UAAnB,CAA8B,cAA9B,EAA6C,KAAK2K,YAAlD,GAAgE,KAAKV,SAAL,GAAe,CAAf,IAAkB,KAAKlQ,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKsP,SAA7C,CAAlF,EAA0I,KAAKlQ,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKuP,SAA7C,CAA1I,EAAkM,KAAKnQ,aAAL,CAAmBY,QAAnB,CAA4B,UAA5B,EAAuC,KAAKwP,QAA5C,CAAlM,EAAwP,KAAKpQ,aAAL,CAAmBY,QAAnB,CAA4B,gBAA5B,EAA6C,KAAKyP,cAAlD,CAAxP,EAA0T,KAAKrQ,aAAL,CAAmBY,QAAnB,CAA4B,iBAA5B,EAA8C,KAAK0P,eAAnD,CAA1T,EAA8X,CAAC,KAAKK,cAAvY,EAAsZ;AAAC,kBAAIhX,CAAC,GAACgN,IAAI,CAACqK,EAAL,IAAS,KAAKR,WAAL,GAAiB,EAA1B,CAAN;AAAA,kBAAoC9Y,CAAC,GAAC,IAAEiP,IAAI,CAACqK,EAAP,IAAW,KAAKP,OAAL,GAAa,EAAxB,CAAtC;AAAkE,mBAAKC,WAAL,CAAiB3G,CAAjB,GAAmB,KAAKwG,QAAL,GAAc5J,IAAI,CAACsK,GAAL,CAASvZ,CAAT,CAAjC,EAA6C,KAAKgZ,WAAL,CAAiB1G,CAAjB,GAAmB,KAAKuG,QAAL,GAAc5J,IAAI,CAACuK,GAAL,CAASxZ,CAAT,CAAd,GAA0BiP,IAAI,CAACuK,GAAL,CAASvX,CAAT,CAA1F,EAAsG,KAAK+W,WAAL,CAAiBxG,CAAjB,GAAmB,KAAKqG,QAAL,GAAc5J,IAAI,CAACuK,GAAL,CAASxZ,CAAT,CAAd,GAA0BiP,IAAI,CAACsK,GAAL,CAAStX,CAAT,CAAnJ;AAA+J;;AAAA,iBAAKqG,aAAL,CAAmBiG,UAAnB,CAA8B,aAA9B,EAA4C,KAAKyK,WAAjD,GAA8D,KAAKhP,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAA9D;AAAoG;AAAC;AAAC,OAA9wF,EAA+wFnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,eAAM,EAAN;AAAS,OAA9zF,EAA+zF9K,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAACD,QAAAA,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B;AAAiC,OAAh4F,EAAi4FA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAA9/F,EAA+/F3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,qBAAb,EAAmC1L,CAA1C;AAA4C,OAAxnG,EAAynGC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,aAAN;AAAoB,OAAjrG,EAAkrGnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAAzxG,EAA0xGQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAA1xG,EAA81GX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAA91G,EAAk6GX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,UAAhD,EAA2D,KAAK,CAAhE,CAAl6G,EAAq+GX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,gBAAhD,EAAiE,KAAK,CAAtE,CAAr+G,EAA8iHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,iBAAhD,EAAkE,KAAK,CAAvE,CAA9iH,EAAwnHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,UAAhD,EAA2D,KAAK,CAAhE,CAAxnH,EAA2rHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,aAAhD,EAA8D,KAAK,CAAnE,CAA3rH,EAAiwHX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,SAAhD,EAA0D,KAAK,CAA/D,CAAjwH,EAAm0HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACoQ,kBAAH,CAAN,EAAD,CAAZ,EAA6ChR,CAAC,CAAC8B,SAA/C,EAAyD,aAAzD,EAAuE,KAAK,CAA5E,CAAn0H,EAAk5HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,gBAAhD,EAAiE,KAAK,CAAtE,CAAl5H,EAA29HX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,cAAhD,EAA+D,KAAK,CAApE,CAA39H,EAAkiI9B,CAAziI;AAA2iI,KAA72I,CAA82IY,CAAC,CAACmL,YAAh3I,CAAtT;;AAAorJnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,qBAA7B,IAAoDnJ,CAApD;AAAsD,GAfp8uH,EAeq8uH,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,iBAAN,EAAyB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA7C,CAAP;AAAuD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,6pHAApB;AAAkrHN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBsX,kBAAtB,GAAyCpZ,CAAzC;AAA2C,QAAIsB,CAAC,GAAC,68CAAN;AAAo9C5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBuX,mBAAtB,GAA0C/X,CAA1C;;AAA4C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACmD,OAAF,GAAU,CAAC,CAAX,EAAanD,CAAC,CAACwa,IAAF,GAAO,CAAC,CAArB,EAAuBxa,CAAC,CAACoD,SAAF,GAAY,CAAC,CAApC,EAAsCpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAApD,EAAsDrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAApE,EAAsEtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAApF,EAAsFvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAApG,EAAsGxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAApH,EAAsHzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAnI,EAAqI1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAArJ,EAAuJxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAApK,EAAsK3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAA7K,EAA+K5D,CAAC,CAAC4W,YAAF,GAAe,CAAC,CAA/L,EAAiM5W,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA3M,EAA6M7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAApN,EAAsN9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAA7N,EAA+N/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAA9O,EAAgPhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAA/P,EAAiQjE,CAAC,CAACkE,oBAAF,GAAuB,CAAxR,EAA0RlE,CAAC,CAACmE,YAAF,GAAe,CAAzS,EAA2SnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAAxT,EAA0TpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAAxV,EAA0VzE,CAAC,CAAC0E,OAAF,EAA1V,EAAsW1E,CAA7W;AAA+W;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA3b,CAA4bY,CAAC,CAACgE,eAA9b,CAAN;AAAA,QAAqd9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAf,EAAmCnE,CAAC,CAACmW,aAAF,GAAgB,IAAIlW,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAnD,EAAuEnE,CAAC,CAACoW,aAAF,GAAgB,EAAvF,EAA0FpW,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAA9G,EAAgHrE,CAAC,CAACsE,sBAAF,GAAyB,CAAzI,EAA2ItE,CAAlJ;AAAoJ;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAG3E,CAAC,CAAC8E,eAAL,EAAqB;AAAC,cAAG,CAAC,KAAKyU,UAAN,IAAkB,CAAC,KAAKA,UAAL,CAAgBrU,OAAhB,EAAtB,EAAgD,OAAM,CAAC,CAAP;;AAAS,cAAGzF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcnF,CAAC,CAACsF,aAAF,CAAgBC,qBAAjC,EAAuD;AAAC,gBAAG,CAAC,KAAKuU,eAAN,IAAuB,CAAC,KAAKA,eAAL,CAAqBtU,OAArB,EAA3B,EAA0D,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAKuU,eAAN,IAAuB,CAAC,KAAKA,eAAL,CAAqBvU,OAArB,EAA3B,EAA0D,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAKwU,eAAN,IAAuB,CAAC,KAAKA,eAAL,CAAqBxU,OAArB,EAA3B,EAA0D,OAAM,CAAC,CAAP;AAASzF,YAAAA,CAAC,CAACwC,OAAF,GAAU,CAAC,CAAX;AAAa;;AAAA,cAAG,KAAK0X,YAAL,IAAmB,KAAKC,YAAxB,IAAsC,KAAKC,YAA3C,IAAyDna,CAAC,CAACsF,aAAF,CAAgB8U,kBAA5E,EAA+F;AAAC,gBAAG,CAAC,KAAKH,YAAL,CAAkBzU,OAAlB,EAAJ,EAAgC,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAK0U,YAAL,CAAkB1U,OAAlB,EAAJ,EAAgC,OAAM,CAAC,CAAP;AAAS,gBAAG,CAAC,KAAK2U,YAAL,CAAkB3U,OAAlB,EAAJ,EAAgC,OAAM,CAAC,CAAP;AAASzF,YAAAA,CAAC,CAACgG,YAAF,GAAe,CAAC,CAAhB,EAAkBhG,CAAC,CAAC6Z,IAAF,GAAO,CAAC,CAA1B;AAA4B;AAAC;;AAAA,YAAG5Z,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAhI,EAAqOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAArO,EAAmSE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAnS,EAA2VA,CAAC,CAACoG,OAAhW,EAAwW;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAInE,CAAC,GAAC,IAAIlC,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAOd,CAAC,CAACqE,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CmC,CAA7C,EAA+C,KAAKuE,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BpB,CAAC,CAACwE,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAI3G,CAAC,GAAC,CAACD,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUhD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOjD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOlD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAenD,CAAC,CAAC8G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CnH,CAA3C,EAA6Cd,CAA7C,EAA+CY,CAA/C,EAAiDmC,CAAjD,CAAvK,EAA2NlC,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CpH,CAA/C,EAAiDF,CAAjD,CAA3N;AAA+Q,cAAIuH,CAAC,GAACvH,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBnH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,gBAA9E,EAA+F,WAA/F,EAA2G,WAA3G,EAAuH,WAAvH,EAAmI,eAAnI,EAAmJ,QAAnJ,EAA4J,YAA5J,EAAyK,aAAzK,EAAuL,aAAvL,EAAqM,aAArM,EAAmN,aAAnN,EAAiO,aAAjO,EAA+O,eAA/O,EAA+P,eAA/P,EAA+Q,eAA/Q,EAA+R,eAA/R,CAArB;AAAA,cAAqUC,CAAC,GAAC,CAAC,gBAAD,EAAkB,iBAAlB,EAAoC,iBAApC,EAAsD,iBAAtD,EAAwE,cAAxE,EAAuF,cAAvF,EAAsG,cAAtG,CAAvU;AAAA,cAA6be,CAAC,GAAC,IAAII,KAAJ,EAA/b;AAAycxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACrH,CAAf;AAAiBsH,YAAAA,mBAAmB,EAACtG,CAArC;AAAuCuG,YAAAA,QAAQ,EAACtH,CAAhD;AAAkDuH,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,SAA3B,EAAqC;AAACC,YAAAA,UAAU,EAAC9H,CAAZ;AAAcwH,YAAAA,aAAa,EAACrH,CAA5B;AAA8BsH,YAAAA,mBAAmB,EAACtG,CAAlD;AAAoDuG,YAAAA,QAAQ,EAACtH,CAA7D;AAA+DuH,YAAAA,OAAO,EAACN,CAAvE;AAAyEU,YAAAA,SAAS,EAAC9F,CAAnF;AAAqF+F,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA;AAA5B;AAArJ,WAArC,EAA8O7E,CAA9O,CAAZ,EAA6P7B,CAA7P,CAA/J;AAA+Z;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAAz7F,EAA07FzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKiY,UAAL,KAAkB,KAAKtR,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKwR,WAApD,GAAiE,KAAK9R,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKuR,WAAL,CAAiBtR,gBAA9D,EAA+E,KAAKsR,WAAL,CAAiBrR,KAAhG,CAAjE,EAAwK,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,eAA7B,EAA6C,KAAK4R,WAAL,CAAiBpR,gBAAjB,EAA7C,CAAxK,EAA0PjJ,CAAC,CAACsF,aAAF,CAAgBC,qBAAhB,KAAwC,KAAK8Q,gBAAL,KAAwB,KAAK9N,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKwN,gBAArD,GAAuE,KAAK9N,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKuN,gBAAL,CAAsBS,MAAnE,EAA0E,KAAKT,gBAAL,CAAsBU,MAAhG,CAA/F,GAAwM,KAAKT,gBAAL,KAAwB,KAAK/N,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKyN,gBAArD,GAAuE,KAAK/N,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKwN,gBAAL,CAAsBQ,MAAnE,EAA0E,KAAKR,gBAAL,CAAsBS,MAAhG,CAA/F,CAAxM,EAAgZ,KAAKR,gBAAL,KAAwB,KAAKhO,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAK0N,gBAArD,GAAuE,KAAKhO,aAAL,CAAmBO,SAAnB,CAA6B,eAA7B,EAA6C,KAAKyN,gBAAL,CAAsBO,MAAnE,EAA0E,KAAKP,gBAAL,CAAsBQ,MAAhG,CAA/F,CAAxb,CAA1P,EAA23B/W,CAAC,CAACsF,aAAF,CAAgB8U,kBAAhB,IAAoCra,CAAC,CAACkF,SAAF,GAAckJ,OAAd,GAAwBmM,mBAA5D,KAAkF,KAAKC,aAAL,IAAoB,KAAKhS,aAAL,CAAmBM,UAAnB,CAA8B,cAA9B,EAA6C,KAAK0R,aAAlD,CAApB,EAAqF,KAAKC,aAAL,IAAoB,KAAKjS,aAAL,CAAmBM,UAAnB,CAA8B,cAA9B,EAA6C,KAAK2R,aAAlD,CAAzG,EAA0K,KAAKC,aAAL,IAAoB,KAAKlS,aAAL,CAAmBM,UAAnB,CAA8B,cAA9B,EAA6C,KAAK4R,aAAlD,CAAhR,CAA74B,GAAguCza,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAAhuC,EAAqxC,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAvyC,EAA+1CpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAv3C,CAAlL,EAAglD,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAAhlD,EAAwqDjJ,CAAC,CAAC0V,YAAF,IAAgB,KAAKzN,aAAL,CAAmBe,SAAnB,CAA6B,gBAA7B,EAA8C,KAAK4M,aAAnD,EAAiE,KAAKC,aAAtE,CAAxrD,EAA6wDpW,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAArzD,EAAs4D1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAl8D,EAAy/D/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAz/D,EAAojE,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAvjE,CAAD;AAA+lE;AAAC,OAAroK,EAAsoKnJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK0a,UAAL,IAAiB,KAAKA,UAAL,CAAgB1P,UAAjC,IAA6C,KAAK0P,UAAL,CAAgB1P,UAAhB,CAA2BxI,MAA3B,GAAkC,CAA/E,IAAkFxC,CAAC,CAAC4H,IAAF,CAAO,KAAK8S,UAAZ,CAAlF,EAA0G1a,CAAjH;AAAmH,OAAxyK,EAAyyKC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKma,WAAL,IAAkBjb,CAAC,CAAC2H,IAAF,CAAO,KAAKsT,WAAZ,CAAlB,EAA2C,KAAKhE,gBAAL,IAAuBjX,CAAC,CAAC2H,IAAF,CAAO,KAAKsP,gBAAZ,CAAlE,EAAgG,KAAKC,gBAAL,IAAuBlX,CAAC,CAAC2H,IAAF,CAAO,KAAKuP,gBAAZ,CAAvH,EAAqJ,KAAKC,gBAAL,IAAuBnX,CAAC,CAAC2H,IAAF,CAAO,KAAKwP,gBAAZ,CAA5K,EAA0M,KAAKgE,aAAL,IAAoBnb,CAAC,CAAC2H,IAAF,CAAO,KAAKwT,aAAZ,CAA9N,EAAyP,KAAKC,aAAL,IAAoBpb,CAAC,CAAC2H,IAAF,CAAO,KAAKyT,aAAZ,CAA7Q,EAAwS,KAAKC,aAAL,IAAoBrb,CAAC,CAAC2H,IAAF,CAAO,KAAK0T,aAAZ,CAA5T,EAAuVrb,CAA9V;AAAgW,OAAjuL,EAAkuLA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAwC,KAAKib,WAAL,KAAmBjb,CAAnB,IAAuB,KAAKiX,gBAAL,KAAwBjX,CAAxB,IAA4B,KAAKkX,gBAAL,KAAwBlX,CAAxB,IAA4B,KAAKmX,gBAAL,KAAwBnX,CAAxB,IAA4B,KAAKmb,aAAL,KAAqBnb,CAArB,IAAyB,KAAKob,aAAL,KAAqBpb,CAArB,IAAwB,KAAKqb,aAAL,KAAqBrb,CAA/N;AAAuO,OAA5+L,EAA6+LA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKya,UAAL,IAAiB,KAAKA,UAAL,CAAgBvP,OAAhB,EAAjB,EAA2CnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAA3C;AAA4E,OAAzlM,EAA0lMA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAvtM,EAAwtM3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,yBAAb,EAAuC1L,CAA9C;AAAgD,OAAr1M,EAAs1MC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,iBAAN;AAAwB,OAAl5M,EAAm5MnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA1/M,EAA2/MQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,YAA7B,CAAD,CAAZ,EAAyD5L,CAAC,CAAC8B,SAA3D,EAAqE,aAArE,EAAmF,KAAK,CAAxF,CAA3/M,EAAslNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,YAAzF,EAAsG,KAAK,CAA3G,CAAtlN,EAAosNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAApsN,EAAyyNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAzyN,EAA45NX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAA55N,EAAigOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAjgO,EAAonOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAApnO,EAAytOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAztO,EAA40OX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,cAA7B,CAAD,CAAZ,EAA2D5L,CAAC,CAAC8B,SAA7D,EAAuE,eAAvE,EAAuF,KAAK,CAA5F,CAA50O,EAA26OX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,cAAzF,EAAwG,KAAK,CAA7G,CAA36O,EAA2hPX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,cAA7B,CAAD,CAAZ,EAA2D5L,CAAC,CAAC8B,SAA7D,EAAuE,eAAvE,EAAuF,KAAK,CAA5F,CAA3hP,EAA0nPX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,cAAzF,EAAwG,KAAK,CAA7G,CAA1nP,EAA0uPX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,cAA7B,CAAD,CAAZ,EAA2D5L,CAAC,CAAC8B,SAA7D,EAAuE,eAAvE,EAAuF,KAAK,CAA5F,CAA1uP,EAAy0PX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,cAAzF,EAAwG,KAAK,CAA7G,CAAz0P,EAAy7PX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAz7P,EAAwgQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,eAAxD,EAAwE,KAAK,CAA7E,CAAxgQ,EAAwlQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,eAAhD,EAAgE,KAAK,CAArE,CAAxlQ,EAAgqQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAhqQ,EAA4vQX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAA5vQ,EAA62QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAA72Q,EAAq9QX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAAr9Q,EAA4kR9B,CAAnlR;AAAqlR,KAAlyR,CAAmyRY,CAAC,CAACmL,YAAryR,CAAvd;;AAA0wSnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,yBAA7B,IAAwDnJ,CAAxD;AAA0D,GAf1jsI,EAe2jsI,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA/C,CAAP;AAAyD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,6pFAApB;AAAkrFN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBsY,oBAAtB,GAA2Cpa,CAA3C;AAA6C,QAAIsB,CAAC,GAAC,g/DAAN;AAAu/D5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBuY,qBAAtB,GAA4C/Y,CAA5C;;AAA8C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACwb,QAAF,GAAW,CAAC,CAAZ,EAAcxb,CAAC,CAACyb,QAAF,GAAW,CAAC,CAA1B,EAA4Bzb,CAAC,CAAC0b,QAAF,GAAW,CAAC,CAAxC,EAA0C1b,CAAC,CAAC2b,KAAF,GAAQ,CAAC,CAAnD,EAAqD3b,CAAC,CAAC4b,KAAF,GAAQ,CAAC,CAA9D,EAAgE5b,CAAC,CAAC6b,KAAF,GAAQ,CAAC,CAAzE,EAA2E7b,CAAC,CAACoD,SAAF,GAAY,CAAC,CAAxF,EAA0FpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAAxG,EAA0GrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAAxH,EAA0HtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAAxI,EAA0IvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAAxJ,EAA0JxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAAxK,EAA0KzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAvL,EAAyL1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAAzM,EAA2MxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAAxN,EAA0N3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAjO,EAAmO5D,CAAC,CAAC4W,YAAF,GAAe,CAAC,CAAnP,EAAqP5W,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA/P,EAAiQ7D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAAhR,EAAkRhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAjS,EAAmSjE,CAAC,CAACkE,oBAAF,GAAuB,CAA1T,EAA4TlE,CAAC,CAACmE,YAAF,GAAe,CAA3U,EAA6UnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAA1V,EAA4VpE,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA1X,EAA4XzE,CAAC,CAAC0E,OAAF,EAA5X,EAAwY1E,CAA/Y;AAAiZ;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAA7d,CAA8dY,CAAC,CAACgE,eAAhe,CAAN;AAAA,QAAuf9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACmb,QAAF,GAAW,CAAX,EAAanb,CAAC,CAACkE,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAA5B,EAAgDnE,CAAC,CAACmW,aAAF,GAAgB,IAAIlW,CAAC,CAACkE,MAAN,CAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAhE,EAAuFnE,CAAC,CAACoW,aAAF,GAAgB,EAAvG,EAA0GpW,CAAC,CAACqE,gBAAF,GAAmB,CAAC,CAA9H,EAAgIrE,CAAC,CAACsE,sBAAF,GAAyB,CAAzJ,EAA2JtE,CAAlK;AAAoK;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA9E,EAA+EnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAAhI,EAAiIpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAxL,EAAyLrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,IAAqB5E,CAAC,CAAC8E,eAA1B,EAA0C;AAAC,cAAGpF,CAAC,CAACsF,aAAF,CAAgBC,qBAAnB,EAAyC,KAAI,IAAIrD,CAAC,GAAC,CAAC,KAAKiZ,eAAN,EAAsB,KAAKC,eAA3B,EAA2C,KAAKC,eAAhD,CAAN,EAAuEpb,CAAC,GAAC,CAAC,UAAD,EAAY,UAAZ,EAAuB,UAAvB,CAAzE,EAA4GqH,CAAC,GAAC,CAAlH,EAAoHA,CAAC,GAACpF,CAAC,CAACP,MAAxH,EAA+H2F,CAAC,EAAhI;AAAmI,gBAAGpF,CAAC,CAACoF,CAAD,CAAJ,EAAQ;AAAC,kBAAG,CAACpF,CAAC,CAACoF,CAAD,CAAD,CAAK9B,OAAL,EAAJ,EAAmB,OAAM,CAAC,CAAP;AAASzF,cAAAA,CAAC,CAACE,CAAC,CAACqH,CAAD,CAAF,CAAD,GAAQ,CAAC,CAAT;AAAW;AAAnL;AAAmL,cAAGtH,CAAC,CAACsF,aAAF,CAAgB8U,kBAAnB,EAAsC,KAAIlY,CAAC,GAAC,CAAC,KAAKoZ,cAAN,EAAqB,KAAKC,cAA1B,EAAyC,KAAKC,cAA9C,CAAF,EAAgEvb,CAAC,GAAC,CAAC,OAAD,EAAS,OAAT,EAAiB,OAAjB,CAAlE,EAA4FqH,CAAC,GAAC,CAAlG,EAAoGA,CAAC,GAACpF,CAAC,CAACP,MAAxG,EAA+G2F,CAAC,EAAhH;AAAmH,gBAAGpF,CAAC,CAACoF,CAAD,CAAJ,EAAQ;AAAC,kBAAG,CAACpF,CAAC,CAACoF,CAAD,CAAD,CAAK9B,OAAL,EAAJ,EAAmB,OAAM,CAAC,CAAP;AAASzF,cAAAA,CAAC,CAACE,CAAC,CAACqH,CAAD,CAAF,CAAD,GAAQ,CAAC,CAAT;AAAW;AAAnK;AAAoK;;AAAA,YAAGtH,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,CAAC,CAA5C,EAA8C,KAAKsF,WAAnD,EAA+D,KAAKC,UAApE,EAA+E,KAAKC,sBAAL,CAA4B3G,CAA5B,CAA/E,EAA8GY,CAA9G,GAAiHA,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAAhI,EAAqOpE,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,CAArO,EAAmSE,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,CAAnS,EAA2VA,CAAC,CAACoG,OAAhW,EAAwW;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAIjG,CAAC,GAAC,IAAIJ,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAO5C,CAAC,CAACmG,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CK,CAA7C,EAA+C,KAAKqG,qBAApD,CAA9B,EAAyG1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BlD,CAAC,CAACsG,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAAnI,EAAiKY,CAAC,CAAC8D,0BAAF,GAA6BvD,CAAC,CAACqG,4BAAF,CAA+BC,kBAA7N;AAAgP,cAAIvG,CAAC,GAAC,CAACL,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAU5C,CAAC,CAAC0G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACqD,WAAF,IAAe/C,CAAC,CAAC0G,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAA3D,EAA4FnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2C/G,CAA3C,EAA6ClB,CAA7C,EAA+CY,CAA/C,EAAiDK,CAAjD,CAA5F,EAAgJJ,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+ChH,CAA/C,EAAiDN,CAAjD,CAAhJ;AAAoM,cAAIqB,CAAC,GAACrB,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBuQ,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,gBAA9E,EAA+F,WAA/F,EAA2G,WAA3G,EAAuH,WAAvH,EAAmI,QAAnI,EAA4I,YAA5I,EAAyJ,aAAzJ,EAAuK,aAAvK,EAAqL,aAArL,EAAmM,aAAnM,EAAiN,aAAjN,EAA+N,UAA/N,CAArB;AAAA,cAAgQE,CAAC,GAAC,CAAC,iBAAD,EAAmB,iBAAnB,EAAqC,iBAArC,EAAuD,gBAAvD,EAAwE,gBAAxE,EAAyF,gBAAzF,CAAlQ;AAAA,cAA6W7X,CAAC,GAAC,IAAIqB,KAAJ,EAA/W;AAAyXxB,UAAAA,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACqQ,CAAf;AAAiBpQ,YAAAA,mBAAmB,EAACvH,CAArC;AAAuCwH,YAAAA,QAAQ,EAACqQ,CAAhD;AAAkDpQ,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,GAA+JrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,WAA3B,EAAuC;AAACC,YAAAA,UAAU,EAAC1H,CAAZ;AAAcoH,YAAAA,aAAa,EAACqQ,CAA5B;AAA8BpQ,YAAAA,mBAAmB,EAACvH,CAAlD;AAAoDwH,YAAAA,QAAQ,EAACqQ,CAA7D;AAA+DpQ,YAAAA,OAAO,EAACxG,CAAvE;AAAyE4G,YAAAA,SAAS,EAAC5H,CAAnF;AAAqF6H,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKA;AAA5B;AAArJ,WAAvC,EAAgP7E,CAAhP,CAAZ,EAA+P7B,CAA/P,CAA/J;AAAia;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA5pF,EAA6pFzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;AAAehD,UAAAA,CAAC,KAAG,KAAK2G,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKA,aAAL,CAAmBY,QAAnB,CAA4B,UAA5B,EAAuC,KAAK+R,QAA5C,CAAlL,EAAwOnb,CAAC,CAACuO,iBAAF,OAAwB,IAAxB,KAA+B,KAAK6M,eAAL,IAAsB,KAAK5S,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKsS,eAArD,CAAtB,EAA4F,KAAKC,eAAL,IAAsB,KAAK7S,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKuS,eAArD,CAAlH,EAAwL,KAAKC,eAAL,IAAsB,KAAK9S,aAAL,CAAmBM,UAAnB,CAA8B,iBAA9B,EAAgD,KAAKwS,eAArD,CAA9M,EAAoR,KAAKC,cAAL,IAAqB,KAAK/S,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAKyS,cAApD,CAAzS,EAA6W,KAAKC,cAAL,IAAqB,KAAKhT,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK0S,cAApD,CAAlY,EAAsc,KAAKC,cAAL,IAAqB,KAAKjT,aAAL,CAAmBM,UAAnB,CAA8B,gBAA9B,EAA+C,KAAK2S,cAApD,CAA3d,EAA+hBxb,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAA/hB,EAAolB,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAtmB,EAA8pBpJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAA7rB,CAAxO,EAA48B,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAA58B,EAAoiCjJ,CAAC,CAAC0V,YAAF,IAAgB,KAAKzN,aAAL,CAAmBe,SAAnB,CAA6B,gBAA7B,EAA8C,KAAK4M,aAAnD,EAAiE,KAAKC,aAAtE,CAApjC,EAAyoCpW,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAjrC,EAAkwC1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAA9zC,EAAq3C/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAr3C,EAAg7C,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAn7C,CAAD;AAA29C;AAAC,OAApuI,EAAquInJ,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAK0a,UAAL,IAAiB,KAAKA,UAAL,CAAgB1P,UAAjC,IAA6C,KAAK0P,UAAL,CAAgB1P,UAAhB,CAA2BxI,MAA3B,GAAkC,CAA/E,IAAkFxC,CAAC,CAAC4H,IAAF,CAAO,KAAK8S,UAAZ,CAAlF,EAA0G1a,CAAjH;AAAmH,OAAv4I,EAAw4IC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAKub,gBAAL,IAAuBrc,CAAC,CAAC2H,IAAF,CAAO,KAAK0U,gBAAZ,CAAvB,EAAqD,KAAKC,gBAAL,IAAuBtc,CAAC,CAAC2H,IAAF,CAAO,KAAK2U,gBAAZ,CAA5E,EAA0G,KAAKC,gBAAL,IAAuBvc,CAAC,CAAC2H,IAAF,CAAO,KAAK4U,gBAAZ,CAAjI,EAA+J,KAAKC,eAAL,IAAsBxc,CAAC,CAAC2H,IAAF,CAAO,KAAK6U,eAAZ,CAArL,EAAkN,KAAKC,eAAL,IAAsBzc,CAAC,CAAC2H,IAAF,CAAO,KAAK8U,eAAZ,CAAxO,EAAqQ,KAAKC,eAAL,IAAsB1c,CAAC,CAAC2H,IAAF,CAAO,KAAK+U,eAAZ,CAA3R,EAAwT1c,CAA/T;AAAiU,OAAjyJ,EAAkyJA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAwC,KAAKqc,gBAAL,KAAwBrc,CAAxB,IAA4B,KAAKsc,gBAAL,KAAwBtc,CAAxB,IAA4B,KAAKuc,gBAAL,KAAwBvc,CAAxB,IAA4B,KAAKwc,eAAL,KAAuBxc,CAAvB,IAA2B,KAAKyc,eAAL,KAAuBzc,CAAvB,IAA0B,KAAK0c,eAAL,KAAuB1c,CAA9M;AAAqN,OAA1hK,EAA2hKA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKya,UAAL,IAAiB,KAAKA,UAAL,CAAgBvP,OAAhB,EAAjB,EAA2CnL,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAA3C;AAA4E,OAAvoK,EAAwoKA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAArwK,EAAswK3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,eAAOzL,CAAC,CAAC0L,UAAF,GAAa,2BAAb,EAAyC1L,CAAhD;AAAkD,OAAr4K,EAAs4KC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,mBAAN;AAA0B,OAAp8K,EAAq8KnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,eAAOC,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAP;AAA+E,OAA5iL,EAA6iLQ,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,EAAD,CAAZ,EAA6C5L,CAAC,CAAC8B,SAA/C,EAAyD,YAAzD,EAAsE,KAAK,CAA3E,CAA7iL,EAA2nLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAA3nL,EAAguLX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAhuL,EAAm1LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,kBAAzE,EAA4F,KAAK,CAAjG,CAAn1L,EAAu7LX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAAv7L,EAA0iMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,iBAA7B,CAAD,CAAZ,EAA8D5L,CAAC,CAAC8B,SAAhE,EAA0E,kBAA1E,EAA6F,KAAK,CAAlG,CAA1iM,EAA+oMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,iBAAzF,EAA2G,KAAK,CAAhH,CAA/oM,EAAkwMX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAAlwM,EAAq2MX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAAr2M,EAAu9MX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAAv9M,EAA0jNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAA1jN,EAA4qNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,gBAA7B,CAAD,CAAZ,EAA6D5L,CAAC,CAAC8B,SAA/D,EAAyE,iBAAzE,EAA2F,KAAK,CAAhG,CAA5qN,EAA+wNX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,gBAAzF,EAA0G,KAAK,CAA/G,CAA/wN,EAAi4NX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,UAAhD,EAA2D,KAAK,CAAhE,CAAj4N,EAAo8NX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAp8N,EAAmhOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,eAAxD,EAAwE,KAAK,CAA7E,CAAnhO,EAAmmOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,eAAhD,EAAgE,KAAK,CAArE,CAAnmO,EAA2qOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAA3qO,EAAuwOX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAAvwO,EAAw3OX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAx3O,EAAg+OX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAAh+O,EAAulP9B,CAA9lP;AAAgmP,KAA7zP,CAA8zPY,CAAC,CAACmL,YAAh0P,CAAzf;;AAAu0QnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,2BAA7B,IAA0DnJ,CAA1D;AAA4D,GAfxxmJ,EAeyxmJ,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,eAAN,EAAuB,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA3C,CAAP;AAAqD,QAAInC,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,i/KAApB;AAAsgLN,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB2Z,gBAAtB,GAAuCzb,CAAvC;AAAyC,QAAIsB,CAAC,GAAC,i7FAAN;AAAw7F5B,IAAAA,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsB4Z,iBAAtB,GAAwCpa,CAAxC;;AAA0C,QAAIP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,GAAY;AAAC,YAAIA,CAAC,GAACD,CAAC,CAACe,IAAF,CAAO,IAAP,KAAc,IAApB;AAAyB,eAAOd,CAAC,CAACwa,IAAF,GAAO,CAAC,CAAR,EAAUxa,CAAC,CAAC6c,UAAF,GAAa,CAAC,CAAxB,EAA0B7c,CAAC,CAACoD,SAAF,GAAY,CAAC,CAAvC,EAAyCpD,CAAC,CAACqD,UAAF,GAAa,CAAC,CAAvD,EAAyDrD,CAAC,CAACsD,UAAF,GAAa,CAAC,CAAvE,EAAyEtD,CAAC,CAACuD,UAAF,GAAa,CAAC,CAAvF,EAAyFvD,CAAC,CAACwD,UAAF,GAAa,CAAC,CAAvG,EAAyGxD,CAAC,CAACyD,UAAF,GAAa,CAAC,CAAvH,EAAyHzD,CAAC,CAAC0D,SAAF,GAAY,CAAC,CAAtI,EAAwI1D,CAAC,CAACwE,YAAF,GAAe,CAAC,CAAxJ,EAA0JxE,CAAC,CAAC2D,SAAF,GAAY,CAAC,CAAvK,EAAyK3D,CAAC,CAAC4D,GAAF,GAAM,CAAC,CAAhL,EAAkL5D,CAAC,CAAC6D,MAAF,GAAS,CAAC,CAA5L,EAA8L7D,CAAC,CAAC8D,GAAF,GAAM,CAAC,CAArM,EAAuM9D,CAAC,CAAC+D,GAAF,GAAM,CAAC,CAA9M,EAAgN/D,CAAC,CAACgE,WAAF,GAAc,CAAC,CAA/N,EAAiOhE,CAAC,CAACiE,WAAF,GAAc,CAAC,CAAhP,EAAkPjE,CAAC,CAACkE,oBAAF,GAAuB,CAAzQ,EAA2QlE,CAAC,CAACmE,YAAF,GAAe,CAA1R,EAA4RnE,CAAC,CAACoE,SAAF,GAAY,CAAC,CAAzS,EAA2SpE,CAAC,CAAC4W,YAAF,GAAe,CAAC,CAA3T,EAA6T5W,CAAC,CAAC8c,gBAAF,GAAmB,CAAC,CAAjV,EAAmV9c,CAAC,CAAC+c,eAAF,GAAkB,CAAC,CAAtW,EAAwW/c,CAAC,CAACgd,eAAF,GAAkB,CAAC,CAA3X,EAA6Xhd,CAAC,CAACid,qBAAF,GAAwB,CAAC,CAAtZ,EAAwZjd,CAAC,CAACkd,eAAF,GAAkB,CAAC,CAA3a,EAA6ald,CAAC,CAACmd,QAAF,GAAW,CAAC,CAAzb,EAA2bnd,CAAC,CAACod,yBAAF,GAA4B,CAAC,CAAxd,EAA0dpd,CAAC,CAACqd,uBAAF,GAA0B,CAAC,CAArf,EAAufrd,CAAC,CAACsd,WAAF,GAAc,CAAC,CAAtgB,EAAwgBtd,CAAC,CAACud,gBAAF,GAAmB,CAAC,CAA5hB,EAA8hBvd,CAAC,CAACwd,QAAF,GAAW,CAAC,CAA1iB,EAA4iBxd,CAAC,CAACyd,QAAF,GAAW,CAAC,CAAxjB,EAA0jBzd,CAAC,CAAC0d,WAAF,GAAc,CAAC,CAAzkB,EAA2kB1d,CAAC,CAAC2d,YAAF,GAAe,CAAC,CAA3lB,EAA6lB3d,CAAC,CAAC4d,cAAF,GAAiB,CAAC,CAA/mB,EAAinB5d,CAAC,CAAC6d,mBAAF,GAAsB,CAAC,CAAxoB,EAA0oB7d,CAAC,CAAC8d,eAAF,GAAkB,CAAC,CAA7pB,EAA+pB9d,CAAC,CAACyE,0BAAF,GAA6B,CAAC,CAA7rB,EAA+rBzE,CAAC,CAAC0E,OAAF,EAA/rB,EAA2sB1E,CAAltB;AAAotB;;AAAA,aAAOmB,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAxB;AAA0B,KAAhyB,CAAiyBY,CAAC,CAACgE,eAAnyB,CAAN;AAAA,QAA0zB9B,CAAC,GAAC,UAAS/C,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAeC,CAAf,EAAiB;AAAC,aAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,IAAIC,CAAC,CAACmd,OAAN,CAAc,GAAd,EAAkB,GAAlB,CAAf;AAAuC,YAAI7c,CAAC,GAACnB,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOQ,CAAC,CAAC8c,gBAAF,GAAmBrd,CAAnB,EAAqBO,CAAC,CAAC2D,YAAF,GAAe,IAAIjE,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAApC,EAAwD5D,CAAC,CAAC4V,aAAF,GAAgB,IAAIlW,CAAC,CAACkE,MAAN,CAAa,CAAb,EAAe,CAAf,EAAiB,CAAjB,CAAxE,EAA4F5D,CAAC,CAAC6V,aAAF,GAAgB,EAA5G,EAA+G7V,CAAC,CAAC8D,gBAAF,GAAmB,CAAC,CAAnI,EAAqI9D,CAAC,CAAC+D,sBAAF,GAAyB,CAA9J,EAAgK/D,CAAC,CAAC+c,SAAF,GAAY,CAA5K,EAA8K/c,CAAC,CAACgd,aAAF,GAAgB,IAAItd,CAAC,CAACmd,OAAN,CAAc,CAAd,EAAgB,CAAhB,CAA9L,EAAiN7c,CAAC,CAACid,UAAF,GAAa,EAA9N,EAAiOjd,CAAC,CAACkd,UAAF,GAAa,EAA9O,EAAiPld,CAAC,CAACmd,gBAAF,GAAmB,CAAC,CAArQ,EAAuQnd,CAAC,CAACod,gBAAF,GAAmB,CAAC,CAA3R,EAA6Rpd,CAAC,CAACqd,sBAAF,GAAyB,CAAC,CAAvT,EAAyTrd,CAAC,CAACsd,UAAF,GAAa,IAAI5d,CAAC,CAACkE,MAAN,CAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAtU,EAA6V5D,CAAC,CAACud,gBAAF,GAAmB,EAAhX,EAAmXvd,CAAC,CAACwd,WAAF,GAAc,IAAI9d,CAAC,CAACkE,MAAN,CAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,CAAjY,EAAwZ5D,CAAC,CAACyd,iBAAF,GAAoB,EAA5a,EAA+azd,CAAC,CAAC0d,UAAF,GAAa,EAA5b,EAA+b1d,CAAC,CAAC2d,SAAF,GAAY,CAA3c,EAA6c3d,CAAC,CAAC4d,SAAF,GAAY,EAAzd,EAA4d5d,CAAC,CAAC6d,gBAAF,GAAmB,CAAC,CAAhf,EAAkf7d,CAAC,CAAC8d,cAAF,GAAiB,IAAIpe,CAAC,CAACqe,UAAN,CAAiB,EAAjB,CAAngB,EAAwhB/d,CAAC,CAACge,KAAF,GAAQ,IAAhiB,EAAqiBhe,CAAC,CAACie,oBAAF,GAAuBve,CAAC,CAACwe,MAAF,CAAStO,IAAT,EAA5jB,EAA4kB5P,CAAC,CAACoL,SAAF,GAAY,CAAxlB,EAA0lBpL,CAAC,CAACme,cAAF,GAAiB,CAA3mB,EAA6mBne,CAAC,CAACoe,oBAAF,CAAuB5e,CAAvB,EAAyBC,CAAzB,CAA7mB,EAAyoBO,CAAC,CAACqe,uBAAF,GAA0B,YAAU;AAAC,iBAAOre,CAAC,CAAC8d,cAAF,CAAiBQ,KAAjB,IAAyBte,CAAC,CAAC8d,cAAF,CAAiBrX,IAAjB,CAAsBzG,CAAC,CAACue,cAAxB,CAAzB,EAAiEve,CAAC,CAAC8d,cAAF,CAAiBrX,IAAjB,CAAsBzG,CAAC,CAACwe,cAAxB,CAAjE,EAAyGxe,CAAC,CAAC8d,cAAlH;AAAiI,SAA/yB,EAAgzB9d,CAAC,CAACye,6BAAF,GAAgCze,CAAC,CAACyE,QAAF,GAAa4B,4BAA71B,EAA03BrG,CAAC,CAACye,6BAAF,KAAkCze,CAAC,CAAC0e,wBAAF,GAA2B1e,CAAC,CAACye,6BAAF,CAAgCE,kBAAhC,CAAmDC,GAAnD,CAAwD,YAAU;AAAC5e,UAAAA,CAAC,CAAC6e,uCAAF;AAA4C,SAA/G,CAA7D,CAA13B,EAA0iC7e,CAAjjC;AAAmjC;;AAAA,aAAOC,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBoB,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,yBAAlC,EAA4D;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAM,CAAC,CAAP;AAAS,SAAzB;AAA0BD,QAAAA,UAAU,EAAC,CAAC,CAAtC;AAAwCkN,QAAAA,YAAY,EAAC,CAAC;AAAtD,OAA5D,CAAjB,EAAuIpN,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,qBAAlC,EAAwD;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAO,KAAK0e,oBAAZ;AAAiC,SAAjD;AAAkD1R,QAAAA,GAAG,EAAC,aAASvO,CAAT,EAAW;AAAC,eAAKigB,oBAAL,GAA0BjgB,CAAC,IAAE,KAAK4F,QAAL,GAAgBE,SAAhB,GAA4BkJ,OAA5B,GAAsCkR,sBAAnE,EAA0F,KAAKC,4BAAL,EAA1F;AAA8H,SAAhM;AAAiM7e,QAAAA,UAAU,EAAC,CAAC,CAA7M;AAA+MkN,QAAAA,YAAY,EAAC,CAAC;AAA7N,OAAxD,CAAvI,EAAgapN,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,mBAAlC,EAAsD;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAO,KAAKoe,cAAZ;AAA2B,SAA3C;AAA4Cre,QAAAA,UAAU,EAAC,CAAC,CAAxD;AAA0DkN,QAAAA,YAAY,EAAC,CAAC;AAAxE,OAAtD,CAAha,EAAkiBpN,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,mBAAlC,EAAsD;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAO,KAAKme,cAAZ;AAA2B,SAA3C;AAA4Cpe,QAAAA,UAAU,EAAC,CAAC,CAAxD;AAA0DkN,QAAAA,YAAY,EAAC,CAAC;AAAxE,OAAtD,CAAliB,EAAoqBvO,CAAC,CAAC8B,SAAF,CAAYqe,eAAZ,GAA4B,UAASpgB,CAAT,EAAW;AAAC,aAAK2f,cAAL,IAAqB,KAAKA,cAAL,CAAoBU,UAAzC,IAAqD,KAAKV,cAAL,CAAoBU,UAApB,CAA+BzY,IAA/B,CAAoC5H,CAApC,CAArD,EAA4F,KAAK0f,cAAL,IAAqB,KAAKA,cAAL,CAAoBW,UAAzC,IAAqD,KAAKX,cAAL,CAAoBW,UAApB,CAA+BzY,IAA/B,CAAoC5H,CAApC,CAAjJ;AAAwL,OAAp4B,EAAq4BC,CAAC,CAAC8B,SAAF,CAAYue,mBAAZ,GAAgC,UAAStgB,CAAT,EAAW;AAAC,YAAIC,CAAC,GAACD,CAAC,GAAC,CAAD,GAAG,CAAV;AAAY,aAAK2f,cAAL,KAAsB,KAAKA,cAAL,CAAoBY,WAApB,GAAgCtgB,CAAtD,GAAyD,KAAKyf,cAAL,KAAsB,KAAKA,cAAL,CAAoBa,WAApB,GAAgCtgB,CAAtD,CAAzD;AAAkH,OAA/iC,EAAgjCA,CAAC,CAAC8B,SAAF,CAAYye,aAAZ,GAA0B,YAAU;AAAC,eAAO,KAAKb,cAAL,GAAoB,KAAKA,cAAL,CAAoBU,UAAxC,GAAmD,EAA1D;AAA6D,OAAlpC,EAAmpCjf,MAAM,CAACC,cAAP,CAAsBpB,CAAC,CAAC8B,SAAxB,EAAkC,sBAAlC,EAAyD;AAACR,QAAAA,GAAG,EAAC,eAAU;AAAC,iBAAM,EAAE,KAAKoe,cAAL,IAAqB,MAAI,KAAKA,cAAL,CAAoBY,WAA/C,CAAN;AAAkE,SAAlF;AAAmFjf,QAAAA,UAAU,EAAC,CAAC,CAA/F;AAAiGkN,QAAAA,YAAY,EAAC,CAAC;AAA/G,OAAzD,CAAnpC,EAA+zCvO,CAAC,CAAC8B,SAAF,CAAYoD,iBAAZ,GAA8B,YAAU;AAAC,eAAO,KAAKC,KAAL,GAAW,CAAlB;AAAoB,OAA53C,EAA63CnF,CAAC,CAAC8B,SAAF,CAAYsD,gBAAZ,GAA6B,YAAU;AAAC,eAAM,CAAC,CAAP;AAAS,OAA96C,EAA+6CpF,CAAC,CAAC8B,SAAF,CAAYuD,mBAAZ,GAAgC,YAAU;AAAC,eAAO,IAAP;AAAY,OAAt+C,EAAu+CrF,CAAC,CAAC8B,SAAF,CAAYwD,iBAAZ,GAA8B,UAASvF,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAG,KAAK6E,QAAL,IAAevF,CAAC,CAACwF,MAAjB,IAAyBxF,CAAC,CAACwF,MAAF,CAASC,mBAArC,EAAyD,OAAM,CAAC,CAAP;AAASzF,QAAAA,CAAC,CAAC0F,gBAAF,KAAqB1F,CAAC,CAAC0F,gBAAF,GAAmB,IAAIzD,CAAJ,EAAxC;AAA+C,YAAItB,CAAC,GAACX,CAAC,CAAC0F,gBAAR;AAAA,YAAyBxE,CAAC,GAAC,KAAKyE,QAAL,EAA3B;AAA2C,YAAG,KAAKC,kBAAL,CAAwB5F,CAAxB,CAAH,EAA8B,OAAM,CAAC,CAAP;AAAS,YAAIwC,CAAC,GAACtB,CAAC,CAAC2E,SAAF,EAAN;;AAAoB,YAAGlF,CAAC,CAACmF,iBAAF,KAAsBnF,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAc7E,CAAC,CAAC8E,eAAtC,CAAH,EAA0D;AAAC,cAAG,KAAKwa,WAAL,IAAkB5f,CAAC,CAACsF,aAAF,CAAgB8U,kBAArC,EAAwD;AAAC,gBAAG,CAAC,KAAKwF,WAAL,CAAiBpa,OAAjB,EAAJ,EAA+B,OAAM,CAAC,CAAP;AAASzF,YAAAA,CAAC,CAACoF,QAAF,GAAW,CAAC,CAAZ,EAAcpF,CAAC,CAAC6Z,IAAF,GAAO,CAAC,CAAtB;AAAwB;;AAAA5Z,UAAAA,CAAC,CAACsF,aAAF,CAAgBua,wBAAhB,KAA2C9f,CAAC,CAACkc,UAAF,GAAa,CAAC,CAAzD;AAA4D;;AAAA,YAAGjc,CAAC,CAAC0F,cAAF,CAAiBO,iCAAjB,CAAmD3F,CAAnD,EAAqDsB,CAArD,EAAuD7B,CAAvD,EAAyD,CAAC,CAACD,CAA3D,GAA8DE,CAAC,CAAC0F,cAAF,CAAiBC,qBAAjB,CAAuCxG,CAAvC,EAAyCmB,CAAzC,EAA2C,KAAK8e,oBAAhD,EAAqE,KAAKxZ,WAA1E,EAAsF,KAAKC,UAA3F,EAAsG,KAAKC,sBAAL,CAA4B3G,CAA5B,CAAtG,EAAqIY,CAArI,CAA9D,EAAsMA,CAAC,CAAC6L,aAAF,KAAkB,KAAK8R,gBAAL,KAAwB3d,CAAC,CAACoc,eAAF,GAAkB,CAAC,CAA3C,GAA8C,KAAKsB,gBAAL,KAAwB1d,CAAC,CAACqc,eAAF,GAAkB,CAAC,CAA3C,CAA9C,EAA4F,KAAKuB,sBAAL,KAA8B5d,CAAC,CAACsc,qBAAF,GAAwB,CAAC,CAAvD,CAA9G,CAAtM,EAA+Wtc,CAAC,CAACgG,YAAF,GAAe/F,CAAC,CAAC0F,cAAF,CAAiBM,uBAAjB,CAAyC1F,CAAzC,EAA2CnB,CAA3C,EAA6CY,CAA7C,EAA+C,CAAC,CAAhD,EAAkD,KAAKsE,sBAAvD,EAA8E,KAAKD,gBAAnF,CAA9X,EAAmerE,CAAC,CAAC+f,wBAAF,IAA4B,KAAKf,6BAAvgB,EAAqiB;AAAC,cAAG,CAAC,KAAKA,6BAAL,CAAmCvZ,OAAnC,EAAJ,EAAiD,OAAM,CAAC,CAAP;AAAS,eAAKuZ,6BAAL,CAAmCgB,cAAnC,CAAkDhgB,CAAlD,GAAqDA,CAAC,CAACigB,oBAAF,GAAuB,QAAM,KAAKC,iBAAX,IAA8B,CAAC,KAAKA,iBAAL,CAAuBC,UAAlI,EAA6IngB,CAAC,CAACogB,oBAAF,GAAuB,QAAM,KAAKC,iBAAX,IAA8B,CAAC,KAAKA,iBAAL,CAAuBF,UAA1N;AAAqO;;AAAA,YAAGlgB,CAAC,CAAC0F,cAAF,CAAiBQ,2BAAjB,CAA6C/G,CAA7C,EAA+CY,CAA/C,EAAiD,CAAC,CAAlD,EAAoD,CAAC,CAArD,GAAwD,KAAKue,KAAL,GAAWnf,CAAnE,EAAqE,KAAKkhB,kBAA7E,EAAgG;AAAC,eAAI,IAAIne,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKme,kBAAL,CAAwB1e,MAAtC,EAA6CO,CAAC,EAA9C;AAAiD,iBAAKqd,eAAL,CAAqBjf,CAAC,CAACggB,WAAF,CAAc,KAAKD,kBAAL,CAAwBne,CAAxB,CAAd,CAArB;AAAjD;;AAAiH,eAAKme,kBAAL,GAAwB,IAAxB;AAA6B;;AAAA,YAAGtgB,CAAC,CAACoG,OAAL,EAAa;AAACpG,UAAAA,CAAC,CAACqG,eAAF,IAAoB9F,CAAC,CAAC+F,mBAAF,EAApB;AAA4C,cAAIpG,CAAC,GAAC,IAAID,CAAC,CAACsG,eAAN,EAAN;AAA4BvG,UAAAA,CAAC,CAACiD,GAAF,IAAO/C,CAAC,CAACsG,WAAF,CAAc,CAAd,EAAgB,KAAhB,CAAP,EAA8BxG,CAAC,CAACmc,gBAAF,IAAoBjc,CAAC,CAACsG,WAAF,CAAc,CAAd,EAAgB,kBAAhB,CAAlD,EAAsFvG,CAAC,CAAC0F,cAAF,CAAiBc,yBAAjB,CAA2CzG,CAA3C,EAA6CE,CAA7C,EAA+C,KAAKwG,qBAApD,CAAtF,EAAiK1G,CAAC,CAACuD,oBAAF,GAAuB,CAAvB,IAA0BrD,CAAC,CAACyG,sBAAF,CAAyB,CAAzB,EAA2BvH,CAA3B,CAA3L;AAAyN,cAAImI,CAAC,GAAC,CAACtH,CAAC,CAAC6G,YAAF,CAAeC,YAAhB,CAAN;AAAoC/G,UAAAA,CAAC,CAACkD,MAAF,IAAUqE,CAAC,CAACP,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeG,UAAtB,CAAV,EAA4CjH,CAAC,CAACmD,GAAF,IAAOoE,CAAC,CAACP,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeI,MAAtB,CAAnD,EAAiFlH,CAAC,CAACoD,GAAF,IAAOmE,CAAC,CAACP,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeK,OAAtB,CAAxF,EAAuHnH,CAAC,CAACqD,WAAF,IAAekE,CAAC,CAACP,IAAF,CAAO/G,CAAC,CAAC6G,YAAF,CAAeM,SAAtB,CAAtI,EAAuKnH,CAAC,CAAC0F,cAAF,CAAiB0B,yBAAjB,CAA2CE,CAA3C,EAA6CnI,CAA7C,EAA+CY,CAA/C,EAAiDE,CAAjD,CAAvK,EAA2ND,CAAC,CAAC0F,cAAF,CAAiB2B,6BAAjB,CAA+CC,CAA/C,EAAiDvH,CAAjD,CAA3N;AAA+Q,cAAIK,CAAC,GAACL,CAAC,CAACwH,QAAF,EAAN;AAAA,cAAmBlH,CAAC,GAAC,CAAC,OAAD,EAAS,MAAT,EAAgB,gBAAhB,EAAiC,cAAjC,EAAgD,aAAhD,EAA8D,eAA9D,EAA8E,gBAA9E,EAA+F,WAA/F,EAA2G,WAA3G,EAAuH,WAAvH,EAAmI,cAAnI,EAAkJ,QAAlJ,EAA2J,YAA3J,EAAwK,aAAxK,EAAsL,aAAtL,EAAoM,aAApM,EAAkN,aAAlN,EAAgO,aAAhO,EAA8O,cAA9O,EAA6P,0BAA7P,EAAwR,+BAAxR,EAAwT,eAAxT,EAAwU,YAAxU,EAAqV,MAArV,EAA4V,WAA5V,EAAwW,gBAAxW,EAAyX,YAAzX,EAAsY,YAAtY,EAAmZ,YAAnZ,EAAga,aAAha,EAA8a,kBAA9a,EAAic,mBAAjc,EAAqd,WAArd,EAAie,WAAje,CAArB;AAAA,cAAmgBe,CAAC,GAAC,CAAC,eAAD,EAAiB,mBAAjB,EAAqC,mBAArC,CAArgB;AAAA,cAA+jB0W,CAAC,GAAC,IAAItW,KAAJ,EAAjkB;AAA2kBxB,UAAAA,CAAC,CAACugB,4BAAF,KAAiCvgB,CAAC,CAACugB,4BAAF,CAA+BC,eAA/B,CAA+CngB,CAA/C,EAAiDN,CAAjD,GAAoDC,CAAC,CAACugB,4BAAF,CAA+BE,eAA/B,CAA+Crf,CAA/C,EAAiDrB,CAAjD,CAArF,GAA0IC,CAAC,CAAC0F,cAAF,CAAiB8B,8BAAjB,CAAgD;AAACC,YAAAA,aAAa,EAACpH,CAAf;AAAiBqH,YAAAA,mBAAmB,EAACoQ,CAArC;AAAuCnQ,YAAAA,QAAQ,EAACvG,CAAhD;AAAkDwG,YAAAA,OAAO,EAAC7H,CAA1D;AAA4D0G,YAAAA,qBAAqB,EAAC,KAAKA;AAAvF,WAAhD,CAA1I,EAAySrH,CAAC,CAACyI,SAAF,CAAYvH,CAAC,CAAC2E,SAAF,GAAc6C,YAAd,CAA2B,OAA3B,EAAmC;AAACC,YAAAA,UAAU,EAACT,CAAZ;AAAcG,YAAAA,aAAa,EAACpH,CAA5B;AAA8BqH,YAAAA,mBAAmB,EAACoQ,CAAlD;AAAoDnQ,YAAAA,QAAQ,EAACvG,CAA7D;AAA+DwG,YAAAA,OAAO,EAACxH,CAAvE;AAAyE4H,YAAAA,SAAS,EAAC/H,CAAnF;AAAqFgI,YAAAA,UAAU,EAAC,KAAKA,UAArG;AAAgHC,YAAAA,OAAO,EAAC,KAAKA,OAA7H;AAAqIC,YAAAA,eAAe,EAAC;AAAC1B,cAAAA,qBAAqB,EAAC,KAAKpC;AAA5B;AAArJ,WAAnC,EAA6OzC,CAA7O,CAAZ,EAA4P7B,CAA5P,CAAzS;AAAwiB;;AAAA,eAAM,EAAE,CAACX,CAAC,CAACwF,MAAH,IAAW,CAACxF,CAAC,CAACwF,MAAF,CAASY,OAAT,EAAd,MAAoCzF,CAAC,CAACqI,SAAF,GAAY9H,CAAC,CAAC+H,WAAF,EAAZ,EAA4BjJ,CAAC,CAACwF,MAAF,CAASC,mBAAT,GAA6B,CAAC,CAA1D,EAA4D,CAAC,CAAjG,CAAN;AAA0G,OAA/0J,EAAg1JzF,CAAC,CAAC8B,SAAF,CAAYoH,cAAZ,GAA2B,UAASnJ,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAAC,KAAKgF,QAAL,EAAN;AAAA,YAAsBzE,CAAC,GAACR,CAAC,CAACgF,gBAA1B;;AAA2C,YAAGxE,CAAH,EAAK;AAAC,cAAIsB,CAAC,GAAC9B,CAAC,CAAC8E,MAAR;;AAAe,cAAGhD,CAAC,IAAE,KAAK0c,KAAX,EAAiB;AAAC,iBAAK/V,aAAL,GAAmB3G,CAAnB,EAAqB,KAAK4G,mBAAL,CAAyBrJ,CAAzB,CAArB,EAAiD,KAAKoJ,aAAL,CAAmBE,SAAnB,CAA6B,gBAA7B,EAA8C1I,CAAC,CAAC2I,kBAAF,EAA9C,CAAjD,EAAuH1I,CAAC,CAAC0F,cAAF,CAAiBiD,mBAAjB,CAAqCvJ,CAArC,EAAuC,KAAKmJ,aAA5C,CAAvH,EAAkL,KAAKK,WAAL,CAAiB7I,CAAjB,EAAmB6B,CAAnB,MAAwB,KAAKge,WAAL,IAAkB5f,CAAC,CAACsF,aAAF,CAAgB8U,kBAAlC,KAAuD,KAAK7R,aAAL,CAAmBM,UAAnB,CAA8B,eAA9B,EAA8C,KAAK+W,WAAnD,GAAgE,KAAKrX,aAAL,CAAmBO,SAAnB,CAA6B,cAA7B,EAA4C,KAAK8W,WAAL,CAAiB7W,gBAA7D,EAA8E,KAAK6W,WAAL,CAAiB5W,KAA/F,CAAhE,EAAsK,KAAKT,aAAL,CAAmBE,SAAnB,CAA6B,cAA7B,EAA4C,KAAKmX,WAAL,CAAiB3W,gBAAjB,EAA5C,CAA7N,GAA+SjJ,CAAC,CAAC0F,cAAF,CAAiBwD,aAAjB,CAA+B,KAAKX,aAApC,EAAkDxI,CAAlD,CAA/S,EAAoW,KAAK6F,WAAL,IAAkB,KAAK2C,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKC,SAA7C,CAAtX,EAA8apJ,CAAC,CAAC0F,cAAF,CAAiB2D,eAAjB,CAAiCzH,CAAjC,EAAmC7B,CAAnC,CAAtc,CAAlL,EAA+pB,KAAKwI,aAAL,CAAmBe,SAAnB,CAA6B,eAA7B,EAA6C,KAAKrF,YAAlD,EAA+D,KAAKM,KAAL,GAAWnF,CAAC,CAACmK,UAA5E,CAA/pB,EAAuvBjJ,CAAC,CAAC0V,YAAF,IAAgB,KAAKzN,aAAL,CAAmBe,SAAnB,CAA6B,gBAA7B,EAA8C,KAAK4M,aAAnD,EAAiE,KAAKC,aAAtE,CAAvwB,EAA41BpW,CAAC,CAACyJ,aAAF,IAAiB,CAAC,KAAKC,eAAvB,IAAwCzJ,CAAC,CAAC0F,cAAF,CAAiBgE,UAAjB,CAA4B3J,CAA5B,EAA8BX,CAA9B,EAAgC,KAAKmJ,aAArC,EAAmDjI,CAAnD,EAAqD,KAAKmG,qBAA1D,CAAp4B,EAAq9B1G,CAAC,CAAC8F,UAAF,IAAczG,CAAC,CAACuK,QAAhB,IAA0B5J,CAAC,CAAC6J,OAAF,KAAY5J,CAAC,CAAC6J,KAAF,CAAQC,YAA9C,IAA4D,KAAKvB,aAAL,CAAmBE,SAAnB,CAA6B,MAA7B,EAAoC1I,CAAC,CAACgK,aAAF,EAApC,CAAjhC,EAAwkC/J,CAAC,CAAC0F,cAAF,CAAiBsE,iBAAjB,CAAmCjK,CAAnC,EAAqCX,CAArC,EAAuC,KAAKmJ,aAA5C,CAAxkC,EAAmoCvI,CAAC,CAAC0F,cAAF,CAAiBgb,YAAjB,CAA8BpgB,CAA9B,EAAgC,KAAKiI,aAArC,EAAmDxI,CAAnD,CAAnoC,EAAyrCC,CAAC,CAACsF,aAAF,CAAgBua,wBAAhB,KAA2C,KAAKtX,aAAL,CAAmBM,UAAnB,CAA8B,mBAA9B,EAAkD,KAAKiW,cAAvD,GAAuE,KAAKvW,aAAL,CAAmBM,UAAnB,CAA8B,mBAA9B,EAAkD,KAAKgW,cAAvD,CAAlH,CAAzrC;;AAAm3C,gBAAIxd,CAAC,GAAC,KAAKid,KAAL,CAAWhF,cAAX,GAA4BqH,QAA5B,CAAqC,KAAKpC,oBAA1C,EAAgEoC,QAAhE,CAAyE5gB,CAAC,CAACqS,mBAAF,EAAzE,CAAN;AAAA,gBAAwGlQ,CAAC,GAACnC,CAAC,CAACkF,SAAF,GAAc+G,YAAd,EAA1G;;AAAuI9J,YAAAA,CAAC,KAAG,KAAKuc,cAAT,KAA0B,KAAKA,cAAL,GAAoBvc,CAApB,EAAsB,KAAKwJ,SAAL,IAAgB,KAAK+S,cAArE,GAAqF,KAAKlW,aAAL,CAAmBE,SAAnB,CAA6B,+BAA7B,EAA6DpH,CAA7D,CAArF,EAAqJ,KAAKkH,aAAL,CAAmBqY,UAAnB,CAA8B,eAA9B,EAA8C,KAAKtD,aAAnD,CAArJ,EAAuN,KAAK/U,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAK6U,UAA9C,CAAvN,EAAiR,KAAKzV,aAAL,CAAmBY,QAAnB,CAA4B,MAA5B,EAAmC,KAAKuC,SAAL,GAAe,GAAlD,CAAjR,EAAwU,KAAKnD,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAKkU,SAA7C,CAAxU,EAAgY,KAAK9U,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAKoU,UAA9C,CAAhY,EAA0b,KAAKhV,aAAL,CAAmBY,QAAnB,CAA4B,YAA5B,EAAyC,KAAKqU,UAA9C,CAA1b,EAAof,KAAKjV,aAAL,CAAmBe,SAAnB,CAA6B,YAA7B,EAA0C,KAAKsU,UAA/C,EAA0D,CAA1D,CAApf,EAAijB,KAAKrV,aAAL,CAAmBY,QAAnB,CAA4B,kBAA5B,EAA+C,KAAK0U,gBAApD,CAAjjB,EAAunB,KAAKtV,aAAL,CAAmBe,SAAnB,CAA6B,aAA7B,EAA2C,KAAKwU,WAAhD,EAA4D,CAA5D,CAAvnB,EAAsrB,KAAKvV,aAAL,CAAmBY,QAAnB,CAA4B,mBAA5B,EAAgD,KAAK4U,iBAArD,CAAtrB,EAA8vB,KAAKxV,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAK8U,SAA7C,CAA9vB,EAAszB,KAAK1V,aAAL,CAAmBY,QAAnB,CAA4B,WAA5B,EAAwC,KAAK+U,SAA7C,CAAtzB,EAA82B,KAAKa,6BAAL,IAAoC,CAAC,KAAKA,6BAAL,CAAmCnY,kBAAxE,IAA4F,KAAKmY,6BAAL,CAAmC/d,IAAnC,CAAwC,KAAKuH,aAA7C,CAA18B,EAAsgC,KAAK0B,UAAL,CAAgB7K,CAAhB,EAAkB,KAAKmJ,aAAvB,CAAtgC;AAA4iC;AAAC;AAAC,OAAr/O,EAAs/OnJ,CAAC,CAAC8B,SAAF,CAAYwd,oBAAZ,GAAiC,UAASvf,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAIU,CAAJ;AAAA,YAAMC,CAAC,GAAC,IAAR;AAAa,aAAK+e,cAAL,GAAoB,IAAI9e,CAAC,CAAC6gB,mBAAN,CAA0B9V,IAAI,GAAC,aAA/B,EAA6C;AAACwE,UAAAA,KAAK,EAACnQ,CAAC,CAACkT,CAAT;AAAW9C,UAAAA,MAAM,EAACpQ,CAAC,CAACmT;AAApB,SAA7C,EAAoEpT,CAApE,EAAsE,CAAC,CAAvE,EAAyE,CAAC,CAA1E,CAApB,EAAiG,KAAK2f,cAAL,CAAoBpP,KAApB,GAA0B1P,CAAC,CAAC8gB,SAAF,CAAYC,0BAAvI,EAAkK,KAAKjC,cAAL,CAAoBlP,KAApB,GAA0B5P,CAAC,CAAC8gB,SAAF,CAAYC,0BAAxM,EAAmO,KAAKjC,cAAL,CAAoBkC,oBAApB,GAAyC,CAAC,CAA7Q,EAA+Q,KAAKnC,cAAL,GAAoB,IAAI7e,CAAC,CAAC6gB,mBAAN,CAA0B9V,IAAI,GAAC,aAA/B,EAA6C;AAACwE,UAAAA,KAAK,EAACnQ,CAAC,CAACkT,CAAT;AAAW9C,UAAAA,MAAM,EAACpQ,CAAC,CAACmT;AAApB,SAA7C,EAAoEpT,CAApE,EAAsE,CAAC,CAAvE,EAAyE,CAAC,CAA1E,CAAnS,EAAgX,KAAK0f,cAAL,CAAoBnP,KAApB,GAA0B1P,CAAC,CAAC8gB,SAAF,CAAYC,0BAAtZ,EAAib,KAAKlC,cAAL,CAAoBjP,KAApB,GAA0B5P,CAAC,CAAC8gB,SAAF,CAAYC,0BAAvd,EAAkf,KAAKlC,cAAL,CAAoBmC,oBAApB,GAAyC,CAAC,CAA5hB;AAA8hB,YAAI1gB,CAAJ;AAAA,YAAMsB,CAAC,GAAC,IAAR;AAAA,YAAaP,CAAC,GAACrB,CAAC,CAACwe,MAAF,CAAStO,IAAT,EAAf;AAA+B,aAAK4O,cAAL,CAAoBmC,cAApB,GAAmC,YAAU;AAAC,cAAGlhB,CAAC,CAACue,KAAF,KAAUxe,CAAC,GAACC,CAAC,CAACue,KAAF,CAAQ4C,SAAV,EAAoBnhB,CAAC,CAACue,KAAF,CAAQ4C,SAAR,GAAkB,CAAC,CAAjD,GAAoD,CAACnhB,CAAC,CAACoe,gBAA1D,EAA2E;AAACvc,YAAAA,CAAC,GAACzC,CAAC,CAACgiB,SAAJ;AAAc,gBAAI/hB,CAAC,GAACW,CAAC,CAACue,KAAF,GAAQve,CAAC,CAACue,KAAF,CAAQrO,QAAR,CAAiBsC,CAAzB,GAA2B,CAAjC;AAAmCpT,YAAAA,CAAC,CAACgiB,SAAF,GAAYnhB,CAAC,CAACohB,KAAF,CAAQC,qBAAR,CAA8B,IAAIrhB,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgBhO,CAAC,GAAC,GAAlB,EAAsB,CAAtB,CAA9B,EAAuD,IAAIY,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgB,CAAhB,EAAkB,CAAlB,CAAvD,CAAZ;AAAyF;AAAC,SAArQ,EAAsQ,KAAK0R,cAAL,CAAoBwC,aAApB,GAAkC,YAAU;AAACvhB,UAAAA,CAAC,CAACue,KAAF,KAAUve,CAAC,CAACue,KAAF,CAAQ4C,SAAR,GAAkBphB,CAA5B,GAA+BC,CAAC,CAACoe,gBAAF,KAAqBhf,CAAC,CAACgiB,SAAF,GAAYvf,CAAjC,CAA/B;AAAmE,SAAtX,EAAuX,KAAKid,cAAL,CAAoBoC,cAApB,GAAmC,YAAU;AAAC,cAAGlhB,CAAC,CAACue,KAAF,KAAUxe,CAAC,GAACC,CAAC,CAACue,KAAF,CAAQ4C,SAAV,EAAoBnhB,CAAC,CAACue,KAAF,CAAQ4C,SAAR,GAAkB,CAAC,CAAjD,GAAoD,CAACnhB,CAAC,CAACoe,gBAA1D,EAA2E;AAACvc,YAAAA,CAAC,GAACzC,CAAC,CAACgiB,SAAJ;AAAc,gBAAI/hB,CAAC,GAACW,CAAC,CAACue,KAAF,GAAQve,CAAC,CAACue,KAAF,CAAQrO,QAAR,CAAiBsC,CAAzB,GAA2B,CAAjC;AAAmCpT,YAAAA,CAAC,CAACgiB,SAAF,GAAYnhB,CAAC,CAACohB,KAAF,CAAQC,qBAAR,CAA8B,IAAIrhB,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgBhO,CAAC,GAAC,GAAlB,EAAsB,CAAtB,CAA9B,EAAuD,IAAIY,CAAC,CAACoN,OAAN,CAAc,CAAd,EAAgB,CAAC,CAAjB,EAAmB,CAAnB,CAAvD,CAAZ,EAA0FpN,CAAC,CAACwe,MAAF,CAAS+C,eAAT,CAAyBpiB,CAAC,CAACgiB,SAA3B,EAAqC9f,CAArC,CAA1F;AAAkI;;AAAAf,UAAAA,CAAC,GAACnB,CAAC,CAAC4K,aAAF,EAAF,EAAoB1I,CAAC,CAACmgB,aAAF,CAAgBlhB,CAAhB,EAAkBP,CAAC,CAACwe,oBAApB,CAApB,EAA8Dpf,CAAC,CAACsiB,kBAAF,CAAqB1hB,CAAC,CAACwe,oBAAvB,EAA4Cpf,CAAC,CAACiT,mBAAF,EAA5C,CAA9D,EAAmIjT,CAAC,CAAC8F,SAAF,GAAcyc,aAAd,GAA4B,CAAC,CAAhK,EAAkKviB,CAAC,CAACwiB,uBAAF,GAA0B3hB,CAAC,CAACoN,OAAF,CAAUwU,oBAAV,CAA+BziB,CAAC,CAACka,YAAF,CAAepJ,QAA9C,EAAuD5O,CAAvD,CAA5L;AAAsP,SAA15B,EAA25B,KAAKwd,cAAL,CAAoByC,aAApB,GAAkC,YAAU;AAACvhB,UAAAA,CAAC,CAACue,KAAF,KAAUve,CAAC,CAACue,KAAF,CAAQ4C,SAAR,GAAkBphB,CAA5B,GAA+BX,CAAC,CAACgiB,SAAF,GAAYvf,CAA3C,EAA6CzC,CAAC,CAACsiB,kBAAF,CAAqBnhB,CAArB,EAAuBnB,CAAC,CAACiT,mBAAF,EAAvB,CAA7C,EAA6FjT,CAAC,CAAC8F,SAAF,GAAcyc,aAAd,GAA4B,CAAC,CAA1H,EAA4HviB,CAAC,CAACwiB,uBAAF,GAA0B,IAAtJ;AAA2J,SAAnmC;AAAomC,OAAntS,EAAotSviB,CAAC,CAAC8B,SAAF,CAAYgJ,cAAZ,GAA2B,YAAU;AAAC,YAAI/K,CAAC,GAAC,EAAN;AAAS,eAAO,KAAKygB,WAAL,IAAkB,KAAKA,WAAL,CAAiBzV,UAAnC,IAA+C,KAAKyV,WAAL,CAAiBzV,UAAjB,CAA4BxI,MAA5B,GAAmC,CAAlF,IAAqFxC,CAAC,CAAC4H,IAAF,CAAO,KAAK6Y,WAAZ,CAArF,EAA8G,KAAKf,cAAL,IAAqB,KAAKA,cAAL,CAAoB1U,UAAzC,IAAqD,KAAK0U,cAAL,CAAoB1U,UAApB,CAA+BxI,MAA/B,GAAsC,CAA3F,IAA8FxC,CAAC,CAAC4H,IAAF,CAAO,KAAK8X,cAAZ,CAA5M,EAAwO,KAAKC,cAAL,IAAqB,KAAKA,cAAL,CAAoB3U,UAAzC,IAAqD,KAAK2U,cAAL,CAAoB3U,UAApB,CAA+BxI,MAA/B,GAAsC,CAA3F,IAA8FxC,CAAC,CAAC4H,IAAF,CAAO,KAAK+X,cAAZ,CAAtU,EAAkW3f,CAAzW;AAA2W,OAA9mT,EAA+mTC,CAAC,CAAC8B,SAAF,CAAYkJ,iBAAZ,GAA8B,YAAU;AAAC,YAAIhL,CAAC,GAACD,CAAC,CAAC+B,SAAF,CAAYkJ,iBAAZ,CAA8BlK,IAA9B,CAAmC,IAAnC,CAAN;AAA+C,eAAO,KAAK2hB,YAAL,IAAmBziB,CAAC,CAAC2H,IAAF,CAAO,KAAK8a,YAAZ,CAAnB,EAA6CziB,CAApD;AAAsD,OAA7vT,EAA8vTA,CAAC,CAAC8B,SAAF,CAAYmJ,UAAZ,GAAuB,UAASjL,CAAT,EAAW;AAAC,eAAM,CAAC,CAACD,CAAC,CAAC+B,SAAF,CAAYmJ,UAAZ,CAAuBnK,IAAvB,CAA4B,IAA5B,EAAiCd,CAAjC,CAAF,IAAuC,KAAKyiB,YAAL,KAAoBziB,CAAjE;AAAmE,OAAp2T,EAAq2TA,CAAC,CAAC8B,SAAF,CAAYoJ,OAAZ,GAAoB,UAASlL,CAAT,EAAW;AAAC,aAAKwgB,WAAL,IAAkB,KAAKA,WAAL,CAAiBtV,OAAjB,EAAlB;AAA6C,YAAIxK,CAAC,GAAC,KAAKiF,QAAL,GAAgB+c,mBAAhB,CAAoCnK,OAApC,CAA4C,KAAKmH,cAAjD,CAAN;AAAuE,SAAC,CAAD,IAAIhf,CAAJ,IAAO,KAAKiF,QAAL,GAAgB+c,mBAAhB,CAAoClK,MAApC,CAA2C9X,CAA3C,EAA6C,CAA7C,CAAP,EAAuDA,CAAC,GAAC,CAAC,CAA1D,EAA4D,CAAC,CAAD,KAAKA,CAAC,GAAC,KAAKiF,QAAL,GAAgB+c,mBAAhB,CAAoCnK,OAApC,CAA4C,KAAKkH,cAAjD,CAAP,KAA0E,KAAK9Z,QAAL,GAAgB+c,mBAAhB,CAAoClK,MAApC,CAA2C9X,CAA3C,EAA6C,CAA7C,CAAtI,EAAsL,KAAK+e,cAAL,IAAqB,KAAKA,cAAL,CAAoBvU,OAApB,EAA3M,EAAyO,KAAKwU,cAAL,IAAqB,KAAKA,cAAL,CAAoBxU,OAApB,EAA9P,EAA4R,KAAKyU,6BAAL,IAAoC,KAAKC,wBAAzC,IAAmE,KAAKD,6BAAL,CAAmCE,kBAAnC,CAAsD8C,MAAtD,CAA6D,KAAK/C,wBAAlE,CAA/V,EAA2b7f,CAAC,CAAC+B,SAAF,CAAYoJ,OAAZ,CAAoBpK,IAApB,CAAyB,IAAzB,EAA8Bd,CAA9B,CAA3b;AAA4d,OAAr9U,EAAs9UA,CAAC,CAAC8B,SAAF,CAAYsJ,KAAZ,GAAkB,UAASrL,CAAT,EAAW;AAAC,YAAIW,CAAC,GAAC,IAAN;AAAW,eAAOE,CAAC,CAACyK,mBAAF,CAAsBC,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAItL,CAAJ,CAAMD,CAAN,EAAQW,CAAC,CAACiF,QAAF,EAAR,CAAP;AAA6B,SAArE,EAAuE,IAAvE,CAAP;AAAoF,OAAnlV,EAAolV3F,CAAC,CAAC8B,SAAF,CAAYyJ,SAAZ,GAAsB,YAAU;AAAC,YAAIxL,CAAC,GAACa,CAAC,CAACyK,mBAAF,CAAsBG,SAAtB,CAAgC,IAAhC,CAAN;AAA4C,YAAGzL,CAAC,CAAC0L,UAAF,GAAa,uBAAb,EAAqC1L,CAAC,CAACqgB,UAAF,GAAa,EAAlD,EAAqD,KAAKV,cAAL,IAAqB,KAAKA,cAAL,CAAoBU,UAAjG,EAA4G,KAAI,IAAIpgB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAK0f,cAAL,CAAoBU,UAApB,CAA+B7d,MAA7C,EAAoDvC,CAAC,EAArD;AAAwDD,UAAAA,CAAC,CAACqgB,UAAF,CAAazY,IAAb,CAAkB,KAAK+X,cAAL,CAAoBU,UAApB,CAA+BpgB,CAA/B,EAAkC+M,EAApD;AAAxD;AAAgH,eAAOhN,CAAP;AAAS,OAAt4V,EAAu4VC,CAAC,CAAC8B,SAAF,CAAYqJ,YAAZ,GAAyB,YAAU;AAAC,eAAM,eAAN;AAAsB,OAAj8V,EAAk8VnL,CAAC,CAAC0L,KAAF,GAAQ,UAAS3L,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAe;AAAC,YAAIO,CAAC,GAACN,CAAC,CAACyK,mBAAF,CAAsBK,KAAtB,CAA6B,YAAU;AAAC,iBAAO,IAAI1L,CAAJ,CAAMD,CAAC,CAAC4L,IAAR,EAAajL,CAAb,CAAP;AAAuB,SAA/D,EAAiEX,CAAjE,EAAmEW,CAAnE,EAAqEC,CAArE,CAAN;AAA8E,eAAOO,CAAC,CAAC+f,kBAAF,GAAqBlhB,CAAC,CAACqgB,UAAvB,EAAkClf,CAAzC;AAA2C,OAAnlW,EAAolWlB,CAAC,CAAC4iB,iBAAF,GAAoB,UAAS7iB,CAAT,EAAWC,CAAX,EAAa;AAAC,eAAOY,CAAC,CAACiiB,IAAF,CAAOC,YAAP,CAAoB/iB,CAApB,EAAsB,GAAtB,EAA0B,GAA1B,EAA8B,EAA9B,EAAiCC,CAAjC,EAAmC,CAAC,CAApC,CAAP;AAA8C,OAApqW,EAAqqWmB,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACgL,kBAAH,CAAN,CAA6B,aAA7B,CAAD,CAAZ,EAA0D5L,CAAC,CAAC8B,SAA5D,EAAsE,cAAtE,EAAqF,KAAK,CAA1F,CAArqW,EAAkwWX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,kCAA3B,CAAD,CAAZ,EAA6E7L,CAAC,CAAC8B,SAA/E,EAAyF,aAAzF,EAAuG,KAAK,CAA5G,CAAlwW,EAAi3WX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,cAAxD,EAAuE,KAAK,CAA5E,CAAj3W,EAAg8WX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,eAAxD,EAAwE,KAAK,CAA7E,CAAh8W,EAAghXX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,eAAhD,EAAgE,KAAK,CAArE,CAAhhX,EAAwlXX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAxlX,EAAorXX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,iBAAvF,EAAyG,KAAK,CAA9G,CAAprX,EAAqyXX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAryX,EAA64XX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,gCAA3B,CAAD,CAAZ,EAA2E7L,CAAC,CAAC8B,SAA7E,EAAuF,uBAAvF,EAA+G,KAAK,CAApH,CAA74X,EAAogYX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAApgY,EAAwkYX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACmiB,kBAAH,CAAN,EAAD,CAAZ,EAA6C/iB,CAAC,CAAC8B,SAA/C,EAAyD,eAAzD,EAAyE,KAAK,CAA9E,CAAxkY,EAAypYX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAAzpY,EAA8tYX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAA9tY,EAAmyYX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAAnyY,EAA+3YX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,8BAA3B,CAAD,CAAZ,EAAyE7L,CAAC,CAAC8B,SAA3E,EAAqF,iBAArF,EAAuG,KAAK,CAA5G,CAA/3Y,EAA8+YX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,iBAApB,CAAD,CAAZ,EAAqDvL,CAAC,CAAC8B,SAAvD,EAAiE,kBAAjE,EAAoF,KAAK,CAAzF,CAA9+Y,EAA0kZX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,8BAA3B,CAAD,CAAZ,EAAyE7L,CAAC,CAAC8B,SAA3E,EAAqF,iBAArF,EAAuG,KAAK,CAA5G,CAA1kZ,EAAyrZX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,CAAoB,uBAApB,CAAD,CAAZ,EAA2DvL,CAAC,CAAC8B,SAA7D,EAAuE,wBAAvE,EAAgG,KAAK,CAArG,CAAzrZ,EAAiyZX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACiL,gBAAH,CAAN,CAA2B,8BAA3B,CAAD,CAAZ,EAAyE7L,CAAC,CAAC8B,SAA3E,EAAqF,uBAArF,EAA6G,KAAK,CAAlH,CAAjyZ,EAAs5ZX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,YAAxD,EAAqE,KAAK,CAA1E,CAAt5Z,EAAm+ZX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,kBAAhD,EAAmE,KAAK,CAAxE,CAAn+Z,EAA8iaX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAACkL,iBAAH,CAAN,EAAD,CAAZ,EAA4C9L,CAAC,CAAC8B,SAA9C,EAAwD,aAAxD,EAAsE,KAAK,CAA3E,CAA9ia,EAA4naX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,mBAAhD,EAAoE,KAAK,CAAzE,CAA5na,EAAwsaX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,YAAhD,EAA6D,KAAK,CAAlE,CAAxsa,EAA6waX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAA7wa,EAAi1aX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,WAAhD,EAA4D,KAAK,CAAjE,CAAj1a,EAAq5aX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,kBAAhD,EAAmE,KAAK,CAAxE,CAAr5a,EAAg+aX,MAAM,CAACR,CAAC,CAAC6B,CAAH,CAAN,CAAY,CAACrB,MAAM,CAACP,CAAC,CAAC2K,SAAH,CAAN,EAAD,CAAZ,EAAoCvL,CAAC,CAAC8B,SAAtC,EAAgD,qBAAhD,EAAsE,IAAtE,CAAh+a,EAA4ib9B,CAAnjb;AAAqjb,KAA1sd,CAA2sdY,CAAC,CAACmL,YAA7sd,CAA5zB;;AAAuhfnL,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,uBAA7B,IAAsDnJ,CAAtD;AAAwD,GAf382K,EAe482K,UAAS/C,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAOU,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,uBAAN,EAA+B,YAAU;AAAC,aAAOkB,CAAP;AAAS,KAAnD,CAAP,EAA6DR,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,aAAOwC,CAAP;AAAS,KAAhD,CAA7D,EAAgH9B,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAOiC,CAAP;AAAS,KAA5C,CAAhH,EAA+JvB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAO8C,CAAP;AAAS,KAA/C,CAA/J,EAAiNpC,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAOa,CAAP;AAAS,KAA/C,CAAjN;;AAAmQ,QAAIF,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAA,QAAWE,CAAC,GAACF,CAAC,CAAC,CAAD,CAAd;AAAA,QAAkBQ,CAAC,GAAC,SAAFA,CAAE,GAAU,CAAE,CAAhC;AAAA,QAAiCsB,CAAC,GAAC,SAAFA,CAAE,GAAU,CAAE,CAA/C;AAAA,QAAgDP,CAAC,GAAC,UAASlC,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACqiB,WAAF,GAAc,IAAIxgB,CAAJ,EAAd,EAAoB7B,CAAC,CAACsiB,uBAAF,GAA0BtiB,CAAC,CAACuiB,OAAhD,EAAwDviB,CAAC,CAACwiB,cAAF,GAAiBviB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBogB,kBAA/F,EAAkHziB,CAAC,CAAC0iB,YAAF,GAAeziB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBsgB,mBAAvJ,EAA2K3iB,CAAlL;AAAoL;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYyhB,eAAZ,GAA4B,UAASxjB,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAG,KAAKwjB,oBAAR,EAA6B,KAAI,IAAI9iB,CAAR,IAAa,KAAK8iB,oBAAlB,EAAuC;AAAC,oBAAQ,CAAC7iB,CAAC,GAACD,CAAC,CAACyH,QAAF,GAAasb,KAAb,CAAmB,GAAnB,CAAH,EAA4B,CAA5B,CAAR,GAAuCzjB,CAAC,CAACwhB,UAAF,CAAa7gB,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAvC,GAAuF,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACoP,UAAF,CAAazO,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAb,GAA6D,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACuT,UAAF,CAAa5S,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAb,GAA6D,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACqJ,SAAF,CAAY1I,CAAC,CAAC,CAAD,CAAb,EAAiB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAjB,CAAb,GAA4D,WAASC,CAAC,CAAC,CAAD,CAAV,IAAeX,CAAC,CAAC+J,QAAF,CAAWpJ,CAAC,CAAC,CAAD,CAAZ,EAAgB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAhB,CAA5R;AAA0U;AAAA,YAAG,KAAKgjB,oBAAR,EAA6B,KAAI,IAAIhjB,CAAR,IAAa,KAAKgjB,oBAAlB,EAAuC;AAAC,cAAI/iB,CAAJ;AAAM,yBAAa,CAACA,CAAC,GAACD,CAAC,CAACyH,QAAF,GAAasb,KAAb,CAAmB,GAAnB,CAAH,EAA4B,CAA5B,CAAb,IAA6C,KAAKC,oBAAL,CAA0BhjB,CAA1B,EAA6B0F,OAA1E,IAAmF,KAAKsd,oBAAL,CAA0BhjB,CAA1B,EAA6B0F,OAA7B,EAAnF,IAA2HpG,CAAC,CAACyJ,UAAF,CAAa9I,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK+iB,oBAAL,CAA0BhjB,CAA1B,CAAlB,CAA3H;AAA2K;AAAC,OAAjsB,EAAksBV,CAAC,CAAC8B,SAAF,CAAY6hB,aAAZ,GAA0B,UAAS5jB,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAG,aAAWD,CAAX,IAAc,KAAK6jB,YAAtB,EAAmC,KAAI,IAAIljB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKkjB,YAAL,CAAkBrhB,MAAhC,EAAuC7B,CAAC,EAAxC;AAA2C,WAAC,CAAD,IAAI,KAAKmjB,cAAL,CAAoBnjB,CAApB,EAAuB6X,OAAvB,CAA+B,SAA/B,CAAJ,IAA+CvY,CAAC,CAAC2H,IAAF,CAAO,KAAKic,YAAL,CAAkBljB,CAAlB,CAAP,CAA/C;AAA3C;AAAuH,YAAG,aAAWX,CAAX,IAAc,KAAK6jB,YAAtB,EAAmC,KAAIljB,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC,KAAKkjB,YAAL,CAAkBrhB,MAA5B,EAAmC7B,CAAC,EAApC;AAAuC,WAAC,CAAD,IAAI,KAAKmjB,cAAL,CAAoBnjB,CAApB,EAAuB6X,OAAvB,CAA+B,SAA/B,CAAJ,IAA+CvY,CAAC,CAAC2H,IAAF,CAAO,KAAKic,YAAL,CAAkBljB,CAAlB,CAAP,CAA/C;AAAvC;AAAmH,eAAOV,CAAP;AAAS,OAAniC,EAAoiCA,CAAC,CAAC8B,SAAF,CAAYohB,OAAZ,GAAoB,UAASnjB,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAeO,CAAf,EAAiBsB,CAAjB,EAAmBP,CAAnB,EAAqB;AAAC,YAAIa,CAAC,GAAC,IAAN;AAAW,YAAGb,CAAC,IAAE,KAAK6hB,iBAAR,IAA2B,KAAKA,iBAAL,CAAuBvhB,MAAvB,GAA8B,CAAzD,IAA4DN,CAAC,CAAC0F,IAAF,CAAOoc,KAAP,CAAa9hB,CAAb,EAAe,KAAK6hB,iBAApB,CAA5D,EAAmG,KAAKH,aAAL,CAAmB,SAAnB,EAA6BjjB,CAA7B,CAAnG,EAAmI,KAAKijB,aAAL,CAAmB,SAAnB,EAA6BziB,CAA7B,CAAnI,EAAmK,KAAK8iB,gBAA3K,EAA4L,OAAO,KAAKC,kBAAZ;AAA+B,aAAKD,gBAAL,GAAsB,CAAC,CAAvB,EAAyBhkB,CAAC,CAACkkB,aAAF,EAAzB;;AAA2C,YAAIrjB,CAAC,GAAC,YAAUb,CAAC,CAACkkB,aAAlB;AAAA,YAAgChc,CAAC,GAAC,KAAK2C,UAAL,CAAgBjJ,IAAhB,CAAqB,IAArB,CAAlC;;AAA6D,eAAO,KAAKiJ,UAAL,GAAgB,UAAS9K,CAAT,EAAWC,CAAX,EAAa;AAAC,cAAGA,CAAH,EAAK;AAAC8C,YAAAA,CAAC,CAACygB,eAAF,CAAkBxjB,CAAlB,EAAoBC,CAApB;;AAAuB,gBAAG;AAACkI,cAAAA,CAAC,CAACnI,CAAD,EAAGC,CAAH,CAAD;AAAO,aAAX,CAAW,OAAMA,CAAN,EAAQ,CAAE;AAAC;AAAC,SAAlF,EAAmFY,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,IAAwC,KAAKwiB,YAAL,CAAkBc,OAAlB,CAA0B,6BAA1B,EAAwD,KAAKnB,WAAL,CAAiBoB,YAAjB,GAA8B,KAAKpB,WAAL,CAAiBoB,YAA/C,GAA4D,EAApH,EAAwHD,OAAxH,CAAgI,mCAAhI,EAAoK,CAAC,KAAKN,cAAL,GAAoB,KAAKA,cAAL,CAAoBQ,IAApB,CAAyB,IAAzB,CAApB,GAAmD,EAApD,KAAyD,KAAKrB,WAAL,CAAiBsB,kBAAjB,GAAoC,KAAKtB,WAAL,CAAiBsB,kBAArD,GAAwE,EAAjI,CAApK,EAA0SH,OAA1S,CAAkT,kCAAlT,EAAqV,KAAKnB,WAAL,CAAiBuB,gBAAjB,GAAkC,KAAKvB,WAAL,CAAiBuB,gBAAnD,GAAoE,EAAzZ,EAA6ZJ,OAA7Z,CAAqa,uCAAra,EAA6c,KAAKnB,WAAL,CAAiBwB,6BAAjB,GAA+C,KAAKxB,WAAL,CAAiBwB,6BAAhE,GAA8F,EAA3iB,EAA+iBL,OAA/iB,CAAujB,qCAAvjB,EAA6lB,KAAKnB,WAAL,CAAiByB,2BAAjB,GAA6C,KAAKzB,WAAL,CAAiByB,2BAA9D,GAA0F,EAAvrB,EAA2rBN,OAA3rB,CAAmsB,gCAAnsB,EAAouB,KAAKnB,WAAL,CAAiB0B,cAAjB,GAAgC,KAAK1B,WAAL,CAAiB0B,cAAjD,GAAgE,EAApyB,CAA3H,EAAm6B,KAAK1B,WAAL,CAAiB2B,6BAAjB,KAAiD/jB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,IAAwCD,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,EAAwCsjB,OAAxC,CAAgD,uCAAhD,EAAwF,KAAKnB,WAAL,CAAiB2B,6BAAzG,CAAzF,CAAn6B,EAAqoC/jB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,IAAuC,KAAKsiB,cAAL,CAAoBgB,OAApB,CAA4B,+BAA5B,EAA4D,KAAKnB,WAAL,CAAiB4B,cAAjB,GAAgC,KAAK5B,WAAL,CAAiB4B,cAAjD,GAAgE,EAA5H,EAAgIT,OAAhI,CAAwI,oCAAxI,EAA6K,KAAKnB,WAAL,CAAiB6B,kBAAjB,GAAoC,KAAK7B,WAAL,CAAiB6B,kBAArD,GAAwE,EAArP,EAAyPV,OAAzP,CAAiQ,qCAAjQ,EAAuS,CAAC,KAAKN,cAAL,GAAoB,KAAKA,cAAL,CAAoBQ,IAApB,CAAyB,IAAzB,CAApB,GAAmD,EAApD,KAAyD,KAAKrB,WAAL,CAAiB8B,oBAAjB,GAAsC,KAAK9B,WAAL,CAAiB8B,oBAAvD,GAA4E,EAArI,CAAvS,EAAibX,OAAjb,CAAyb,wCAAzb,EAAke,KAAKnB,WAAL,CAAiB+B,uBAAjB,GAAyC,KAAK/B,WAAL,CAAiB+B,uBAA1D,GAAkF,EAApjB,EAAwjBZ,OAAxjB,CAAgkB,sCAAhkB,EAAumB,KAAKnB,WAAL,CAAiBgC,qBAAjB,GAAuC,KAAKhC,WAAL,CAAiBgC,qBAAxD,GAA8E,EAArrB,EAAyrBb,OAAzrB,CAAisB,uCAAjsB,EAAyuB,KAAKnB,WAAL,CAAiBiC,sBAAjB,GAAwC,KAAKjC,WAAL,CAAiBiC,sBAAzD,GAAgF,EAAzzB,EAA6zBd,OAA7zB,CAAq0B,0CAAr0B,EAAg3B,KAAKnB,WAAL,CAAiBkC,yBAAjB,GAA2C,KAAKlC,WAAL,CAAiBkC,yBAA5D,GAAsF,EAAt8B,CAA5qC,EAAsnE,KAAKlC,WAAL,CAAiBmC,mBAAjB,KAAuCvkB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,IAAuCD,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,EAAuCsjB,OAAvC,CAA+C,oCAA/C,EAAoF,KAAKnB,WAAL,CAAiBmC,mBAArG,CAA9E,CAAtnE,EAA+zE,KAAKnB,gBAAL,GAAsB,CAAC,CAAt1E,EAAw1E,KAAKC,kBAAL,GAAwBpjB,CAAh3E,EAAk3EA,CAAz3E;AAA23E,OAAvxH,EAAwxHb,CAAC,CAAC8B,SAAF,CAAYsjB,UAAZ,GAAuB,UAASrlB,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,eAAO,KAAKmjB,cAAL,KAAsB,KAAKA,cAAL,GAAoB,IAAIzhB,KAAJ,EAApB,EAA8B,KAAKwhB,YAAL,GAAkB,IAAIxhB,KAAJ,EAAhD,EAA0D,KAAKshB,oBAAL,GAA0B,EAApF,EAAuF,KAAKF,oBAAL,GAA0B,EAAvI,GAA2I9iB,CAAC,KAAG,CAAC,CAAD,IAAIV,CAAC,CAACuY,OAAF,CAAU,SAAV,CAAJ,GAAyB,KAAKmL,oBAAL,CAA0B1jB,CAAC,GAAC,GAAF,GAAMD,CAAhC,IAAmCW,CAA5D,GAA8D,KAAK8iB,oBAAL,CAA0BxjB,CAAC,GAAC,GAAF,GAAMD,CAAhC,IAAmCW,CAApG,CAA5I,EAAmP,KAAKmjB,cAAL,CAAoBlc,IAApB,CAAyB,aAAW3H,CAAX,GAAa,GAAb,GAAiBD,CAAjB,GAAmB,GAA5C,CAAnP,EAAoS,KAAK6jB,YAAL,CAAkBjc,IAAlB,CAAuB5H,CAAvB,CAApS,EAA8T,IAArU;AAA0U,OAAzoI,EAA0oIC,CAAC,CAAC8B,SAAF,CAAYujB,YAAZ,GAAyB,UAAStlB,CAAT,EAAW;AAAC,eAAO,KAAK+jB,iBAAL,KAAyB,KAAKA,iBAAL,GAAuB,EAAhD,GAAoD,KAAKA,iBAAL,CAAuBnc,IAAvB,CAA4B5H,CAA5B,CAApD,EAAmF,IAA1F;AAA+F,OAA9wI,EAA+wIC,CAAC,CAAC8B,SAAF,CAAY8iB,cAAZ,GAA2B,UAAS7kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB4B,cAAjB,GAAgC7kB,CAAhC,EAAkC,IAAzC;AAA8C,OAAp2I,EAAq2IC,CAAC,CAAC8B,SAAF,CAAYgjB,oBAAZ,GAAiC,UAAS/kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB8B,oBAAjB,GAAsC/kB,CAAtC,EAAwC,IAA/C;AAAoD,OAAt8I,EAAu8IC,CAAC,CAAC8B,SAAF,CAAY+iB,kBAAZ,GAA+B,UAAS9kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB6B,kBAAjB,GAAoC9kB,CAApC,EAAsC,IAA7C;AAAkD,OAApiJ,EAAqiJC,CAAC,CAAC8B,SAAF,CAAYijB,uBAAZ,GAAoC,UAAShlB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB+B,uBAAjB,GAAyChlB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,cAAnB,CAAzC,EAA4E,IAAnF;AAAwF,OAA7qJ,EAA8qJnkB,CAAC,CAAC8B,SAAF,CAAYkjB,qBAAZ,GAAkC,UAASjlB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBgC,qBAAjB,GAAuCjlB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,OAAnB,CAAvC,EAAmE,IAA1E;AAA+E,OAA3yJ,EAA4yJnkB,CAAC,CAAC8B,SAAF,CAAYmjB,sBAAZ,GAAmC,UAASllB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBiC,sBAAjB,GAAwCllB,CAAxC,EAA0C,IAAjD;AAAsD,OAAj5J,EAAk5JC,CAAC,CAAC8B,SAAF,CAAYqjB,mBAAZ,GAAgC,UAASplB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBmC,mBAAjB,GAAqCplB,CAArC,EAAuC,IAA9C;AAAmD,OAAj/J,EAAk/JC,CAAC,CAAC8B,SAAF,CAAYojB,yBAAZ,GAAsC,UAASnlB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBkC,yBAAjB,GAA2CnlB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,OAAnB,CAA3C,EAAuE,IAA9E;AAAmF,OAAvnK,EAAwnKnkB,CAAC,CAAC8B,SAAF,CAAYsiB,YAAZ,GAAyB,UAASrkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBoB,YAAjB,GAA8BrkB,CAA9B,EAAgC,IAAvC;AAA4C,OAAzsK,EAA0sKC,CAAC,CAAC8B,SAAF,CAAYwiB,kBAAZ,GAA+B,UAASvkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBsB,kBAAjB,GAAoCvkB,CAApC,EAAsC,IAA7C;AAAkD,OAAvyK,EAAwyKC,CAAC,CAAC8B,SAAF,CAAYyiB,gBAAZ,GAA6B,UAASxkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBuB,gBAAjB,GAAkCxkB,CAAlC,EAAoC,IAA3C;AAAgD,OAAj4K,EAAk4KC,CAAC,CAAC8B,SAAF,CAAY0iB,6BAAZ,GAA0C,UAASzkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBwB,6BAAjB,GAA+CzkB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,iBAAnB,CAA/C,EAAqF,IAA5F;AAAiG,OAAzhL,EAA0hLnkB,CAAC,CAAC8B,SAAF,CAAY2iB,2BAAZ,GAAwC,UAAS1kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiByB,2BAAjB,GAA6C1kB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,eAAnB,CAA7C,EAAiF,IAAxF;AAA6F,OAA3qL,EAA4qLnkB,CAAC,CAAC8B,SAAF,CAAY6iB,6BAAZ,GAA0C,UAAS5kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB2B,6BAAjB,GAA+C5kB,CAA/C,EAAiD,IAAxD;AAA6D,OAA/xL,EAAgyLC,CAAC,CAAC8B,SAAF,CAAY4iB,cAAZ,GAA2B,UAAS3kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB0B,cAAjB,GAAgC3kB,CAAhC,EAAkC,IAAzC;AAA8C,OAAr3L,EAAs3LC,CAAC,CAACkkB,aAAF,GAAgB,CAAt4L,EAAw4LlkB,CAA/4L;AAAi5L,KAA9nM,CAA+nMY,CAAC,CAAC0kB,gBAAjoM,CAAlD;;AAAqsM1kB,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,wBAA7B,IAAuDhK,CAAvD;;AAAyD,QAAIa,CAAC,GAAC,SAAFA,CAAE,GAAU,CAAE,CAAlB;AAAA,QAAmBjC,CAAC,GAAC,UAASd,CAAT,EAAW;AAAC,eAASC,CAAT,CAAWA,CAAX,EAAaU,CAAb,EAAe;AAAC,YAAIC,CAAC,GAACZ,CAAC,CAACe,IAAF,CAAO,IAAP,EAAYd,CAAZ,EAAcU,CAAd,KAAkB,IAAxB;AAA6B,eAAOC,CAAC,CAACqiB,WAAF,GAAc,IAAIlgB,CAAJ,EAAd,EAAoBnC,CAAC,CAACsiB,uBAAF,GAA0BtiB,CAAC,CAACuiB,OAAhD,EAAwDviB,CAAC,CAACwiB,cAAF,GAAiBviB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBuiB,cAA/F,EAA8G5kB,CAAC,CAAC0iB,YAAF,GAAeziB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBwiB,eAAnJ,EAAmK7kB,CAAC,CAACwiB,cAAF,GAAiBxiB,CAAC,CAACwiB,cAAF,CAAiBgB,OAAjB,CAAyB,kCAAzB,EAA4DvjB,CAAC,CAACmC,MAAF,CAAS0iB,oBAAT,CAA8BC,qBAA1F,CAApL,EAAqS/kB,CAAC,CAACwiB,cAAF,GAAiBxiB,CAAC,CAACwiB,cAAF,CAAiBgB,OAAjB,CAAyB,iCAAzB,EAA2DvjB,CAAC,CAACmC,MAAF,CAAS0iB,oBAAT,CAA8BE,oBAAzF,CAAtT,EAAqahlB,CAAC,CAACwiB,cAAF,GAAiBxiB,CAAC,CAACwiB,cAAF,CAAiBgB,OAAjB,CAAyB,0CAAzB,EAAoEvjB,CAAC,CAACmC,MAAF,CAAS0iB,oBAAT,CAA8BG,6BAAlG,CAAtb,EAAujBjlB,CAA9jB;AAAgkB;;AAAA,aAAOQ,MAAM,CAACR,CAAC,CAACgE,CAAH,CAAN,CAAY3E,CAAZ,EAAcD,CAAd,GAAiBC,CAAC,CAAC8B,SAAF,CAAYyhB,eAAZ,GAA4B,UAASxjB,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAG,KAAKwjB,oBAAR,EAA6B,KAAI,IAAI9iB,CAAR,IAAa,KAAK8iB,oBAAlB,EAAuC;AAAC,oBAAQ,CAAC7iB,CAAC,GAACD,CAAC,CAACyH,QAAF,GAAasb,KAAb,CAAmB,GAAnB,CAAH,EAA4B,CAA5B,CAAR,GAAuCzjB,CAAC,CAACwhB,UAAF,CAAa7gB,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAvC,GAAuF,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACoP,UAAF,CAAazO,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAb,GAA6D,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACuT,UAAF,CAAa5S,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAlB,CAAb,GAA6D,UAAQC,CAAC,CAAC,CAAD,CAAT,GAAaX,CAAC,CAACqJ,SAAF,CAAY1I,CAAC,CAAC,CAAD,CAAb,EAAiB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAjB,CAAb,GAA4D,WAASC,CAAC,CAAC,CAAD,CAAV,IAAeX,CAAC,CAAC+J,QAAF,CAAWpJ,CAAC,CAAC,CAAD,CAAZ,EAAgB,KAAK6iB,oBAAL,CAA0B9iB,CAA1B,CAAhB,CAA5R;AAA0U;AAAA,YAAG,KAAKgjB,oBAAR,EAA6B,KAAI,IAAIhjB,CAAR,IAAa,KAAKgjB,oBAAlB,EAAuC;AAAC,cAAI/iB,CAAJ;AAAM,yBAAa,CAACA,CAAC,GAACD,CAAC,CAACyH,QAAF,GAAasb,KAAb,CAAmB,GAAnB,CAAH,EAA4B,CAA5B,CAAb,IAA6C,KAAKC,oBAAL,CAA0BhjB,CAA1B,EAA6B0F,OAA1E,IAAmF,KAAKsd,oBAAL,CAA0BhjB,CAA1B,EAA6B0F,OAA7B,EAAnF,IAA2HpG,CAAC,CAACyJ,UAAF,CAAa9I,CAAC,CAAC,CAAD,CAAd,EAAkB,KAAK+iB,oBAAL,CAA0BhjB,CAA1B,CAAlB,CAA3H;AAA2K;AAAC,OAAjsB,EAAksBV,CAAC,CAAC8B,SAAF,CAAY6hB,aAAZ,GAA0B,UAAS5jB,CAAT,EAAWC,CAAX,EAAa;AAAC,YAAG,aAAWD,CAAX,IAAc,KAAK6jB,YAAtB,EAAmC,KAAI,IAAIljB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKkjB,YAAL,CAAkBrhB,MAAhC,EAAuC7B,CAAC,EAAxC;AAA2C,WAAC,CAAD,IAAI,KAAKmjB,cAAL,CAAoBnjB,CAApB,EAAuB6X,OAAvB,CAA+B,SAA/B,CAAJ,IAA+CvY,CAAC,CAAC2H,IAAF,CAAO,KAAKic,YAAL,CAAkBljB,CAAlB,CAAP,CAA/C;AAA3C;AAAuH,YAAG,aAAWX,CAAX,IAAc,KAAK6jB,YAAtB,EAAmC,KAAIljB,CAAC,GAAC,CAAN,EAAQA,CAAC,GAAC,KAAKkjB,YAAL,CAAkBrhB,MAA5B,EAAmC7B,CAAC,EAApC;AAAuC,WAAC,CAAD,IAAI,KAAKmjB,cAAL,CAAoBnjB,CAApB,EAAuB6X,OAAvB,CAA+B,SAA/B,CAAJ,IAA+CvY,CAAC,CAAC2H,IAAF,CAAO,KAAKic,YAAL,CAAkBljB,CAAlB,CAAP,CAA/C;AAAvC;AAAmH,eAAOV,CAAP;AAAS,OAAniC,EAAoiCA,CAAC,CAAC8B,SAAF,CAAYohB,OAAZ,GAAoB,UAASnjB,CAAT,EAAWW,CAAX,EAAaC,CAAb,EAAeO,CAAf,EAAiBsB,CAAjB,EAAmBP,CAAnB,EAAqB;AAAC,YAAIa,CAAC,GAAC,IAAN;AAAW,YAAGb,CAAC,IAAE,KAAK6hB,iBAAR,IAA2B,KAAKA,iBAAL,CAAuBvhB,MAAvB,GAA8B,CAAzD,IAA4DN,CAAC,CAAC0F,IAAF,CAAOoc,KAAP,CAAa9hB,CAAb,EAAe,KAAK6hB,iBAApB,CAA5D,EAAmG,KAAKH,aAAL,CAAmB,SAAnB,EAA6BjjB,CAA7B,CAAnG,EAAmI,KAAKijB,aAAL,CAAmB,SAAnB,EAA6BziB,CAA7B,CAAnI,EAAmK,KAAK8iB,gBAA3K,EAA4L,OAAO,KAAKC,kBAAZ;AAA+B,aAAKD,gBAAL,GAAsB,CAAC,CAAvB,EAAyBhkB,CAAC,CAACkkB,aAAF,EAAzB;;AAA2C,YAAIrjB,CAAC,GAAC,YAAUb,CAAC,CAACkkB,aAAlB;AAAA,YAAgChc,CAAC,GAAC,KAAK2C,UAAL,CAAgBjJ,IAAhB,CAAqB,IAArB,CAAlC;;AAA6D,eAAO,KAAKiJ,UAAL,GAAgB,UAAS9K,CAAT,EAAWC,CAAX,EAAa;AAAC,cAAGA,CAAH,EAAK;AAAC8C,YAAAA,CAAC,CAACygB,eAAF,CAAkBxjB,CAAlB,EAAoBC,CAApB;;AAAuB,gBAAG;AAACkI,cAAAA,CAAC,CAACnI,CAAD,EAAGC,CAAH,CAAD;AAAO,aAAX,CAAW,OAAMA,CAAN,EAAQ,CAAE;AAAC;AAAC,SAAlF,EAAmFY,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,IAAwC,KAAKwiB,YAAL,CAAkBc,OAAlB,CAA0B,6BAA1B,EAAwD,KAAKnB,WAAL,CAAiBoB,YAAjB,GAA8B,KAAKpB,WAAL,CAAiBoB,YAA/C,GAA4D,EAApH,EAAwHD,OAAxH,CAAgI,mCAAhI,EAAoK,CAAC,KAAKN,cAAL,GAAoB,KAAKA,cAAL,CAAoBQ,IAApB,CAAyB,IAAzB,CAApB,GAAmD,EAApD,KAAyD,KAAKrB,WAAL,CAAiBsB,kBAAjB,GAAoC,KAAKtB,WAAL,CAAiBsB,kBAArD,GAAwE,EAAjI,CAApK,EAA0SH,OAA1S,CAAkT,kCAAlT,EAAqV,KAAKnB,WAAL,CAAiBuB,gBAAjB,GAAkC,KAAKvB,WAAL,CAAiBuB,gBAAnD,GAAoE,EAAzZ,EAA6ZJ,OAA7Z,CAAqa,uCAAra,EAA6c,KAAKnB,WAAL,CAAiBwB,6BAAjB,GAA+C,KAAKxB,WAAL,CAAiBwB,6BAAhE,GAA8F,EAA3iB,EAA+iBL,OAA/iB,CAAujB,qCAAvjB,EAA6lB,KAAKnB,WAAL,CAAiByB,2BAAjB,GAA6C,KAAKzB,WAAL,CAAiByB,2BAA9D,GAA0F,EAAvrB,EAA2rBN,OAA3rB,CAAmsB,gCAAnsB,EAAouB,KAAKnB,WAAL,CAAiB0B,cAAjB,GAAgC,KAAK1B,WAAL,CAAiB0B,cAAjD,GAAgE,EAApyB,CAA3H,EAAm6B,KAAK1B,WAAL,CAAiB2B,6BAAjB,KAAiD/jB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,IAAwCD,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,cAAxB,EAAwCsjB,OAAxC,CAAgD,uCAAhD,EAAwF,KAAKnB,WAAL,CAAiB2B,6BAAzG,CAAzF,CAAn6B,EAAqoC/jB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,IAAuC,KAAKsiB,cAAL,CAAoBgB,OAApB,CAA4B,+BAA5B,EAA4D,KAAKnB,WAAL,CAAiB4B,cAAjB,GAAgC,KAAK5B,WAAL,CAAiB4B,cAAjD,GAAgE,EAA5H,EAAgIT,OAAhI,CAAwI,oCAAxI,EAA6K,KAAKnB,WAAL,CAAiB6B,kBAAjB,GAAoC,KAAK7B,WAAL,CAAiB6B,kBAArD,GAAwE,EAArP,EAAyPV,OAAzP,CAAiQ,qCAAjQ,EAAuS,CAAC,KAAKN,cAAL,GAAoB,KAAKA,cAAL,CAAoBQ,IAApB,CAAyB,IAAzB,CAApB,GAAmD,EAApD,KAAyD,KAAKrB,WAAL,CAAiB8B,oBAAjB,GAAsC,KAAK9B,WAAL,CAAiB8B,oBAAvD,GAA4E,EAArI,CAAvS,EAAibX,OAAjb,CAAyb,uCAAzb,EAAie,KAAKnB,WAAL,CAAiB6C,sBAAjB,GAAwC,KAAK7C,WAAL,CAAiB6C,sBAAzD,GAAgF,EAAjjB,EAAqjB1B,OAArjB,CAA6jB,sCAA7jB,EAAomB,KAAKnB,WAAL,CAAiBgC,qBAAjB,GAAuC,KAAKhC,WAAL,CAAiBgC,qBAAxD,GAA8E,EAAlrB,EAAsrBb,OAAtrB,CAA8rB,uCAA9rB,EAAsuB,KAAKnB,WAAL,CAAiBiC,sBAAjB,GAAwC,KAAKjC,WAAL,CAAiBiC,sBAAzD,GAAgF,EAAtzB,EAA0zBd,OAA1zB,CAAk0B,kDAAl0B,EAAq3B,KAAKnB,WAAL,CAAiB8C,iCAAjB,GAAmD,KAAK9C,WAAL,CAAiB8C,iCAApE,GAAsG,EAA39B,EAA+9B3B,OAA/9B,CAAu+B,6CAAv+B,EAAqhC,KAAKnB,WAAL,CAAiB+C,4BAAjB,GAA8C,KAAK/C,WAAL,CAAiB+C,4BAA/D,GAA4F,EAAjnC,EAAqnC5B,OAArnC,CAA6nC,0CAA7nC,EAAwqC,KAAKnB,WAAL,CAAiBkC,yBAAjB,GAA2C,KAAKlC,WAAL,CAAiBkC,yBAA5D,GAAsF,EAA9vC,CAA5qC,EAA86E,KAAKlC,WAAL,CAAiBmC,mBAAjB,KAAuCvkB,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,IAAuCD,CAAC,CAACmC,MAAF,CAASC,YAAT,CAAsBnC,CAAC,GAAC,aAAxB,EAAuCsjB,OAAvC,CAA+C,oCAA/C,EAAoF,KAAKnB,WAAL,CAAiBmC,mBAArG,CAA9E,CAA96E,EAAunF,KAAKnB,gBAAL,GAAsB,CAAC,CAA9oF,EAAgpF,KAAKC,kBAAL,GAAwBpjB,CAAxqF,EAA0qFA,CAAjrF;AAAmrF,OAA/kI,EAAglIb,CAAC,CAAC8B,SAAF,CAAYsjB,UAAZ,GAAuB,UAASrlB,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC,eAAO,KAAKmjB,cAAL,KAAsB,KAAKA,cAAL,GAAoB,IAAIzhB,KAAJ,EAApB,EAA8B,KAAKwhB,YAAL,GAAkB,IAAIxhB,KAAJ,EAAhD,EAA0D,KAAKshB,oBAAL,GAA0B,EAApF,EAAuF,KAAKF,oBAAL,GAA0B,EAAvI,GAA2I9iB,CAAC,KAAG,CAAC,CAAD,IAAIV,CAAC,CAACuY,OAAF,CAAU,SAAV,CAAJ,GAAyB,KAAKmL,oBAAL,CAA0B1jB,CAAC,GAAC,GAAF,GAAMD,CAAhC,IAAmCW,CAA5D,GAA8D,KAAK8iB,oBAAL,CAA0BxjB,CAAC,GAAC,GAAF,GAAMD,CAAhC,IAAmCW,CAApG,CAA5I,EAAmP,KAAKmjB,cAAL,CAAoBlc,IAApB,CAAyB,aAAW3H,CAAX,GAAa,GAAb,GAAiBD,CAAjB,GAAmB,GAA5C,CAAnP,EAAoS,KAAK6jB,YAAL,CAAkBjc,IAAlB,CAAuB5H,CAAvB,CAApS,EAA8T,IAArU;AAA0U,OAAj8I,EAAk8IC,CAAC,CAAC8B,SAAF,CAAYujB,YAAZ,GAAyB,UAAStlB,CAAT,EAAW;AAAC,eAAO,KAAK+jB,iBAAL,KAAyB,KAAKA,iBAAL,GAAuB,EAAhD,GAAoD,KAAKA,iBAAL,CAAuBnc,IAAvB,CAA4B5H,CAA5B,CAApD,EAAmF,IAA1F;AAA+F,OAAtkJ,EAAukJC,CAAC,CAAC8B,SAAF,CAAY8iB,cAAZ,GAA2B,UAAS7kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB4B,cAAjB,GAAgC7kB,CAAhC,EAAkC,IAAzC;AAA8C,OAA5pJ,EAA6pJC,CAAC,CAAC8B,SAAF,CAAYgjB,oBAAZ,GAAiC,UAAS/kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB8B,oBAAjB,GAAsC/kB,CAAtC,EAAwC,IAA/C;AAAoD,OAA9vJ,EAA+vJC,CAAC,CAAC8B,SAAF,CAAY+iB,kBAAZ,GAA+B,UAAS9kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB6B,kBAAjB,GAAoC9kB,CAApC,EAAsC,IAA7C;AAAkD,OAA51J,EAA61JC,CAAC,CAAC8B,SAAF,CAAY+jB,sBAAZ,GAAmC,UAAS9lB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB6C,sBAAjB,GAAwC9lB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,eAAnB,CAAxC,EAA4E,IAAnF;AAAwF,OAAp+J,EAAq+JnkB,CAAC,CAAC8B,SAAF,CAAYkjB,qBAAZ,GAAkC,UAASjlB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBgC,qBAAjB,GAAuCjlB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,OAAnB,CAAvC,EAAmE,IAA1E;AAA+E,OAAlmK,EAAmmKnkB,CAAC,CAAC8B,SAAF,CAAYmjB,sBAAZ,GAAmC,UAASllB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBiC,sBAAjB,GAAwCllB,CAAxC,EAA0C,IAAjD;AAAsD,OAAxsK,EAAysKC,CAAC,CAAC8B,SAAF,CAAYgkB,iCAAZ,GAA8C,UAAS/lB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB8C,iCAAjB,GAAmD/lB,CAAnD,EAAqD,IAA5D;AAAiE,OAAp0K,EAAq0KC,CAAC,CAAC8B,SAAF,CAAYikB,4BAAZ,GAAyC,UAAShmB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB+C,4BAAjB,GAA8ChmB,CAA9C,EAAgD,IAAvD;AAA4D,OAAt7K,EAAu7KC,CAAC,CAAC8B,SAAF,CAAYqjB,mBAAZ,GAAgC,UAASplB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBmC,mBAAjB,GAAqCplB,CAArC,EAAuC,IAA9C;AAAmD,OAAthL,EAAuhLC,CAAC,CAAC8B,SAAF,CAAYojB,yBAAZ,GAAsC,UAASnlB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBkC,yBAAjB,GAA2CnlB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,OAAnB,CAA3C,EAAuE,IAA9E;AAAmF,OAA5pL,EAA6pLnkB,CAAC,CAAC8B,SAAF,CAAYsiB,YAAZ,GAAyB,UAASrkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBoB,YAAjB,GAA8BrkB,CAA9B,EAAgC,IAAvC;AAA4C,OAA9uL,EAA+uLC,CAAC,CAAC8B,SAAF,CAAYwiB,kBAAZ,GAA+B,UAASvkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBsB,kBAAjB,GAAoCvkB,CAApC,EAAsC,IAA7C;AAAkD,OAA50L,EAA60LC,CAAC,CAAC8B,SAAF,CAAYyiB,gBAAZ,GAA6B,UAASxkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBuB,gBAAjB,GAAkCxkB,CAAlC,EAAoC,IAA3C;AAAgD,OAAt6L,EAAu6LC,CAAC,CAAC8B,SAAF,CAAY0iB,6BAAZ,GAA0C,UAASzkB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiBwB,6BAAjB,GAA+CzkB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,iBAAnB,CAA/C,EAAqF,IAA5F;AAAiG,OAA9jM,EAA+jMnkB,CAAC,CAAC8B,SAAF,CAAY2iB,2BAAZ,GAAwC,UAAS1kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiByB,2BAAjB,GAA6C1kB,CAAC,CAACokB,OAAF,CAAU,QAAV,EAAmB,eAAnB,CAA7C,EAAiF,IAAxF;AAA6F,OAAhtM,EAAitMnkB,CAAC,CAAC8B,SAAF,CAAY6iB,6BAAZ,GAA0C,UAAS5kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB2B,6BAAjB,GAA+C5kB,CAA/C,EAAiD,IAAxD;AAA6D,OAAp0M,EAAq0MC,CAAC,CAAC8B,SAAF,CAAY4iB,cAAZ,GAA2B,UAAS3kB,CAAT,EAAW;AAAC,eAAO,KAAKijB,WAAL,CAAiB0B,cAAjB,GAAgC3kB,CAAhC,EAAkC,IAAzC;AAA8C,OAA15M,EAA25MC,CAAC,CAACkkB,aAAF,GAAgB,CAA36M,EAA66MlkB,CAAp7M;AAAs7M,KAA/iO,CAAgjOY,CAAC,CAAColB,WAAljO,CAArB;;AAAolOplB,IAAAA,CAAC,CAACoL,UAAF,CAAaC,eAAb,CAA6B,2BAA7B,IAA0DpL,CAA1D;AAA4D,GAf1nyL,EAe2nyL,UAASd,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ;AAAO,QAAIW,CAAC,GAACD,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAOW,CAAC,CAACslB,YAAT;AAAsB,KAAvD;AAA0D,QAAIrlB,CAAC,GAACF,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,uBAAN,EAA+B,YAAU;AAAC,aAAOY,CAAC,CAACslB,qBAAT;AAA+B,KAAzE,GAA4ExlB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,aAAOY,CAAC,CAACulB,kBAAT;AAA4B,KAAnE,CAA5E,EAAkJzlB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAOY,CAAC,CAACwlB,cAAT;AAAwB,KAA3D,CAAlJ,EAAgN1lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAOY,CAAC,CAACylB,iBAAT;AAA2B,KAAjE,CAAhN,EAAoR3lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAOY,CAAC,CAAC0lB,iBAAT;AAA2B,KAAjE,CAApR;AAAwV,QAAIplB,CAAC,GAACR,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAOkB,CAAC,CAACqlB,YAAT;AAAsB,KAAvD;AAA0D,QAAI/jB,CAAC,GAAC9B,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAOwC,CAAC,CAACgkB,WAAT;AAAqB,KAArD;AAAwD,QAAIvkB,CAAC,GAACvB,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,kBAAN,EAA0B,YAAU;AAAC,aAAOiC,CAAC,CAACwkB,gBAAT;AAA0B,KAA/D;AAAkE,QAAI3jB,CAAC,GAACpC,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAO8C,CAAC,CAAC4jB,YAAT;AAAsB,KAAvD;AAA0D,QAAI7lB,CAAC,GAACH,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,aAAOa,CAAC,CAAC8lB,YAAT;AAAsB,KAAvD;AAA0D,QAAIze,CAAC,GAACxH,CAAC,CAAC,CAAD,CAAP;AAAWA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAOkI,CAAC,CAAC0e,WAAT;AAAqB,KAArD;AAAwD,QAAI5lB,CAAC,GAACN,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAOgB,CAAC,CAAC6lB,cAAT;AAAwB,KAA3D;AAA8D,QAAI5lB,CAAC,GAACP,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,aAAOiB,CAAC,CAAC6lB,kBAAT;AAA4B,KAAnE;AAAsE,QAAI9kB,CAAC,GAACtB,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,aAAOgC,CAAC,CAAC+kB,cAAT;AAAwB,KAA3D;AAA8D,QAAIrO,CAAC,GAAChY,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,aAAO0Y,CAAC,CAACsO,WAAT;AAAqB,KAArD;AAAwD,QAAIpO,CAAC,GAAClY,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,iBAAN,EAAyB,YAAU;AAAC,aAAO4Y,CAAC,CAACqO,eAAT;AAAyB,KAA7D;AAAgE,QAAIlmB,CAAC,GAACL,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,aAAOe,CAAC,CAACmmB,iBAAT;AAA2B,KAAjE;AAAoE,QAAIrO,CAAC,GAACnY,CAAC,CAAC,EAAD,CAAP;AAAYA,IAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,eAAN,EAAuB,YAAU;AAAC,aAAO6Y,CAAC,CAACsO,aAAT;AAAuB,KAAzD;AAA4D,GAfx/0L,EAey/0L,UAASpnB,CAAT,EAAWC,CAAX,EAAaU,CAAb,EAAe;AAAC;;AAAaA,IAAAA,CAAC,CAACE,CAAF,CAAIZ,CAAJ,GAAO,UAASD,CAAT,EAAW;AAAC,UAAIY,CAAC,GAACD,CAAC,CAAC,EAAD,CAAP;AAAYA,MAAAA,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,eAAOW,CAAC,CAACslB,YAAT;AAAsB,OAAvD,GAA0DvlB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,uBAAN,EAA+B,YAAU;AAAC,eAAOW,CAAC,CAACulB,qBAAT;AAA+B,OAAzE,CAA1D,EAAsIxlB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,eAAOW,CAAC,CAACwlB,kBAAT;AAA4B,OAAnE,CAAtI,EAA4MzlB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,eAAOW,CAAC,CAACylB,cAAT;AAAwB,OAA3D,CAA5M,EAA0Q1lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,eAAOW,CAAC,CAAC0lB,iBAAT;AAA2B,OAAjE,CAA1Q,EAA8U3lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,eAAOW,CAAC,CAAC2lB,iBAAT;AAA2B,OAAjE,CAA9U,EAAkZ5lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,eAAOW,CAAC,CAAC4lB,YAAT;AAAsB,OAAvD,CAAlZ,EAA4c7lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,eAAOW,CAAC,CAAC6lB,WAAT;AAAqB,OAArD,CAA5c,EAAogB9lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,kBAAN,EAA0B,YAAU;AAAC,eAAOW,CAAC,CAAC8lB,gBAAT;AAA0B,OAA/D,CAApgB,EAAskB/lB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,eAAOW,CAAC,CAAC+lB,YAAT;AAAsB,OAAvD,CAAtkB,EAAgoBhmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,cAAN,EAAsB,YAAU;AAAC,eAAOW,CAAC,CAACgmB,YAAT;AAAsB,OAAvD,CAAhoB,EAA0rBjmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,eAAOW,CAAC,CAACimB,WAAT;AAAqB,OAArD,CAA1rB,EAAkvBlmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,eAAOW,CAAC,CAACkmB,cAAT;AAAwB,OAA3D,CAAlvB,EAAgzBnmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,oBAAN,EAA4B,YAAU;AAAC,eAAOW,CAAC,CAACmmB,kBAAT;AAA4B,OAAnE,CAAhzB,EAAs3BpmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,gBAAN,EAAwB,YAAU;AAAC,eAAOW,CAAC,CAAComB,cAAT;AAAwB,OAA3D,CAAt3B,EAAo7BrmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,aAAN,EAAqB,YAAU;AAAC,eAAOW,CAAC,CAACqmB,WAAT;AAAqB,OAArD,CAAp7B,EAA4+BtmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,iBAAN,EAAyB,YAAU;AAAC,eAAOW,CAAC,CAACsmB,eAAT;AAAyB,OAA7D,CAA5+B,EAA4iCvmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,mBAAN,EAA2B,YAAU;AAAC,eAAOW,CAAC,CAACumB,iBAAT;AAA2B,OAAjE,CAA5iC,EAAgnCxmB,CAAC,CAACO,CAAF,CAAIjB,CAAJ,EAAM,eAAN,EAAuB,YAAU;AAAC,eAAOW,CAAC,CAACwmB,aAAT;AAAuB,OAAzD,CAAhnC;AAA4qC,UAAIvmB,CAAC,GAAC,KAAK,CAAL,KAASb,CAAT,GAAWA,CAAX,GAAa,eAAa,OAAO8C,MAApB,GAA2BA,MAA3B,GAAkC,KAAK,CAA1D;AAA4D,UAAG,KAAK,CAAL,KAASjC,CAAZ,EAAc,KAAI,IAAIM,CAAR,IAAaN,CAAC,CAACL,OAAF,GAAUK,CAAC,CAACL,OAAF,IAAW,EAArB,EAAwBI,CAArC;AAAuCC,QAAAA,CAAC,CAACL,OAAF,CAAUW,CAAV,IAAaP,CAAC,CAACO,CAAD,CAAd;AAAvC;AAAyD,KAAv0C,CAAw0CJ,IAAx0C,CAA60C,IAA70C,EAAk1CJ,CAAC,CAAC,CAAD,CAAn1C,CAAP;AAA+1C,GAfr33L,CAAt5B,CAAP;AAeqx5L,CAf5o6L,CAAD","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"babylonjs\")):\"function\"==typeof define&&define.amd?define(\"babylonjs-materials\",[\"babylonjs\"],t):\"object\"==typeof exports?exports[\"babylonjs-materials\"]=t(require(\"babylonjs\")):e.MATERIALS=t(e.BABYLON)}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof global?global:this,(function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=19)}([function(t,i){t.exports=e},function(e,t,i){\"use strict\";i.d(t,\"b\",(function(){return r})),i.d(t,\"a\",(function(){return o}));\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function o(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a}Object.create;Object.create},function(e,t){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(i=window)}e.exports=i},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"CellMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\nvec3 computeCustomDiffuseLighting(lightingInfo info,vec3 diffuseBase,float shadow)\\n{\\ndiffuseBase=info.diffuse*shadow;\\n#ifdef CELLBASIC\\nfloat level=1.0;\\nif (info.ndl<0.5)\\nlevel=0.5;\\ndiffuseBase.rgb*vec3(level,level,level);\\n#else\\nfloat ToonThresholds[4];\\nToonThresholds[0]=0.95;\\nToonThresholds[1]=0.5;\\nToonThresholds[2]=0.2;\\nToonThresholds[3]=0.03;\\nfloat ToonBrightnessLevels[5];\\nToonBrightnessLevels[0]=1.0;\\nToonBrightnessLevels[1]=0.8;\\nToonBrightnessLevels[2]=0.6;\\nToonBrightnessLevels[3]=0.35;\\nToonBrightnessLevels[4]=0.2;\\nif (info.ndl>ToonThresholds[0])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[0];\\n}\\nelse if (info.ndl>ToonThresholds[1])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[1];\\n}\\nelse if (info.ndl>ToonThresholds[2])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[2];\\n}\\nelse if (info.ndl>ToonThresholds[3])\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[3];\\n}\\nelse\\n{\\ndiffuseBase.rgb*=ToonBrightnessLevels[4];\\n}\\n#endif\\nreturn max(diffuseBase,vec3(0.2));\\n}\\nvoid main(void)\\n{\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nlightingInfo info;\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.cellPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.cellVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.NDOTL=!0,t.CUSTOMUSERLIGHTING=!0,t.CELLBASIC=!0,t.DEPTHPREPASS=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._computeHighLevel=!1,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(n.CELLBASIC=!this.computeHighLevel,r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"cell\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights-1}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this._maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this._diffuseTexture===t},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.getClassName=function(){return\"CellMaterial\"},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.CellMaterial\",e},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"computeHighLevel\")],t.prototype,\"_computeHighLevel\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"computeHighLevel\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.CellMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"FireMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\nuniform sampler2D distortionSampler;\\nuniform sampler2D opacitySampler;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvec4 bx2(vec4 x)\\n{\\nreturn vec4(2.0)*x-vec4(1.0);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\n\\nfloat alpha=1.0;\\n#ifdef DIFFUSE\\n\\nconst float distortionAmount0=0.092;\\nconst float distortionAmount1=0.092;\\nconst float distortionAmount2=0.092;\\nvec2 heightAttenuation=vec2(0.3,0.39);\\nvec4 noise0=texture2D(distortionSampler,vDistortionCoords1);\\nvec4 noise1=texture2D(distortionSampler,vDistortionCoords2);\\nvec4 noise2=texture2D(distortionSampler,vDistortionCoords3);\\nvec4 noiseSum=bx2(noise0)*distortionAmount0+bx2(noise1)*distortionAmount1+bx2(noise2)*distortionAmount2;\\nvec4 perturbedBaseCoords=vec4(vDiffuseUV,0.0,1.0)+noiseSum*(vDiffuseUV.y*heightAttenuation.x+heightAttenuation.y);\\nvec4 opacityColor=texture2D(opacitySampler,perturbedBaseCoords.xy);\\n#ifdef ALPHATEST\\nif (opacityColor.r<0.1)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor=texture2D(diffuseSampler,perturbedBaseCoords.xy)*2.0;\\nbaseColor*=opacityColor;\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(1.0,1.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=vec4(baseColor.rgb,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.firePixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n\\nuniform float time;\\nuniform float speed;\\n#ifdef DIFFUSE\\nvarying vec2 vDistortionCoords1;\\nvarying vec2 vDistortionCoords2;\\nvarying vec2 vDistortionCoords3;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n\\n#ifdef DIFFUSE\\nvDiffuseUV=uv;\\nvDiffuseUV.y-=0.2;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n#ifdef DIFFUSE\\n\\nvec3 layerSpeed=vec3(-0.2,-0.52,-0.1)*speed;\\nvDistortionCoords1.x=uv.x;\\nvDistortionCoords1.y=uv.y+layerSpeed.x*time/1000.0;\\nvDistortionCoords2.x=uv.x;\\nvDistortionCoords2.y=uv.y+layerSpeed.y*time/1000.0;\\nvDistortionCoords3.x=uv.x;\\nvDistortionCoords3.y=uv.y+layerSpeed.z*time/1000.0;\\n#endif\\n}\\n\";r.Effect.ShadersStore.fireVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.UV1=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.BonesPerMesh=0,t.NUM_BONE_INFLUENCERS=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.speed=1,n._scaledDiffuse=new r.Color3,n._lastTime=0,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return!1},t.prototype.needAlphaTesting=function(){return!0},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(n.ALPHATEST=!!this._opacityTexture,n._areMiscDirty&&(n.POINTSIZE=this.pointsCloud||o.forcePointsCloud,n.FOG=o.fogEnabled&&e.applyFog&&o.fogMode!==r.Scene.FOGMODE_NONE&&this.fogEnabled),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.UV1&&l.push(r.VertexBuffer.UVKind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString();t.setEffect(o.getEngine().createEffect(\"fire\",{attributes:l,uniformsNames:[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"time\",\"speed\"],uniformBuffersNames:[],samplers:[\"diffuseSampler\",\"distortionSampler\",\"opacitySampler\"],defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:null,maxSimultaneousLights:4,transformFeedbackVaryings:null},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene();if(i._materialDefines){var o=i.effect;o&&(this._activeEffect=o,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,o)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix()),this._activeEffect.setTexture(\"distortionSampler\",this._distortionTexture),this._activeEffect.setTexture(\"opacitySampler\",this._opacityTexture)),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(o,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this._scaledDiffuse,this.alpha*t.visibility),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._lastTime+=n.getEngine().getDeltaTime(),this._activeEffect.setFloat(\"time\",this._lastTime),this._activeEffect.setFloat(\"speed\",this.speed),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),this._distortionTexture&&this._distortionTexture.animations&&this._distortionTexture.animations.length>0&&e.push(this._distortionTexture),this._opacityTexture&&this._opacityTexture.animations&&this._opacityTexture.animations.length>0&&e.push(this._opacityTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),this._distortionTexture&&t.push(this._distortionTexture),this._opacityTexture&&t.push(this._opacityTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._diffuseTexture===t||(this._distortionTexture===t||this._opacityTexture===t))},t.prototype.getClassName=function(){return\"FireMaterial\"},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),this._distortionTexture&&this._distortionTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this);return t.customType=\"BABYLON.FireMaterial\",t.diffuseColor=this.diffuseColor.asArray(),t.speed=this.speed,this._diffuseTexture&&(t._diffuseTexture=this._diffuseTexture.serialize()),this._distortionTexture&&(t._distortionTexture=this._distortionTexture.serialize()),this._opacityTexture&&(t._opacityTexture=this._opacityTexture.serialize()),t},t.Parse=function(e,i,n){var o=new t(e.name,i);return o.diffuseColor=r.Color3.FromArray(e.diffuseColor),o.speed=e.speed,o.alpha=e.alpha,o.id=e.id,r.Tags.AddTagsTo(o,e.tags),o.backFaceCulling=e.backFaceCulling,o.wireframe=e.wireframe,e._diffuseTexture&&(o._diffuseTexture=r.Texture.Parse(e._diffuseTexture,i,n)),e._distortionTexture&&(o._distortionTexture=r.Texture.Parse(e._distortionTexture,i,n)),e._opacityTexture&&(o._opacityTexture=r.Texture.Parse(e._opacityTexture,i,n)),o},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"distortionTexture\")],t.prototype,\"_distortionTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"distortionTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")],t.prototype,\"_opacityTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"opacityTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"speed\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.FireMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"FurMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nuniform vec4 furColor;\\nuniform float furLength;\\nvarying vec3 vPositionW;\\nvarying float vfur_length;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform float furOcclusion;\\nuniform sampler2D furTexture;\\nvarying vec2 vFurUV;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<fogFragmentDeclaration>\\n#include<clipPlaneFragmentDeclaration>\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=furColor;\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor*=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef HIGHLEVEL\\n\\nvec4 furTextureColor=texture2D(furTexture,vec2(vFurUV.x,vFurUV.y));\\nif (furTextureColor.a<=0.0 || furTextureColor.g<furOffset) {\\ndiscard;\\n}\\nfloat occlusion=mix(0.0,furTextureColor.b*1.2,furOffset);\\nbaseColor=vec4(baseColor.xyz*max(occlusion,furOcclusion),1.1-furOffset);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase.rgb*baseColor.rgb,0.0,1.0);\\n\\n#ifdef HIGHLEVEL\\nvec4 color=vec4(finalDiffuse,alpha);\\n#else\\nfloat r=vfur_length/furLength*0.5;\\nvec4 color=vec4(finalDiffuse*(0.5+r),alpha);\\n#endif\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.furPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\nuniform float furLength;\\nuniform float furAngle;\\n#ifdef HIGHLEVEL\\nuniform float furOffset;\\nuniform vec3 furGravity;\\nuniform float furTime;\\nuniform float furSpacing;\\nuniform float furDensity;\\n#endif\\n#ifdef HEIGHTMAP\\nuniform sampler2D heightTexture;\\n#endif\\n#ifdef HIGHLEVEL\\nvarying vec2 vFurUV;\\n#endif\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\nvarying float vfur_length;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nfloat Rand(vec3 rv) {\\nfloat x=dot(rv,vec3(12.9898,78.233,24.65487));\\nreturn fract(sin(x)*43758.5453);\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n\\nfloat r=Rand(position);\\n#ifdef HEIGHTMAP\\n#if __VERSION__>100\\nvfur_length=furLength*texture(heightTexture,uv).x;\\n#else\\nvfur_length=furLength*texture2D(heightTexture,uv).r;\\n#endif\\n#else\\nvfur_length=(furLength*r);\\n#endif\\nvec3 tangent1=vec3(normal.y,-normal.x,0);\\nvec3 tangent2=vec3(-normal.z,0,normal.x);\\nr=Rand(tangent1*r);\\nfloat J=(2.0+4.0*r);\\nr=Rand(tangent2*r);\\nfloat K=(2.0+2.0*r);\\ntangent1=tangent1*J+tangent2*K;\\ntangent1=normalize(tangent1);\\nvec3 newPosition=position+normal*vfur_length*cos(furAngle)+tangent1*vfur_length*sin(furAngle);\\n#ifdef HIGHLEVEL\\n\\nvec3 forceDirection=vec3(0.0,0.0,0.0);\\nforceDirection.x=sin(furTime+position.x*0.05)*0.2;\\nforceDirection.y=cos(furTime*0.7+position.y*0.04)*0.2;\\nforceDirection.z=sin(furTime*0.7+position.z*0.04)*0.2;\\nvec3 displacement=vec3(0.0,0.0,0.0);\\ndisplacement=furGravity+forceDirection;\\nfloat displacementFactor=pow(furOffset,3.0);\\nvec3 aNormal=normal;\\naNormal.xyz+=displacement*displacementFactor;\\nnewPosition=vec3(newPosition.x,newPosition.y,newPosition.z)+(normalize(aNormal)*furOffset*furSpacing);\\n#endif\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\ngl_Position=viewProjection*finalWorld*vec4(newPosition,1.0);\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#ifdef HIGHLEVEL\\nvFurUV=vDiffuseUV*furDensity;\\n#endif\\n#else\\n#ifdef HIGHLEVEL\\nvFurUV=uv*furDensity;\\n#endif\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.furVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.HEIGHTMAP=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.HIGHLEVEL=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.furLength=1,n.furAngle=0,n.furColor=new r.Color3(.44,.21,.02),n.furOffset=0,n.furSpacing=12,n.furGravity=new r.Vector3(0,0,0),n.furSpeed=100,n.furDensity=20,n.furOcclusion=0,n._disableLighting=!1,n._maxSimultaneousLights=4,n.highLevelFur=!0,n._furTime=0,n}return Object(n.b)(t,e),Object.defineProperty(t.prototype,\"furTime\",{get:function(){return this._furTime},set:function(e){this._furTime=e},enumerable:!1,configurable:!0}),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.updateFur=function(){for(var e=1;e<this._meshes.length;e++){var t=this._meshes[e].material;t.furLength=this.furLength,t.furAngle=this.furAngle,t.furGravity=this.furGravity,t.furSpacing=this.furSpacing,t.furSpeed=this.furSpeed,t.furColor=this.furColor,t.diffuseTexture=this.diffuseTexture,t.furTexture=this.furTexture,t.highLevelFur=this.highLevelFur,t.furTime=this.furTime,t.furDensity=this.furDensity}},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&o.texturesEnabled){if(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled){if(!this.diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(this.heightTexture&&a.getCaps().maxVertexTextureImageUnits){if(!this.heightTexture.isReady())return!1;n._needUVs=!0,n.HEIGHTMAP=!0}}if(this.highLevelFur!==n.HIGHLEVEL&&(n.HIGHLEVEL=!0,n.markAsUnprocessed()),r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"furLength\",\"furAngle\",\"furColor\",\"furOffset\",\"furGravity\",\"furTime\",\"furSpacing\",\"furDensity\",\"furOcclusion\"],d=[\"diffuseSampler\",\"heightTexture\",\"furTexture\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"fur\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),n.getCachedMaterial()!==this&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),this._heightTexture&&this._activeEffect.setTexture(\"heightTexture\",this._heightTexture),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._activeEffect.setFloat(\"furLength\",this.furLength),this._activeEffect.setFloat(\"furAngle\",this.furAngle),this._activeEffect.setColor4(\"furColor\",this.furColor,1),this.highLevelFur&&(this._activeEffect.setVector3(\"furGravity\",this.furGravity),this._activeEffect.setFloat(\"furOffset\",this.furOffset),this._activeEffect.setFloat(\"furSpacing\",this.furSpacing),this._activeEffect.setFloat(\"furDensity\",this.furDensity),this._activeEffect.setFloat(\"furOcclusion\",this.furOcclusion),this._furTime+=this.getScene().getEngine().getDeltaTime()/this.furSpeed,this._activeEffect.setFloat(\"furTime\",this._furTime),this._activeEffect.setTexture(\"furTexture\",this.furTexture)),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),this.heightTexture&&this.heightTexture.animations&&this.heightTexture.animations.length>0&&e.push(this.heightTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),this._heightTexture&&t.push(this._heightTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this.diffuseTexture===t||this._heightTexture===t)},t.prototype.dispose=function(t){if(this.diffuseTexture&&this.diffuseTexture.dispose(),this._meshes)for(var i=1;i<this._meshes.length;i++){var n=this._meshes[i].material;n&&n.dispose(t),this._meshes[i].dispose()}e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.FurMaterial\",this._meshes&&(e.sourceMeshName=this._meshes[0].name,e.quality=this._meshes.length),e},t.prototype.getClassName=function(){return\"FurMaterial\"},t.Parse=function(e,i,n){var o=r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n);return e.sourceMeshName&&o.highLevelFur&&i.executeWhenReady((function(){var n=i.getMeshByName(e.sourceMeshName);if(n){var r=t.GenerateTexture(\"Fur Texture\",i);o.furTexture=r,t.FurifyMesh(n,e.quality)}})),o},t.GenerateTexture=function(e,t){for(var i=new r.DynamicTexture(\"FurTexture \"+e,256,t,!0),n=i.getContext(),o=0;o<2e4;++o)n.fillStyle=\"rgba(255, \"+Math.floor(255*Math.random())+\", \"+Math.floor(255*Math.random())+\", 1)\",n.fillRect(Math.random()*i.getSize().width,Math.random()*i.getSize().height,2,2);return i.update(!1),i.wrapU=r.Texture.WRAP_ADDRESSMODE,i.wrapV=r.Texture.WRAP_ADDRESSMODE,i},t.FurifyMesh=function(e,i){var n,o=[e],a=e.material;if(!(a instanceof t))throw\"The material of the source mesh must be a Fur Material\";for(n=1;n<i;n++){var s=new t(a.name+n,e.getScene());e.getScene().materials.pop(),r.Tags.EnableFor(s),r.Tags.AddTagsTo(s,\"furShellMaterial\"),s.furLength=a.furLength,s.furAngle=a.furAngle,s.furGravity=a.furGravity,s.furSpacing=a.furSpacing,s.furSpeed=a.furSpeed,s.furColor=a.furColor,s.diffuseTexture=a.diffuseTexture,s.furOffset=n/i,s.furTexture=a.furTexture,s.highLevelFur=a.highLevelFur,s.furTime=a.furTime,s.furDensity=a.furDensity;var f=e.clone(e.name+n);f.material=s,f.skeleton=e.skeleton,f.position=r.Vector3.Zero(),o.push(f)}for(n=1;n<o.length;n++)o[n].parent=e;return e.material._meshes=o,o},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"heightTexture\")],t.prototype,\"_heightTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"heightTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furLength\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furAngle\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"furColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furOffset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furSpacing\",void 0),Object(n.a)([Object(r.serializeAsVector3)()],t.prototype,\"furGravity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furDensity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furOcclusion\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"highLevelFur\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"furTime\",null),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.FurMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"GradientMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\n\\nuniform vec4 topColor;\\nuniform vec4 bottomColor;\\nuniform float offset;\\nuniform float scale;\\nuniform float smoothness;\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\nfloat h=vPosition.y*scale+offset;\\nfloat mysmoothness=clamp(smoothness,0.01,max(smoothness,10.));\\nvec4 baseColor=mix(bottomColor,topColor,max(pow(max(h,0.0),mysmoothness),0.0));\\n\\nvec3 diffuseColor=baseColor.rgb;\\n\\nfloat alpha=baseColor.a;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef EMISSIVE\\nvec3 diffuseBase=baseColor.rgb;\\n#else\\nvec3 diffuseBase=vec3(0.,0.,0.);\\n#endif\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";r.Effect.ShadersStore.gradientPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\nvarying vec3 vPosition;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\nvPosition=position;\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.gradientVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.EMISSIVE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._maxSimultaneousLights=4,n.topColor=new r.Color3(1,0,0),n.topColorAlpha=1,n.bottomColor=new r.Color3(0,0,1),n.bottomColorAlpha=1,n.offset=0,n.scale=1,n.smoothness=1,n._disableLighting=!1,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1||this.topColorAlpha<1||this.bottomColorAlpha<1},t.prototype.needAlphaTesting=function(){return!0},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),n.EMISSIVE=this._disableLighting,r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"topColor\",\"bottomColor\",\"offset\",\"smoothness\",\"scale\"],d=[],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(\"gradient\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,a),this._mustRebind(n,a)&&(r.MaterialHelper.BindClipPlane(a,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._activeEffect.setColor4(\"topColor\",this.topColor,this.topColorAlpha),this._activeEffect.setColor4(\"bottomColor\",this.bottomColor,this.bottomColorAlpha),this._activeEffect.setFloat(\"offset\",this.offset),this._activeEffect.setFloat(\"scale\",this.scale),this._activeEffect.setFloat(\"smoothness\",this.smoothness),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.GradientMaterial\",e},t.prototype.getClassName=function(){return\"GradientMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"topColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"topColorAlpha\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"bottomColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"bottomColorAlpha\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"offset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"scale\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"smoothness\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.GradientMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"GridMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"#extension GL_OES_standard_derivatives : enable\\n#define SQRT2 1.41421356\\n#define PI 3.14159\\nprecision highp float;\\nuniform vec3 mainColor;\\nuniform vec3 lineColor;\\nuniform vec4 gridControl;\\nuniform vec3 gridOffset;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogFragmentDeclaration>\\n\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform sampler2D opacitySampler;\\nuniform vec2 vOpacityInfos;\\n#endif\\nfloat getVisibility(float position) {\\n\\nfloat majorGridFrequency=gridControl.y;\\nif (floor(position+0.5) == floor(position/majorGridFrequency+0.5)*majorGridFrequency)\\n{\\nreturn 1.0;\\n}\\nreturn gridControl.z;\\n}\\nfloat getAnisotropicAttenuation(float differentialLength) {\\nconst float maxNumberOfLines=10.0;\\nreturn clamp(1.0/(differentialLength+1.0)-1.0/maxNumberOfLines,0.0,1.0);\\n}\\nfloat isPointOnLine(float position,float differentialLength) {\\nfloat fractionPartOfPosition=position-floor(position+0.5);\\nfractionPartOfPosition/=differentialLength;\\nfractionPartOfPosition=clamp(fractionPartOfPosition,-1.,1.);\\nfloat result=0.5+0.5*cos(fractionPartOfPosition*PI);\\nreturn result;\\n}\\nfloat contributionOnAxis(float position) {\\nfloat differentialLength=length(vec2(dFdx(position),dFdy(position)));\\ndifferentialLength*=SQRT2;\\n\\nfloat result=isPointOnLine(position,differentialLength);\\n\\nfloat visibility=getVisibility(position);\\nresult*=visibility;\\n\\nfloat anisotropicAttenuation=getAnisotropicAttenuation(differentialLength);\\nresult*=anisotropicAttenuation;\\nreturn result;\\n}\\nfloat normalImpactOnAxis(float x) {\\nfloat normalImpact=clamp(1.0-3.0*abs(x*x*x),0.0,1.0);\\nreturn normalImpact;\\n}\\nvoid main(void) {\\n\\nfloat gridRatio=gridControl.x;\\nvec3 gridPos=(vPosition+gridOffset.xyz)/gridRatio;\\n\\nfloat x=contributionOnAxis(gridPos.x);\\nfloat y=contributionOnAxis(gridPos.y);\\nfloat z=contributionOnAxis(gridPos.z);\\n\\nvec3 normal=normalize(vNormal);\\nx*=normalImpactOnAxis(normal.x);\\ny*=normalImpactOnAxis(normal.y);\\nz*=normalImpactOnAxis(normal.z);\\n\\nfloat grid=clamp(x+y+z,0.,1.);\\n\\nvec3 color=mix(mainColor,lineColor,grid);\\n#ifdef FOG\\n#include<fogFragment>\\n#endif\\nfloat opacity=1.0;\\n#ifdef TRANSPARENT\\nopacity=clamp(grid,0.08,gridControl.w*grid);\\n#endif\\n#ifdef OPACITY\\nopacity*=texture2D(opacitySampler,vOpacityUV).a;\\n#endif\\n\\ngl_FragColor=vec4(color.rgb,opacity);\\n#ifdef TRANSPARENT\\n#ifdef PREMULTIPLYALPHA\\ngl_FragColor.rgb*=opacity;\\n#endif\\n#else\\n#endif\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.gridPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#include<instancesDeclaration>\\n\\nuniform mat4 projection;\\nuniform mat4 view;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\n#include<fogVertexDeclaration>\\n#ifdef OPACITY\\nvarying vec2 vOpacityUV;\\nuniform mat4 opacityMatrix;\\nuniform vec2 vOpacityInfos;\\n#endif\\nvoid main(void) {\\n#include<instancesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\n#include<fogVertex>\\nvec4 cameraSpacePosition=view*worldPos;\\ngl_Position=projection*cameraSpacePosition;\\n#ifdef OPACITY\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\nif (vOpacityInfos.x == 0.)\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\nvPosition=position;\\nvNormal=normal;\\n}\";r.Effect.ShadersStore.gridVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.OPACITY=!1,t.TRANSPARENT=!1,t.FOG=!1,t.PREMULTIPLYALPHA=!1,t.UV1=!1,t.UV2=!1,t.INSTANCES=!1,t.THIN_INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.mainColor=r.Color3.Black(),n.lineColor=r.Color3.Teal(),n.gridRatio=1,n.gridOffset=r.Vector3.Zero(),n.majorUnitFrequency=10,n.minorUnitVisibility=.33,n.opacity=1,n.preMultiplyAlpha=!1,n._gridControl=new r.Vector4(n.gridRatio,n.majorUnitFrequency,n.minorUnitVisibility,n.opacity),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.opacity<1||this._opacityTexture&&this._opacityTexture.isReady()},t.prototype.needAlphaBlendingForMesh=function(e){return this.needAlphaBlending()},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;if(n.TRANSPARENT!==this.opacity<1&&(n.TRANSPARENT=!n.TRANSPARENT,n.markAsUnprocessed()),n.PREMULTIPLYALPHA!=this.preMultiplyAlpha&&(n.PREMULTIPLYALPHA=!n.PREMULTIPLYALPHA,n.markAsUnprocessed()),n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._opacityTexture&&r.MaterialFlags.OpacityTextureEnabled)){if(!this._opacityTexture.isReady())return!1;n._needUVs=!0,n.OPACITY=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,!1,this.fogEnabled,!1,n),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,o.getEngine(),n,!!i),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial(),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!1,!1);var a=[r.VertexBuffer.PositionKind,r.VertexBuffer.NormalKind];n.UV1&&a.push(r.VertexBuffer.UVKind),n.UV2&&a.push(r.VertexBuffer.UV2Kind),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess,r.MaterialHelper.PrepareAttributesForInstances(a,n);var f=n.toString();t.setEffect(o.getEngine().createEffect(\"grid\",a,[\"projection\",\"mainColor\",\"lineColor\",\"gridControl\",\"gridOffset\",\"vFogInfos\",\"vFogColor\",\"world\",\"view\",\"opacityMatrix\",\"vOpacityInfos\"],[\"opacitySampler\"],f,void 0,this.onCompiled,this.onError),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,o.INSTANCES&&!o.THIN_INSTANCE||this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),this._activeEffect.setMatrix(\"projection\",n.getProjectionMatrix()),this._mustRebind(n,a)&&(this._activeEffect.setColor3(\"mainColor\",this.mainColor),this._activeEffect.setColor3(\"lineColor\",this.lineColor),this._activeEffect.setVector3(\"gridOffset\",this.gridOffset),this._gridControl.x=this.gridRatio,this._gridControl.y=Math.round(this.majorUnitFrequency),this._gridControl.z=this.minorUnitVisibility,this._gridControl.w=this.opacity,this._activeEffect.setVector4(\"gridControl\",this._gridControl),this._opacityTexture&&r.MaterialFlags.OpacityTextureEnabled&&(this._activeEffect.setTexture(\"opacitySampler\",this._opacityTexture),this._activeEffect.setFloat2(\"vOpacityInfos\",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),this._activeEffect.setMatrix(\"opacityMatrix\",this._opacityTexture.getTextureMatrix()))),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.GridMaterial\",e},t.prototype.getClassName=function(){return\"GridMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"mainColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"lineColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"gridRatio\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"gridOffset\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"majorUnitFrequency\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"minorUnitVisibility\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"opacity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"preMultiplyAlpha\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"opacityTexture\")],t.prototype,\"_opacityTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"opacityTexture\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.GridMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"LavaMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n\\nuniform float time;\\nuniform float speed;\\nuniform float movingSpeed;\\nuniform vec3 fogColor;\\nuniform sampler2D noiseTexture;\\nuniform float fogDensity;\\n\\nvarying float noise;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nfloat random( vec3 scale,float seed ){\\nreturn fract( sin( dot( gl_FragCoord.xyz+seed,scale ) )*43758.5453+seed ) ;\\n}\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\n\\nvec4 noiseTex=texture2D( noiseTexture,vDiffuseUV );\\nvec2 T1=vDiffuseUV+vec2( 1.5,-1.5 )*time*0.02;\\nvec2 T2=vDiffuseUV+vec2( -0.5,2.0 )*time*0.01*speed;\\nT1.x+=noiseTex.x*2.0;\\nT1.y+=noiseTex.y*2.0;\\nT2.x-=noiseTex.y*0.2+time*0.001*movingSpeed;\\nT2.y+=noiseTex.z*0.2+time*0.002*movingSpeed;\\nfloat p=texture2D( noiseTexture,T1*3.0 ).a;\\nvec4 lavaColor=texture2D( diffuseSampler,T2*4.0);\\nvec4 temp=lavaColor*( vec4( p,p,p,p )*2. )+( lavaColor*lavaColor-0.1 );\\nbaseColor=temp;\\nfloat depth=gl_FragCoord.z*4.0;\\nconst float LOG2=1.442695;\\nfloat fogFactor=exp2(-fogDensity*fogDensity*depth*depth*LOG2 );\\nfogFactor=1.0-clamp( fogFactor,0.0,1.0 );\\nbaseColor=mix( baseColor,vec4( fogColor,baseColor.w ),fogFactor );\\ndiffuseColor=baseColor.rgb;\\n\\n\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef UNLIT\\nvec3 diffuseBase=vec3(1.,1.,1.);\\n#else\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.lavaPixelShader=o;var a=\"precision highp float;\\n\\nuniform float time;\\nuniform float lowFrequencySpeed;\\n\\nvarying float noise;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n\\n\\nvec3 mod289(vec3 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 mod289(vec4 x)\\n{\\nreturn x-floor(x*(1.0/289.0))*289.0;\\n}\\nvec4 permute(vec4 x)\\n{\\nreturn mod289(((x*34.0)+1.0)*x);\\n}\\nvec4 taylorInvSqrt(vec4 r)\\n{\\nreturn 1.79284291400159-0.85373472095314*r;\\n}\\nvec3 fade(vec3 t) {\\nreturn t*t*t*(t*(t*6.0-15.0)+10.0);\\n}\\n\\nfloat pnoise(vec3 P,vec3 rep)\\n{\\nvec3 Pi0=mod(floor(P),rep);\\nvec3 Pi1=mod(Pi0+vec3(1.0),rep);\\nPi0=mod289(Pi0);\\nPi1=mod289(Pi1);\\nvec3 Pf0=fract(P);\\nvec3 Pf1=Pf0-vec3(1.0);\\nvec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);\\nvec4 iy=vec4(Pi0.yy,Pi1.yy);\\nvec4 iz0=Pi0.zzzz;\\nvec4 iz1=Pi1.zzzz;\\nvec4 ixy=permute(permute(ix)+iy);\\nvec4 ixy0=permute(ixy+iz0);\\nvec4 ixy1=permute(ixy+iz1);\\nvec4 gx0=ixy0*(1.0/7.0);\\nvec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;\\ngx0=fract(gx0);\\nvec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);\\nvec4 sz0=step(gz0,vec4(0.0));\\ngx0-=sz0*(step(0.0,gx0)-0.5);\\ngy0-=sz0*(step(0.0,gy0)-0.5);\\nvec4 gx1=ixy1*(1.0/7.0);\\nvec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;\\ngx1=fract(gx1);\\nvec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);\\nvec4 sz1=step(gz1,vec4(0.0));\\ngx1-=sz1*(step(0.0,gx1)-0.5);\\ngy1-=sz1*(step(0.0,gy1)-0.5);\\nvec3 g000=vec3(gx0.x,gy0.x,gz0.x);\\nvec3 g100=vec3(gx0.y,gy0.y,gz0.y);\\nvec3 g010=vec3(gx0.z,gy0.z,gz0.z);\\nvec3 g110=vec3(gx0.w,gy0.w,gz0.w);\\nvec3 g001=vec3(gx1.x,gy1.x,gz1.x);\\nvec3 g101=vec3(gx1.y,gy1.y,gz1.y);\\nvec3 g011=vec3(gx1.z,gy1.z,gz1.z);\\nvec3 g111=vec3(gx1.w,gy1.w,gz1.w);\\nvec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));\\ng000*=norm0.x;\\ng010*=norm0.y;\\ng100*=norm0.z;\\ng110*=norm0.w;\\nvec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));\\ng001*=norm1.x;\\ng011*=norm1.y;\\ng101*=norm1.z;\\ng111*=norm1.w;\\nfloat n000=dot(g000,Pf0);\\nfloat n100=dot(g100,vec3(Pf1.x,Pf0.yz));\\nfloat n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));\\nfloat n110=dot(g110,vec3(Pf1.xy,Pf0.z));\\nfloat n001=dot(g001,vec3(Pf0.xy,Pf1.z));\\nfloat n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));\\nfloat n011=dot(g011,vec3(Pf0.x,Pf1.yz));\\nfloat n111=dot(g111,Pf1);\\nvec3 fade_xyz=fade(Pf0);\\nvec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);\\nvec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);\\nfloat n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);\\nreturn 2.2*n_xyz;\\n}\\n\\nfloat turbulence( vec3 p ) {\\nfloat w=100.0;\\nfloat t=-.5;\\nfor (float f=1.0 ; f<=10.0 ; f++ ){\\nfloat power=pow( 2.0,f );\\nt+=abs( pnoise( vec3( power*p ),vec3( 10.0,10.0,10.0 ) )/power );\\n}\\nreturn t;\\n}\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\n#ifdef NORMAL\\n\\nnoise=10.0*-.10*turbulence( .5*normal+time*1.15 );\\n\\nfloat b=lowFrequencySpeed*5.0*pnoise( 0.05*position +vec3(time*1.025),vec3( 100.0 ) );\\n\\nfloat displacement =-1.5*noise+b;\\n\\nvec3 newPosition=position+normal*displacement;\\ngl_Position=viewProjection*finalWorld*vec4( newPosition,1.0 );\\nvec4 worldPos=finalWorld*vec4(newPosition,1.0);\\nvPositionW=vec3(worldPos);\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\";r.Effect.ShadersStore.lavaVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.LIGHT0=!1,t.LIGHT1=!1,t.LIGHT2=!1,t.LIGHT3=!1,t.SPOTLIGHT0=!1,t.SPOTLIGHT1=!1,t.SPOTLIGHT2=!1,t.SPOTLIGHT3=!1,t.HEMILIGHT0=!1,t.HEMILIGHT1=!1,t.HEMILIGHT2=!1,t.HEMILIGHT3=!1,t.DIRLIGHT0=!1,t.DIRLIGHT1=!1,t.DIRLIGHT2=!1,t.DIRLIGHT3=!1,t.POINTLIGHT0=!1,t.POINTLIGHT1=!1,t.POINTLIGHT2=!1,t.POINTLIGHT3=!1,t.SHADOW0=!1,t.SHADOW1=!1,t.SHADOW2=!1,t.SHADOW3=!1,t.SHADOWS=!1,t.SHADOWESM0=!1,t.SHADOWESM1=!1,t.SHADOWESM2=!1,t.SHADOWESM3=!1,t.SHADOWPOISSON0=!1,t.SHADOWPOISSON1=!1,t.SHADOWPOISSON2=!1,t.SHADOWPOISSON3=!1,t.SHADOWPCF0=!1,t.SHADOWPCF1=!1,t.SHADOWPCF2=!1,t.SHADOWPCF3=!1,t.SHADOWPCSS0=!1,t.SHADOWPCSS1=!1,t.SHADOWPCSS2=!1,t.SHADOWPCSS3=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.UNLIT=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.speed=1,n.movingSpeed=1,n.lowFrequencySpeed=1,n.fogDensity=.15,n._lastTime=0,n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._unlit=!1,n._maxSimultaneousLights=4,n._scaledDiffuse=new r.Color3,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=!0,r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\",\"time\",\"speed\",\"movingSpeed\",\"fogColor\",\"fogDensity\",\"lowFrequencySpeed\"],d=[\"diffuseSampler\",\"noiseTexture\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"lava\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,o.UNLIT=this._unlit,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this.diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this.diffuseTexture.coordinatesIndex,this.diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this.diffuseTexture.getTextureMatrix())),this.noiseTexture&&this._activeEffect.setTexture(\"noiseTexture\",this.noiseTexture),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this._scaledDiffuse,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._lastTime+=n.getEngine().getDeltaTime(),this._activeEffect.setFloat(\"time\",this._lastTime*this.speed/1e3),this.fogColor||(this.fogColor=r.Color3.Black()),this._activeEffect.setColor3(\"fogColor\",this.fogColor),this._activeEffect.setFloat(\"fogDensity\",this.fogDensity),this._activeEffect.setFloat(\"lowFrequencySpeed\",this.lowFrequencySpeed),this._activeEffect.setFloat(\"movingSpeed\",this.movingSpeed),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),this.noiseTexture&&this.noiseTexture.animations&&this.noiseTexture.animations.length>0&&e.push(this.noiseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this.diffuseTexture&&this.diffuseTexture.dispose(),this.noiseTexture&&this.noiseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.LavaMaterial\",e},t.prototype.getClassName=function(){return\"LavaMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)()],t.prototype,\"noiseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"fogColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"speed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"movingSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"lowFrequencySpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"fogDensity\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"unlit\")],t.prototype,\"_unlit\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"unlit\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.LavaMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"MixMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D mixMap1Sampler;\\nuniform vec2 vTextureInfos;\\n#ifdef MIXMAP2\\nuniform sampler2D mixMap2Sampler;\\n#endif\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform sampler2D diffuse4Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\nuniform vec2 diffuse4Infos;\\n#ifdef MIXMAP2\\nuniform sampler2D diffuse5Sampler;\\nuniform sampler2D diffuse6Sampler;\\nuniform sampler2D diffuse7Sampler;\\nuniform sampler2D diffuse8Sampler;\\nuniform vec2 diffuse5Infos;\\nuniform vec2 diffuse6Infos;\\nuniform vec2 diffuse7Infos;\\nuniform vec2 diffuse8Infos;\\n#endif\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 finalMixColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef MIXMAP2\\nvec4 mixColor2=vec4(1.,1.,1.,1.);\\n#endif\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nvec4 mixColor=texture2D(mixMap1Sampler,vTextureUV);\\n#include<depthPrePass>\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\nvec4 diffuse4Color=texture2D(diffuse4Sampler,vTextureUV*diffuse4Infos);\\ndiffuse1Color.rgb*=mixColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,mixColor.g);\\ndiffuse3Color.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse3Color.rgb,diffuse4Color.rgb,1.0-mixColor.a);\\n#ifdef MIXMAP2\\nmixColor=texture2D(mixMap2Sampler,vTextureUV);\\nmixColor.rgb*=vTextureInfos.y;\\nvec4 diffuse5Color=texture2D(diffuse5Sampler,vTextureUV*diffuse5Infos);\\nvec4 diffuse6Color=texture2D(diffuse6Sampler,vTextureUV*diffuse6Infos);\\nvec4 diffuse7Color=texture2D(diffuse7Sampler,vTextureUV*diffuse7Infos);\\nvec4 diffuse8Color=texture2D(diffuse8Sampler,vTextureUV*diffuse8Infos);\\ndiffuse5Color.rgb=mix(finalMixColor.rgb,diffuse5Color.rgb,mixColor.r);\\ndiffuse6Color.rgb=mix(diffuse5Color.rgb,diffuse6Color.rgb,mixColor.g);\\ndiffuse7Color.rgb=mix(diffuse6Color.rgb,diffuse7Color.rgb,mixColor.b);\\nfinalMixColor.rgb=mix(diffuse7Color.rgb,diffuse8Color.rgb,1.0-mixColor.a);\\n#endif\\n#endif\\n#ifdef VERTEXCOLOR\\nfinalMixColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*finalMixColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";r.Effect.ShadersStore.mixPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.mixVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.MIXMAP2=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(0,0,0),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(o.texturesEnabled){if(!this._mixTexture1||!this._mixTexture1.isReady())return!1;if(n._needUVs=!0,r.MaterialFlags.DiffuseTextureEnabled){if(!this._diffuseTexture1||!this._diffuseTexture1.isReady())return!1;if(n.DIFFUSE=!0,!this._diffuseTexture2||!this._diffuseTexture2.isReady())return!1;if(!this._diffuseTexture3||!this._diffuseTexture3.isReady())return!1;if(!this._diffuseTexture4||!this._diffuseTexture4.isReady())return!1;if(this._mixTexture2){if(!this._mixTexture2.isReady())return!1;if(n.MIXMAP2=!0,!this._diffuseTexture5||!this._diffuseTexture5.isReady())return!1;if(!this._diffuseTexture6||!this._diffuseTexture6.isReady())return!1;if(!this._diffuseTexture7||!this._diffuseTexture7.isReady())return!1;if(!this._diffuseTexture8||!this._diffuseTexture8.isReady())return!1}}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vTextureInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"textureMatrix\",\"diffuse1Infos\",\"diffuse2Infos\",\"diffuse3Infos\",\"diffuse4Infos\",\"diffuse5Infos\",\"diffuse6Infos\",\"diffuse7Infos\",\"diffuse8Infos\"],d=[\"mixMap1Sampler\",\"mixMap2Sampler\",\"diffuse1Sampler\",\"diffuse2Sampler\",\"diffuse3Sampler\",\"diffuse4Sampler\",\"diffuse5Sampler\",\"diffuse6Sampler\",\"diffuse7Sampler\",\"diffuse8Sampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"mix\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._mixTexture1&&(this._activeEffect.setTexture(\"mixMap1Sampler\",this._mixTexture1),this._activeEffect.setFloat2(\"vTextureInfos\",this._mixTexture1.coordinatesIndex,this._mixTexture1.level),this._activeEffect.setMatrix(\"textureMatrix\",this._mixTexture1.getTextureMatrix()),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture1&&(this._activeEffect.setTexture(\"diffuse1Sampler\",this._diffuseTexture1),this._activeEffect.setFloat2(\"diffuse1Infos\",this._diffuseTexture1.uScale,this._diffuseTexture1.vScale)),this._diffuseTexture2&&(this._activeEffect.setTexture(\"diffuse2Sampler\",this._diffuseTexture2),this._activeEffect.setFloat2(\"diffuse2Infos\",this._diffuseTexture2.uScale,this._diffuseTexture2.vScale)),this._diffuseTexture3&&(this._activeEffect.setTexture(\"diffuse3Sampler\",this._diffuseTexture3),this._activeEffect.setFloat2(\"diffuse3Infos\",this._diffuseTexture3.uScale,this._diffuseTexture3.vScale)),this._diffuseTexture4&&(this._activeEffect.setTexture(\"diffuse4Sampler\",this._diffuseTexture4),this._activeEffect.setFloat2(\"diffuse4Infos\",this._diffuseTexture4.uScale,this._diffuseTexture4.vScale)))),this._mixTexture2&&(this._activeEffect.setTexture(\"mixMap2Sampler\",this._mixTexture2),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture5&&(this._activeEffect.setTexture(\"diffuse5Sampler\",this._diffuseTexture5),this._activeEffect.setFloat2(\"diffuse5Infos\",this._diffuseTexture5.uScale,this._diffuseTexture5.vScale)),this._diffuseTexture6&&(this._activeEffect.setTexture(\"diffuse6Sampler\",this._diffuseTexture6),this._activeEffect.setFloat2(\"diffuse6Infos\",this._diffuseTexture6.uScale,this._diffuseTexture6.vScale)),this._diffuseTexture7&&(this._activeEffect.setTexture(\"diffuse7Sampler\",this._diffuseTexture7),this._activeEffect.setFloat2(\"diffuse7Infos\",this._diffuseTexture7.uScale,this._diffuseTexture7.vScale)),this._diffuseTexture8&&(this._activeEffect.setTexture(\"diffuse8Sampler\",this._diffuseTexture8),this._activeEffect.setFloat2(\"diffuse8Infos\",this._diffuseTexture8.uScale,this._diffuseTexture8.vScale)))),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._mixTexture1&&this._mixTexture1.animations&&this._mixTexture1.animations.length>0&&e.push(this._mixTexture1),this._mixTexture2&&this._mixTexture2.animations&&this._mixTexture2.animations.length>0&&e.push(this._mixTexture2),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._mixTexture1&&t.push(this._mixTexture1),this._diffuseTexture1&&t.push(this._diffuseTexture1),this._diffuseTexture2&&t.push(this._diffuseTexture2),this._diffuseTexture3&&t.push(this._diffuseTexture3),this._diffuseTexture4&&t.push(this._diffuseTexture4),this._mixTexture2&&t.push(this._mixTexture2),this._diffuseTexture5&&t.push(this._diffuseTexture5),this._diffuseTexture6&&t.push(this._diffuseTexture6),this._diffuseTexture7&&t.push(this._diffuseTexture7),this._diffuseTexture8&&t.push(this._diffuseTexture8),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._mixTexture1===t||(this._diffuseTexture1===t||(this._diffuseTexture2===t||(this._diffuseTexture3===t||(this._diffuseTexture4===t||(this._mixTexture2===t||(this._diffuseTexture5===t||(this._diffuseTexture6===t||(this._diffuseTexture7===t||this._diffuseTexture8===t)))))))))},t.prototype.dispose=function(t){this._mixTexture1&&this._mixTexture1.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.MixMaterial\",e},t.prototype.getClassName=function(){return\"MixMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture1\")],t.prototype,\"_mixTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture2\")],t.prototype,\"_mixTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture3\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")],t.prototype,\"_diffuseTexture4\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture4\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture5\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture5\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture6\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture6\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture7\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture7\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture4\")],t.prototype,\"_diffuseTexture8\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture8\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.MixMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"NormalMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef LIGHTING\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0]\\n#include<__decl__lightFragment>[1]\\n#include<__decl__lightFragment>[2]\\n#include<__decl__lightFragment>[3]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#endif\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef NORMAL\\nbaseColor=mix(baseColor,vec4(vNormalW,1.0),0.5);\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\n#ifdef LIGHTING\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0]\\n#include<lightFragment>[1]\\n#include<lightFragment>[2]\\n#include<lightFragment>[3]\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n#else\\nvec3 finalDiffuse=baseColor.rgb;\\n#endif\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.normalPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.normalVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.LIGHT0=!1,t.LIGHT1=!1,t.LIGHT2=!1,t.LIGHT3=!1,t.SPOTLIGHT0=!1,t.SPOTLIGHT1=!1,t.SPOTLIGHT2=!1,t.SPOTLIGHT3=!1,t.HEMILIGHT0=!1,t.HEMILIGHT1=!1,t.HEMILIGHT2=!1,t.HEMILIGHT3=!1,t.DIRLIGHT0=!1,t.DIRLIGHT1=!1,t.DIRLIGHT2=!1,t.DIRLIGHT3=!1,t.POINTLIGHT0=!1,t.POINTLIGHT1=!1,t.POINTLIGHT2=!1,t.POINTLIGHT3=!1,t.SHADOW0=!1,t.SHADOW1=!1,t.SHADOW2=!1,t.SHADOW3=!1,t.SHADOWS=!1,t.SHADOWESM0=!1,t.SHADOWESM1=!1,t.SHADOWESM2=!1,t.SHADOWESM3=!1,t.SHADOWPOISSON0=!1,t.SHADOWPOISSON1=!1,t.SHADOWPOISSON2=!1,t.SHADOWPOISSON3=!1,t.SHADOWPCF0=!1,t.SHADOWPCF1=!1,t.SHADOWPCF2=!1,t.SHADOWPCF3=!1,t.SHADOWPCSS0=!1,t.SHADOWPCSS1=!1,t.SHADOWPCSS2=!1,t.SHADOWPCSS3=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.LIGHTING=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaBlendingForMesh=function(e){return this.needAlphaBlending()||e.visibility<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=!0,r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),n.LIGHTING=!this._disableLighting,r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:4}),t.setEffect(o.getEngine().createEffect(\"normal\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:4}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this.diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this.diffuseTexture.coordinatesIndex,this.diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this.diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.diffuseTexture&&this.diffuseTexture.animations&&this.diffuseTexture.animations.length>0&&e.push(this.diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this.diffuseTexture&&this.diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.NormalMaterial\",e},t.prototype.getClassName=function(){return\"NormalMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.NormalMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"ShadowOnlyMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform float alpha;\\nuniform vec3 shadowColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#include<lightFragment>[0..1]\\n\\nvec4 color=vec4(shadowColor,(1.0-clamp(shadow,0.,1.))*alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.shadowOnlyPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.shadowOnlyVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._needAlphaBlending=!0,n.shadowColor=r.Color3.Black(),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this._needAlphaBlending},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},Object.defineProperty(t.prototype,\"activeLight\",{get:function(){return this._activeLight},set:function(e){this._activeLight=e},enumerable:!1,configurable:!0}),t.prototype._getFirstShadowLightForMesh=function(e){for(var t=0,i=e.lightSources;t<i.length;t++){var n=i[t];if(n.shadowEnabled)return n}return null},t.prototype.isReadyForSubMesh=function(e,t,i){var n;if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var o=t._materialDefines,a=this.getScene();if(this._isReadyForSubMesh(t))return!0;var f=a.getEngine();if(this._activeLight)for(var l=0,u=e.lightSources;l<u.length;l++){var c=u[l];if(c.shadowEnabled){if(this._activeLight===c)break;var d=e.lightSources.indexOf(this._activeLight);-1!==d&&(e.lightSources.splice(d,1),e.lightSources.splice(0,0,this._activeLight));break}}r.MaterialHelper.PrepareDefinesForFrameBoundValues(a,f,o,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,a,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),o),o._needNormals=r.MaterialHelper.PrepareDefinesForLights(a,e,o,!1,1);var p=null===(n=this._getFirstShadowLightForMesh(e))||void 0===n?void 0:n.getShadowGenerator();if(this._needAlphaBlending=!0,p&&p.getClassName&&\"CascadedShadowGenerator\"===p.getClassName()){var h=p;this._needAlphaBlending=!h.autoCalcDepthBounds}if(r.MaterialHelper.PrepareDefinesForAttributes(e,o,!1,!0),o.isDirty){o.markAsProcessed(),a.resetCachedMaterial();var v=new r.EffectFallbacks;o.FOG&&v.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(o,v,1),o.NUM_BONE_INFLUENCERS>0&&v.addCPUSkinningFallback(0,e),o.IMAGEPROCESSINGPOSTPROCESS=a.imageProcessingConfiguration.applyByPostProcess;var m=[r.VertexBuffer.PositionKind];o.NORMAL&&m.push(r.VertexBuffer.NormalKind),r.MaterialHelper.PrepareAttributesForBones(m,e,o,v),r.MaterialHelper.PrepareAttributesForInstances(m,o);var g=o.toString(),x=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"alpha\",\"shadowColor\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\"],T=new Array,_=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:x,uniformBuffersNames:_,samplers:T,defines:o,maxSimultaneousLights:1}),t.setEffect(a.getEngine().createEffect(\"shadowOnly\",{attributes:m,uniformsNames:x,uniformBuffersNames:_,samplers:T,defines:g,fallbacks:v,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:1}},f),o)}return!(!t.effect||!t.effect.isReady())&&(o._renderId=a.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;if(a){if(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),this._activeEffect.setFloat(\"alpha\",this.alpha),this._activeEffect.setColor3(\"shadowColor\",this.shadowColor),r.MaterialHelper.BindEyePosition(a,n)),n.lightsEnabled){r.MaterialHelper.BindLights(n,t,this._activeEffect,o,1);var s=this._getFirstShadowLightForMesh(t);s&&(s._renderId=-1)}(n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE||o.SHADOWCSM0)&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect)}}},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.ShadowOnlyMaterial\",e},t.prototype.getClassName=function(){return\"ShadowOnlyMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.ShadowOnlyMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"SimpleMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform sampler2D diffuseSampler;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef DIFFUSE\\nbaseColor=texture2D(diffuseSampler,vDiffuseUV);\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vDiffuseInfos.y;\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\nfloat glossiness=0.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\";r.Effect.ShadersStore.simplePixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vDiffuseUV;\\nuniform mat4 diffuseMatrix;\\nuniform vec2 vDiffuseInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vDiffuseInfos.x == 0.)\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.simpleVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled&&this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled)){if(!this._diffuseTexture.isReady())return!1;n._needUVs=!0,n.DIFFUSE=!0}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vDiffuseInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"diffuseMatrix\"],d=[\"diffuseSampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"simple\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights-1}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this._diffuseTexture&&r.MaterialFlags.DiffuseTextureEnabled&&(this._activeEffect.setTexture(\"diffuseSampler\",this._diffuseTexture),this._activeEffect.setFloat2(\"vDiffuseInfos\",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),this._activeEffect.setMatrix(\"diffuseMatrix\",this._diffuseTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this.diffuseTexture===t},t.prototype.dispose=function(t){this._diffuseTexture&&this._diffuseTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.SimpleMaterial\",e},t.prototype.getClassName=function(){return\"SimpleMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture\")],t.prototype,\"_diffuseTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)(\"diffuse\")],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.SimpleMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"SkyMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneFragmentDeclaration>\\n\\nuniform vec3 cameraPosition;\\nuniform vec3 cameraOffset;\\nuniform float luminance;\\nuniform float turbidity;\\nuniform float rayleigh;\\nuniform float mieCoefficient;\\nuniform float mieDirectionalG;\\nuniform vec3 sunPosition;\\n\\n#include<fogFragmentDeclaration>\\n\\nconst float e=2.71828182845904523536028747135266249775724709369995957;\\nconst float pi=3.141592653589793238462643383279502884197169;\\nconst float n=1.0003;\\nconst float N=2.545E25;\\nconst float pn=0.035;\\nconst vec3 lambda=vec3(680E-9,550E-9,450E-9);\\nconst vec3 K=vec3(0.686,0.678,0.666);\\nconst float v=4.0;\\nconst float rayleighZenithLength=8.4E3;\\nconst float mieZenithLength=1.25E3;\\nconst vec3 up=vec3(0.0,1.0,0.0);\\nconst float EE=1000.0;\\nconst float sunAngularDiameterCos=0.999956676946448443553574619906976478926848692873900859324;\\nconst float cutoffAngle=pi/1.95;\\nconst float steepness=1.5;\\nvec3 totalRayleigh(vec3 lambda)\\n{\\nreturn (8.0*pow(pi,3.0)*pow(pow(n,2.0)-1.0,2.0)*(6.0+3.0*pn))/(3.0*N*pow(lambda,vec3(4.0))*(6.0-7.0*pn));\\n}\\nvec3 simplifiedRayleigh()\\n{\\nreturn 0.0005/vec3(94,40,18);\\n}\\nfloat rayleighPhase(float cosTheta)\\n{\\nreturn (3.0/(16.0*pi))*(1.0+pow(cosTheta,2.0));\\n}\\nvec3 totalMie(vec3 lambda,vec3 K,float T)\\n{\\nfloat c=(0.2*T )*10E-18;\\nreturn 0.434*c*pi*pow((2.0*pi)/lambda,vec3(v-2.0))*K;\\n}\\nfloat hgPhase(float cosTheta,float g)\\n{\\nreturn (1.0/(4.0*pi))*((1.0-pow(g,2.0))/pow(1.0-2.0*g*cosTheta+pow(g,2.0),1.5));\\n}\\nfloat sunIntensity(float zenithAngleCos)\\n{\\nreturn EE*max(0.0,1.0-exp((-(cutoffAngle-acos(zenithAngleCos))/steepness)));\\n}\\nfloat A=0.15;\\nfloat B=0.50;\\nfloat C=0.10;\\nfloat D=0.20;\\nfloat EEE=0.02;\\nfloat F=0.30;\\nfloat W=1000.0;\\nvec3 Uncharted2Tonemap(vec3 x)\\n{\\nreturn ((x*(A*x+C*B)+D*EEE)/(x*(A*x+B)+D*F))-EEE/F;\\n}\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\n\\nfloat sunfade=1.0-clamp(1.0-exp((sunPosition.y/450000.0)),0.0,1.0);\\nfloat rayleighCoefficient=rayleigh-(1.0*(1.0-sunfade));\\nvec3 sunDirection=normalize(sunPosition);\\nfloat sunE=sunIntensity(dot(sunDirection,up));\\nvec3 betaR=simplifiedRayleigh()*rayleighCoefficient;\\nvec3 betaM=totalMie(lambda,K,turbidity)*mieCoefficient;\\nfloat zenithAngle=acos(max(0.0,dot(up,normalize(vPositionW-cameraPosition+cameraOffset))));\\nfloat sR=rayleighZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nfloat sM=mieZenithLength/(cos(zenithAngle)+0.15*pow(93.885-((zenithAngle*180.0)/pi),-1.253));\\nvec3 Fex=exp(-(betaR*sR+betaM*sM));\\nfloat cosTheta=dot(normalize(vPositionW-cameraPosition),sunDirection);\\nfloat rPhase=rayleighPhase(cosTheta*0.5+0.5);\\nvec3 betaRTheta=betaR*rPhase;\\nfloat mPhase=hgPhase(cosTheta,mieDirectionalG);\\nvec3 betaMTheta=betaM*mPhase;\\nvec3 Lin=pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*(1.0-Fex),vec3(1.5));\\nLin*=mix(vec3(1.0),pow(sunE*((betaRTheta+betaMTheta)/(betaR+betaM))*Fex,vec3(1.0/2.0)),clamp(pow(1.0-dot(up,sunDirection),5.0),0.0,1.0));\\nvec3 direction=normalize(vPositionW-cameraPosition);\\nfloat theta=acos(direction.y);\\nfloat phi=atan(direction.z,direction.x);\\nvec2 uv=vec2(phi,theta)/vec2(2.0*pi,pi)+vec2(0.5,0.0);\\nvec3 L0=vec3(0.1)*Fex;\\nfloat sundisk=smoothstep(sunAngularDiameterCos,sunAngularDiameterCos+0.00002,cosTheta);\\nL0+=(sunE*19000.0*Fex)*sundisk;\\nvec3 whiteScale=1.0/Uncharted2Tonemap(vec3(W));\\nvec3 texColor=(Lin+L0);\\ntexColor*=0.04 ;\\ntexColor+=vec3(0.0,0.001,0.0025)*0.3;\\nfloat g_fMaxLuminance=1.0;\\nfloat fLumScaled=0.1/luminance;\\nfloat fLumCompressed=(fLumScaled*(1.0+(fLumScaled/(g_fMaxLuminance*g_fMaxLuminance))))/(1.0+fLumScaled);\\nfloat ExposureBias=fLumCompressed;\\nvec3 curr=Uncharted2Tonemap((log2(2.0/pow(luminance,4.0)))*texColor);\\n\\n\\n\\nvec3 retColor=curr*whiteScale;\\n\\n\\nfloat alpha=1.0;\\n#ifdef VERTEXCOLOR\\nretColor.rgb*=vColor.rgb;\\n#endif\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n\\nvec4 color=clamp(vec4(retColor.rgb,alpha),0.0,1.0);\\n\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";r.Effect.ShadersStore.skyPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n\\nuniform mat4 world;\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\nvoid main(void) {\\ngl_Position=viewProjection*world*vec4(position,1.0);\\nvec4 worldPos=world*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.skyVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.POINTSIZE=!1,t.FOG=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.luminance=1,n.turbidity=10,n.rayleigh=2,n.mieCoefficient=.005,n.mieDirectionalG=.8,n.distance=500,n.inclination=.49,n.azimuth=.25,n.sunPosition=new r.Vector3(0,100,0),n.useSunPosition=!1,n.cameraOffset=r.Vector3.Zero(),n._cameraPosition=r.Vector3.Zero(),n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,!1,n),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!1),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var a=new r.EffectFallbacks;n.FOG&&a.addFallback(1,\"FOG\"),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var f=[r.VertexBuffer.PositionKind];n.VERTEXCOLOR&&f.push(r.VertexBuffer.ColorKind);var l=n.toString();t.setEffect(o.getEngine().createEffect(\"sky\",f,[\"world\",\"viewProjection\",\"view\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"luminance\",\"turbidity\",\"rayleigh\",\"mieCoefficient\",\"mieDirectionalG\",\"sunPosition\",\"cameraPosition\",\"cameraOffset\"],[],l,a,this.onCompiled,this.onError),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene();if(i._materialDefines){var o=i.effect;if(o){this._activeEffect=o,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),this._mustRebind(n,o)&&(r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize)),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect);var a=n.activeCamera;if(a){var s=a.getWorldMatrix();this._cameraPosition.x=s.m[12],this._cameraPosition.y=s.m[13],this._cameraPosition.z=s.m[14],this._activeEffect.setVector3(\"cameraPosition\",this._cameraPosition)}if(this._activeEffect.setVector3(\"cameraOffset\",this.cameraOffset),this.luminance>0&&this._activeEffect.setFloat(\"luminance\",this.luminance),this._activeEffect.setFloat(\"turbidity\",this.turbidity),this._activeEffect.setFloat(\"rayleigh\",this.rayleigh),this._activeEffect.setFloat(\"mieCoefficient\",this.mieCoefficient),this._activeEffect.setFloat(\"mieDirectionalG\",this.mieDirectionalG),!this.useSunPosition){var f=Math.PI*(this.inclination-.5),l=2*Math.PI*(this.azimuth-.5);this.sunPosition.x=this.distance*Math.cos(l),this.sunPosition.y=this.distance*Math.sin(l)*Math.sin(f),this.sunPosition.z=this.distance*Math.sin(l)*Math.cos(f)}this._activeEffect.setVector3(\"sunPosition\",this.sunPosition),this._afterBind(t,this._activeEffect)}}},t.prototype.getAnimatables=function(){return[]},t.prototype.dispose=function(t){e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.SkyMaterial\",e},t.prototype.getClassName=function(){return\"SkyMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serialize)()],t.prototype,\"luminance\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"turbidity\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"rayleigh\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"mieCoefficient\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"mieDirectionalG\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"distance\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"inclination\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"azimuth\",void 0),Object(n.a)([Object(r.serializeAsVector3)()],t.prototype,\"sunPosition\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"useSunPosition\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"cameraOffset\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.SkyMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"TerrainMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform sampler2D textureSampler;\\nuniform vec2 vTextureInfos;\\nuniform sampler2D diffuse1Sampler;\\nuniform sampler2D diffuse2Sampler;\\nuniform sampler2D diffuse3Sampler;\\nuniform vec2 diffuse1Infos;\\nuniform vec2 diffuse2Infos;\\nuniform vec2 diffuse3Infos;\\n#endif\\n#ifdef BUMP\\nuniform sampler2D bump1Sampler;\\nuniform sampler2D bump2Sampler;\\nuniform sampler2D bump3Sampler;\\n#endif\\n\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n\\n#include<fogFragmentDeclaration>\\n\\n#ifdef BUMP\\n#extension GL_OES_standard_derivatives : enable\\n\\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv)\\n{\\n\\nvec3 dp1=dFdx(p);\\nvec3 dp2=dFdy(p);\\nvec2 duv1=dFdx(uv);\\nvec2 duv2=dFdy(uv);\\n\\nvec3 dp2perp=cross(dp2,normal);\\nvec3 dp1perp=cross(normal,dp1);\\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\\nvec3 binormal=dp2perp*duv1.y+dp1perp*duv2.y;\\n\\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(binormal,binormal)));\\nreturn mat3(tangent*invmax,binormal*invmax,normal);\\n}\\nvec3 perturbNormal(vec3 viewDir,vec3 mixColor)\\n{\\nvec3 bump1Color=texture2D(bump1Sampler,vTextureUV*diffuse1Infos).xyz;\\nvec3 bump2Color=texture2D(bump2Sampler,vTextureUV*diffuse2Infos).xyz;\\nvec3 bump3Color=texture2D(bump3Sampler,vTextureUV*diffuse3Infos).xyz;\\nbump1Color.rgb*=mixColor.r;\\nbump2Color.rgb=mix(bump1Color.rgb,bump2Color.rgb,mixColor.g);\\nvec3 map=mix(bump2Color.rgb,bump3Color.rgb,mixColor.b);\\nmap=map*255./127.-128./127.;\\nmat3 TBN=cotangent_frame(vNormalW*vTextureInfos.y,-viewDir,vTextureUV);\\nreturn normalize(TBN*map);\\n}\\n#endif\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=normalize(vNormalW);\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\n#ifdef DIFFUSE\\nbaseColor=texture2D(textureSampler,vTextureUV);\\n#if defined(BUMP) && defined(DIFFUSE)\\nnormalW=perturbNormal(viewDirectionW,baseColor.rgb);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\nbaseColor.rgb*=vTextureInfos.y;\\nvec4 diffuse1Color=texture2D(diffuse1Sampler,vTextureUV*diffuse1Infos);\\nvec4 diffuse2Color=texture2D(diffuse2Sampler,vTextureUV*diffuse2Infos);\\nvec4 diffuse3Color=texture2D(diffuse3Sampler,vTextureUV*diffuse3Infos);\\ndiffuse1Color.rgb*=baseColor.r;\\ndiffuse2Color.rgb=mix(diffuse1Color.rgb,diffuse2Color.rgb,baseColor.g);\\nbaseColor.rgb=mix(diffuse2Color.rgb,diffuse3Color.rgb,baseColor.b);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nvec3 specularBase=vec3(0.,0.,0.);\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor*baseColor.rgb,0.0,1.0);\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";r.Effect.ShadersStore.terrainPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSE\\nvarying vec2 vTextureUV;\\nuniform mat4 textureMatrix;\\nuniform vec2 vTextureInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef DIFFUSE\\nif (vTextureInfos.x == 0.)\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv,1.0,0.0));\\n}\\nelse\\n{\\nvTextureUV=vec2(textureMatrix*vec4(uv2,1.0,0.0));\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.terrainVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSE=!1,t.BUMP=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(0,0,0),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(o.texturesEnabled){if(!this.mixTexture||!this.mixTexture.isReady())return!1;if(n._needUVs=!0,r.MaterialFlags.DiffuseTextureEnabled){if(!this.diffuseTexture1||!this.diffuseTexture1.isReady())return!1;if(!this.diffuseTexture2||!this.diffuseTexture2.isReady())return!1;if(!this.diffuseTexture3||!this.diffuseTexture3.isReady())return!1;n.DIFFUSE=!0}if(this.bumpTexture1&&this.bumpTexture2&&this.bumpTexture3&&r.MaterialFlags.BumpTextureEnabled){if(!this.bumpTexture1.isReady())return!1;if(!this.bumpTexture2.isReady())return!1;if(!this.bumpTexture3.isReady())return!1;n._needNormals=!0,n.BUMP=!0}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var f=new r.EffectFallbacks;n.FOG&&f.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,f,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&f.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var l=[r.VertexBuffer.PositionKind];n.NORMAL&&l.push(r.VertexBuffer.NormalKind),n.UV1&&l.push(r.VertexBuffer.UVKind),n.UV2&&l.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&l.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(l,e,n,f),r.MaterialHelper.PrepareAttributesForInstances(l,n);var u=n.toString(),c=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vTextureInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"textureMatrix\",\"diffuse1Infos\",\"diffuse2Infos\",\"diffuse3Infos\"],d=[\"textureSampler\",\"diffuse1Sampler\",\"diffuse2Sampler\",\"diffuse3Sampler\",\"bump1Sampler\",\"bump2Sampler\",\"bump3Sampler\"],p=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"terrain\",{attributes:l,uniformsNames:c,uniformBuffersNames:p,samplers:d,defines:u,fallbacks:f,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.mixTexture&&(this._activeEffect.setTexture(\"textureSampler\",this._mixTexture),this._activeEffect.setFloat2(\"vTextureInfos\",this._mixTexture.coordinatesIndex,this._mixTexture.level),this._activeEffect.setMatrix(\"textureMatrix\",this._mixTexture.getTextureMatrix()),r.MaterialFlags.DiffuseTextureEnabled&&(this._diffuseTexture1&&(this._activeEffect.setTexture(\"diffuse1Sampler\",this._diffuseTexture1),this._activeEffect.setFloat2(\"diffuse1Infos\",this._diffuseTexture1.uScale,this._diffuseTexture1.vScale)),this._diffuseTexture2&&(this._activeEffect.setTexture(\"diffuse2Sampler\",this._diffuseTexture2),this._activeEffect.setFloat2(\"diffuse2Infos\",this._diffuseTexture2.uScale,this._diffuseTexture2.vScale)),this._diffuseTexture3&&(this._activeEffect.setTexture(\"diffuse3Sampler\",this._diffuseTexture3),this._activeEffect.setFloat2(\"diffuse3Infos\",this._diffuseTexture3.uScale,this._diffuseTexture3.vScale))),r.MaterialFlags.BumpTextureEnabled&&n.getEngine().getCaps().standardDerivatives&&(this._bumpTexture1&&this._activeEffect.setTexture(\"bump1Sampler\",this._bumpTexture1),this._bumpTexture2&&this._activeEffect.setTexture(\"bump2Sampler\",this._bumpTexture2),this._bumpTexture3&&this._activeEffect.setTexture(\"bump3Sampler\",this._bumpTexture3))),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.mixTexture&&this.mixTexture.animations&&this.mixTexture.animations.length>0&&e.push(this.mixTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._mixTexture&&t.push(this._mixTexture),this._diffuseTexture1&&t.push(this._diffuseTexture1),this._diffuseTexture2&&t.push(this._diffuseTexture2),this._diffuseTexture3&&t.push(this._diffuseTexture3),this._bumpTexture1&&t.push(this._bumpTexture1),this._bumpTexture2&&t.push(this._bumpTexture2),this._bumpTexture3&&t.push(this._bumpTexture3),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._mixTexture===t||(this._diffuseTexture1===t||(this._diffuseTexture2===t||(this._diffuseTexture3===t||(this._bumpTexture1===t||(this._bumpTexture2===t||this._bumpTexture3===t))))))},t.prototype.dispose=function(t){this.mixTexture&&this.mixTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.TerrainMaterial\",e},t.prototype.getClassName=function(){return\"TerrainMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)(\"mixTexture\")],t.prototype,\"_mixTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"mixTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture1\")],t.prototype,\"_diffuseTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture2\")],t.prototype,\"_diffuseTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexture3\")],t.prototype,\"_diffuseTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTexture3\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture1\")],t.prototype,\"_bumpTexture1\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture1\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture2\")],t.prototype,\"_bumpTexture2\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture2\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture3\")],t.prototype,\"_bumpTexture3\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture3\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.TerrainMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"TriPlanarMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"precision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\nuniform sampler2D diffuseSamplerX;\\n#ifdef BUMPX\\nuniform sampler2D normalSamplerX;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\nuniform sampler2D diffuseSamplerY;\\n#ifdef BUMPY\\nuniform sampler2D normalSamplerY;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\nuniform sampler2D diffuseSamplerZ;\\n#ifdef BUMPZ\\nuniform sampler2D normalSamplerZ;\\n#endif\\n#endif\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n#include<clipPlaneFragmentDeclaration>\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(0.,0.,0.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n\\n#ifdef NORMAL\\nvec3 normalW=tangentSpace[2];\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\n#endif\\nvec4 baseNormal=vec4(0.0,0.0,0.0,1.0);\\nnormalW*=normalW;\\n#ifdef DIFFUSEX\\nbaseColor+=texture2D(diffuseSamplerX,vTextureUVX)*normalW.x;\\n#ifdef BUMPX\\nbaseNormal+=texture2D(normalSamplerX,vTextureUVX)*normalW.x;\\n#endif\\n#endif\\n#ifdef DIFFUSEY\\nbaseColor+=texture2D(diffuseSamplerY,vTextureUVY)*normalW.y;\\n#ifdef BUMPY\\nbaseNormal+=texture2D(normalSamplerY,vTextureUVY)*normalW.y;\\n#endif\\n#endif\\n#ifdef DIFFUSEZ\\nbaseColor+=texture2D(diffuseSamplerZ,vTextureUVZ)*normalW.z;\\n#ifdef BUMPZ\\nbaseNormal+=texture2D(normalSamplerZ,vTextureUVZ)*normalW.z;\\n#endif\\n#endif\\n#ifdef NORMAL\\nnormalW=normalize((2.0*baseNormal.xyz-1.0)*tangentSpace);\\n#endif\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\n#include<depthPrePass>\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor,0.0,1.0)*baseColor.rgb;\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<fogFragment>\\ngl_FragColor=color;\\n#include<imageProcessingCompatibility>\\n}\\n\";r.Effect.ShadersStore.triplanarPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef DIFFUSEX\\nvarying vec2 vTextureUVX;\\n#endif\\n#ifdef DIFFUSEY\\nvarying vec2 vTextureUVY;\\n#endif\\n#ifdef DIFFUSEZ\\nvarying vec2 vTextureUVZ;\\n#endif\\nuniform float tileSize;\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying mat3 tangentSpace;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\nvoid main(void)\\n{\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\ngl_Position=viewProjection*worldPos;\\nvPositionW=vec3(worldPos);\\n#ifdef DIFFUSEX\\nvTextureUVX=worldPos.zy/tileSize;\\n#endif\\n#ifdef DIFFUSEY\\nvTextureUVY=worldPos.xz/tileSize;\\n#endif\\n#ifdef DIFFUSEZ\\nvTextureUVZ=worldPos.xy/tileSize;\\n#endif\\n#ifdef NORMAL\\n\\nvec3 xtan=vec3(0,0,1);\\nvec3 xbin=vec3(0,1,0);\\nvec3 ytan=vec3(1,0,0);\\nvec3 ybin=vec3(0,0,1);\\nvec3 ztan=vec3(1,0,0);\\nvec3 zbin=vec3(0,1,0);\\nvec3 normalizedNormal=normalize(normal);\\nnormalizedNormal*=normalizedNormal;\\nvec3 worldBinormal=normalize(xbin*normalizedNormal.x+ybin*normalizedNormal.y+zbin*normalizedNormal.z);\\nvec3 worldTangent=normalize(xtan*normalizedNormal.x+ytan*normalizedNormal.y+ztan*normalizedNormal.z);\\nworldTangent=(world*vec4(worldTangent,1.0)).xyz;\\nworldBinormal=(world*vec4(worldBinormal,1.0)).xyz;\\nvec3 worldNormal=(world*vec4(normalize(normal),1.0)).xyz;\\ntangentSpace[0]=worldTangent;\\ntangentSpace[1]=worldBinormal;\\ntangentSpace[2]=worldNormal;\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\n}\\n\";r.Effect.ShadersStore.triplanarVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.DIFFUSEX=!1,t.DIFFUSEY=!1,t.DIFFUSEZ=!1,t.BUMPX=!1,t.BUMPY=!1,t.BUMPZ=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.NORMAL=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.tileSize=1,n.diffuseColor=new r.Color3(1,1,1),n.specularColor=new r.Color3(.2,.2,.2),n.specularPower=64,n._disableLighting=!1,n._maxSimultaneousLights=4,n}return Object(n.b)(t,e),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&o.texturesEnabled){if(r.MaterialFlags.DiffuseTextureEnabled)for(var f=[this.diffuseTextureX,this.diffuseTextureY,this.diffuseTextureZ],l=[\"DIFFUSEX\",\"DIFFUSEY\",\"DIFFUSEZ\"],u=0;u<f.length;u++)if(f[u]){if(!f[u].isReady())return!1;n[l[u]]=!0}if(r.MaterialFlags.BumpTextureEnabled)for(f=[this.normalTextureX,this.normalTextureY,this.normalTextureZ],l=[\"BUMPX\",\"BUMPY\",\"BUMPZ\"],u=0;u<f.length;u++)if(f[u]){if(!f[u].isReady())return!1;n[l[u]]=!0}}if(r.MaterialHelper.PrepareDefinesForMisc(e,o,!1,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!1,this._maxSimultaneousLights,this._disableLighting),r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var c=new r.EffectFallbacks;n.FOG&&c.addFallback(1,\"FOG\"),r.MaterialHelper.HandleFallbacksForShadows(n,c,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&c.addCPUSkinningFallback(0,e),n.IMAGEPROCESSINGPOSTPROCESS=o.imageProcessingConfiguration.applyByPostProcess;var d=[r.VertexBuffer.PositionKind];n.NORMAL&&d.push(r.VertexBuffer.NormalKind),n.VERTEXCOLOR&&d.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(d,e,n,c),r.MaterialHelper.PrepareAttributesForInstances(d,n);var p=n.toString(),h=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"tileSize\"],v=[\"diffuseSamplerX\",\"diffuseSamplerY\",\"diffuseSamplerZ\",\"normalSamplerX\",\"normalSamplerY\",\"normalSamplerZ\"],m=new Array;r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:h,uniformBuffersNames:m,samplers:v,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"triplanar\",{attributes:d,uniformsNames:h,uniformBuffersNames:m,samplers:v,defines:p,fallbacks:c,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this.maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;a&&(this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._activeEffect.setFloat(\"tileSize\",this.tileSize),n.getCachedMaterial()!==this&&(this.diffuseTextureX&&this._activeEffect.setTexture(\"diffuseSamplerX\",this.diffuseTextureX),this.diffuseTextureY&&this._activeEffect.setTexture(\"diffuseSamplerY\",this.diffuseTextureY),this.diffuseTextureZ&&this._activeEffect.setTexture(\"diffuseSamplerZ\",this.diffuseTextureZ),this.normalTextureX&&this._activeEffect.setTexture(\"normalSamplerX\",this.normalTextureX),this.normalTextureY&&this._activeEffect.setTexture(\"normalSamplerY\",this.normalTextureY),this.normalTextureZ&&this._activeEffect.setTexture(\"normalSamplerZ\",this.normalTextureZ),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),this._afterBind(t,this._activeEffect))}},t.prototype.getAnimatables=function(){var e=[];return this.mixTexture&&this.mixTexture.animations&&this.mixTexture.animations.length>0&&e.push(this.mixTexture),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTextureX&&t.push(this._diffuseTextureX),this._diffuseTextureY&&t.push(this._diffuseTextureY),this._diffuseTextureZ&&t.push(this._diffuseTextureZ),this._normalTextureX&&t.push(this._normalTextureX),this._normalTextureY&&t.push(this._normalTextureY),this._normalTextureZ&&t.push(this._normalTextureZ),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._diffuseTextureX===t||(this._diffuseTextureY===t||(this._diffuseTextureZ===t||(this._normalTextureX===t||(this._normalTextureY===t||this._normalTextureZ===t)))))},t.prototype.dispose=function(t){this.mixTexture&&this.mixTexture.dispose(),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);return e.customType=\"BABYLON.TriPlanarMaterial\",e},t.prototype.getClassName=function(){return\"TriPlanarMaterial\"},t.Parse=function(e,i,n){return r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n)},Object(n.a)([Object(r.serializeAsTexture)()],t.prototype,\"mixTexture\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureX\")],t.prototype,\"_diffuseTextureX\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureX\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTexturY\")],t.prototype,\"_diffuseTextureY\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureY\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"diffuseTextureZ\")],t.prototype,\"_diffuseTextureZ\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"diffuseTextureZ\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureX\")],t.prototype,\"_normalTextureX\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureX\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureY\")],t.prototype,\"_normalTextureY\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureY\",void 0),Object(n.a)([Object(r.serializeAsTexture)(\"normalTextureZ\")],t.prototype,\"_normalTextureZ\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"normalTextureZ\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"tileSize\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.TriPlanarMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"WaterMaterial\",(function(){return f}));var n=i(1),r=i(0),o=\"#ifdef LOGARITHMICDEPTH\\n#extension GL_EXT_frag_depth : enable\\n#endif\\nprecision highp float;\\n\\nuniform vec3 vEyePosition;\\nuniform vec4 vDiffuseColor;\\n#ifdef SPECULARTERM\\nuniform vec4 vSpecularColor;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n\\n#include<helperFunctions>\\n#include<imageProcessingDeclaration>\\n#include<imageProcessingFunctions>\\n\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<lightsFragmentFunctions>\\n#include<shadowsFragmentFunctions>\\n\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\nvarying vec2 vNormalUV2;\\nuniform sampler2D normalSampler;\\nuniform vec2 vNormalInfos;\\n#endif\\nuniform sampler2D refractionSampler;\\nuniform sampler2D reflectionSampler;\\n\\nconst float LOG2=1.442695;\\nuniform vec3 cameraPosition;\\nuniform vec4 waterColor;\\nuniform float colorBlendFactor;\\nuniform vec4 waterColor2;\\nuniform float colorBlendFactor2;\\nuniform float bumpHeight;\\nuniform float time;\\n\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvarying vec3 vPosition;\\n#include<clipPlaneFragmentDeclaration>\\n#include<logDepthDeclaration>\\n\\n#include<fogFragmentDeclaration>\\nvoid main(void) {\\n\\n#include<clipPlaneFragment>\\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\\n\\nvec4 baseColor=vec4(1.,1.,1.,1.);\\nvec3 diffuseColor=vDiffuseColor.rgb;\\n\\nfloat alpha=vDiffuseColor.a;\\n#ifdef BUMP\\n#ifdef BUMPSUPERIMPOSE\\nbaseColor=0.6*texture2D(normalSampler,vNormalUV)+0.4*texture2D(normalSampler,vec2(vNormalUV2.x,vNormalUV2.y));\\n#else\\nbaseColor=texture2D(normalSampler,vNormalUV);\\n#endif\\nvec3 bumpColor=baseColor.rgb;\\n#ifdef ALPHATEST\\nif (baseColor.a<0.4)\\ndiscard;\\n#endif\\nbaseColor.rgb*=vNormalInfos.y;\\n#else\\nvec3 bumpColor=vec3(1.0);\\n#endif\\n#ifdef VERTEXCOLOR\\nbaseColor.rgb*=vColor.rgb;\\n#endif\\n\\n#ifdef NORMAL\\nvec2 perturbation=bumpHeight*(baseColor.rg-0.5);\\n#ifdef BUMPAFFECTSREFLECTION\\nvec3 normalW=normalize(vNormalW+vec3(perturbation.x*8.0,0.0,perturbation.y*8.0));\\nif (normalW.y<0.0) {\\nnormalW.y=-normalW.y;\\n}\\n#else\\nvec3 normalW=normalize(vNormalW);\\n#endif\\n#else\\nvec3 normalW=vec3(1.0,1.0,1.0);\\nvec2 perturbation=bumpHeight*(vec2(1.0,1.0)-0.5);\\n#endif\\n#ifdef FRESNELSEPARATE\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation*0.5,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vec2(\\nvReflectionMapTexCoord.x/vReflectionMapTexCoord.z+perturbation.x*0.3,\\nvReflectionMapTexCoord.y/vReflectionMapTexCoord.z+perturbation.y\\n),0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=clamp(abs(pow(dot(viewDirectionW,upVector),3.0)),0.05,0.65);\\nfloat IfresnelTerm=1.0-fresnelTerm;\\nrefractiveColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*refractiveColor;\\nreflectiveColor=IfresnelTerm*colorBlendFactor2*waterColor+(1.0-colorBlendFactor2*IfresnelTerm)*reflectiveColor;\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*IfresnelTerm;\\nbaseColor=combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#else\\n#ifdef REFLECTION\\n\\nvec2 projectedRefractionTexCoords=clamp(vRefractionMapTexCoord.xy/vRefractionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 refractiveColor=texture2D(refractionSampler,projectedRefractionTexCoords);\\n#ifdef IS_REFRACTION_LINEAR\\nrefractiveColor.rgb=toGammaSpace(refractiveColor.rgb);\\n#endif\\nvec2 projectedReflectionTexCoords=clamp(vReflectionMapTexCoord.xy/vReflectionMapTexCoord.z+perturbation,0.0,1.0);\\nvec4 reflectiveColor=texture2D(reflectionSampler,projectedReflectionTexCoords);\\n#ifdef IS_REFLECTION_LINEAR\\nreflectiveColor.rgb=toGammaSpace(reflectiveColor.rgb);\\n#endif\\nvec3 upVector=vec3(0.0,1.0,0.0);\\nfloat fresnelTerm=max(dot(viewDirectionW,upVector),0.0);\\nvec4 combinedColor=refractiveColor*fresnelTerm+reflectiveColor*(1.0-fresnelTerm);\\nbaseColor=colorBlendFactor*waterColor+(1.0-colorBlendFactor)*combinedColor;\\n#endif\\n\\nvec3 diffuseBase=vec3(0.,0.,0.);\\nlightingInfo info;\\nfloat shadow=1.;\\n#ifdef SPECULARTERM\\nfloat glossiness=vSpecularColor.a;\\nvec3 specularBase=vec3(0.,0.,0.);\\nvec3 specularColor=vSpecularColor.rgb;\\n#else\\nfloat glossiness=0.;\\n#endif\\n#include<lightFragment>[0..maxSimultaneousLights]\\nvec3 finalDiffuse=clamp(baseColor.rgb,0.0,1.0);\\n#ifdef VERTEXALPHA\\nalpha*=vColor.a;\\n#endif\\n#ifdef SPECULARTERM\\nvec3 finalSpecular=specularBase*specularColor;\\n#else\\nvec3 finalSpecular=vec3(0.0);\\n#endif\\n#endif\\n\\nvec4 color=vec4(finalDiffuse+finalSpecular,alpha);\\n#include<logDepthFragment>\\n#include<fogFragment>\\n\\n\\n#ifdef IMAGEPROCESSINGPOSTPROCESS\\ncolor.rgb=toLinearSpace(color.rgb);\\n#elif defined(IMAGEPROCESSING)\\ncolor.rgb=toLinearSpace(color.rgb);\\ncolor=applyImageProcessing(color);\\n#endif\\ngl_FragColor=color;\\n}\\n\";r.Effect.ShadersStore.waterPixelShader=o;var a=\"precision highp float;\\n\\nattribute vec3 position;\\n#ifdef NORMAL\\nattribute vec3 normal;\\n#endif\\n#ifdef UV1\\nattribute vec2 uv;\\n#endif\\n#ifdef UV2\\nattribute vec2 uv2;\\n#endif\\n#ifdef VERTEXCOLOR\\nattribute vec4 color;\\n#endif\\n#include<bonesDeclaration>\\n\\n#include<instancesDeclaration>\\nuniform mat4 view;\\nuniform mat4 viewProjection;\\n#ifdef BUMP\\nvarying vec2 vNormalUV;\\n#ifdef BUMPSUPERIMPOSE\\nvarying vec2 vNormalUV2;\\n#endif\\nuniform mat4 normalMatrix;\\nuniform vec2 vNormalInfos;\\n#endif\\n#ifdef POINTSIZE\\nuniform float pointSize;\\n#endif\\n\\nvarying vec3 vPositionW;\\n#ifdef NORMAL\\nvarying vec3 vNormalW;\\n#endif\\n#ifdef VERTEXCOLOR\\nvarying vec4 vColor;\\n#endif\\n#include<clipPlaneVertexDeclaration>\\n#include<fogVertexDeclaration>\\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\\n#include<logDepthDeclaration>\\n\\nuniform mat4 worldReflectionViewProjection;\\nuniform vec2 windDirection;\\nuniform float waveLength;\\nuniform float time;\\nuniform float windForce;\\nuniform float waveHeight;\\nuniform float waveSpeed;\\nuniform float waveCount;\\n\\nvarying vec3 vPosition;\\nvarying vec3 vRefractionMapTexCoord;\\nvarying vec3 vReflectionMapTexCoord;\\nvoid main(void) {\\n#include<instancesVertex>\\n#include<bonesVertex>\\nvec4 worldPos=finalWorld*vec4(position,1.0);\\nvPositionW=vec3(worldPos);\\n#ifdef NORMAL\\nvNormalW=normalize(vec3(finalWorld*vec4(normal,0.0)));\\n#endif\\n\\n#ifndef UV1\\nvec2 uv=vec2(0.,0.);\\n#endif\\n#ifndef UV2\\nvec2 uv2=vec2(0.,0.);\\n#endif\\n#ifdef BUMP\\nif (vNormalInfos.x == 0.)\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv*1.0)/waveLength+time*windForce*windDirection,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv*0.721)/waveLength+time*1.2*windForce*windDirection,1.0,0.0));\\n#endif\\n}\\nelse\\n{\\nvNormalUV=vec2(normalMatrix*vec4((uv2*1.0)/waveLength+time*windForce*windDirection ,1.0,0.0));\\n#ifdef BUMPSUPERIMPOSE\\nvNormalUV2=vec2(normalMatrix*vec4((uv2*0.721)/waveLength+time*1.2*windForce*windDirection ,1.0,0.0));\\n#endif\\n}\\n#endif\\n\\n#include<clipPlaneVertex>\\n\\n#include<fogVertex>\\n\\n#include<shadowsVertex>[0..maxSimultaneousLights]\\n\\n#ifdef VERTEXCOLOR\\nvColor=color;\\n#endif\\n\\n#ifdef POINTSIZE\\ngl_PointSize=pointSize;\\n#endif\\nfloat finalWaveCount=1.0/(waveCount*0.5);\\nvec3 p=position;\\nfloat newY=(sin(((p.x/finalWaveCount)+time*waveSpeed))*waveHeight*windDirection.x*5.0)\\n+(cos(((p.z/finalWaveCount)+time*waveSpeed))*waveHeight*windDirection.y*5.0);\\np.y+=abs(newY);\\ngl_Position=viewProjection*finalWorld*vec4(p,1.0);\\n#ifdef REFLECTION\\nworldPos=viewProjection*finalWorld*vec4(p,1.0);\\n\\nvPosition=position;\\nvRefractionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvRefractionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvRefractionMapTexCoord.z=worldPos.w;\\nworldPos=worldReflectionViewProjection*vec4(position,1.0);\\nvReflectionMapTexCoord.x=0.5*(worldPos.w+worldPos.x);\\nvReflectionMapTexCoord.y=0.5*(worldPos.w+worldPos.y);\\nvReflectionMapTexCoord.z=worldPos.w;\\n#endif\\n#include<logDepthVertex>\\n}\\n\";r.Effect.ShadersStore.waterVertexShader=a;var s=function(e){function t(){var t=e.call(this)||this;return t.BUMP=!1,t.REFLECTION=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.POINTSIZE=!1,t.FOG=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.INSTANCES=!1,t.SPECULARTERM=!1,t.LOGARITHMICDEPTH=!1,t.FRESNELSEPARATE=!1,t.BUMPSUPERIMPOSE=!1,t.BUMPAFFECTSREFLECTION=!1,t.IMAGEPROCESSING=!1,t.VIGNETTE=!1,t.VIGNETTEBLENDMODEMULTIPLY=!1,t.VIGNETTEBLENDMODEOPAQUE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.EXPOSURE=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=!1,t.SAMPLER3DBGRMAP=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.rebuild(),t}return Object(n.b)(t,e),t}(r.MaterialDefines),f=function(e){function t(t,i,n){void 0===n&&(n=new r.Vector2(512,512));var o=e.call(this,t,i)||this;return o.renderTargetSize=n,o.diffuseColor=new r.Color3(1,1,1),o.specularColor=new r.Color3(0,0,0),o.specularPower=64,o._disableLighting=!1,o._maxSimultaneousLights=4,o.windForce=6,o.windDirection=new r.Vector2(0,1),o.waveHeight=.4,o.bumpHeight=.4,o._bumpSuperimpose=!1,o._fresnelSeparate=!1,o._bumpAffectsReflection=!1,o.waterColor=new r.Color3(.1,.1,.6),o.colorBlendFactor=.2,o.waterColor2=new r.Color3(.1,.1,.6),o.colorBlendFactor2=.2,o.waveLength=.1,o.waveSpeed=1,o.waveCount=20,o.disableClipPlane=!1,o._renderTargets=new r.SmartArray(16),o._mesh=null,o._reflectionTransform=r.Matrix.Zero(),o._lastTime=0,o._lastDeltaTime=0,o._createRenderTargets(i,n),o.getRenderTargetTextures=function(){return o._renderTargets.reset(),o._renderTargets.push(o._reflectionRTT),o._renderTargets.push(o._refractionRTT),o._renderTargets},o._imageProcessingConfiguration=o.getScene().imageProcessingConfiguration,o._imageProcessingConfiguration&&(o._imageProcessingObserver=o._imageProcessingConfiguration.onUpdateParameters.add((function(){o._markAllSubMeshesAsImageProcessingDirty()}))),o}return Object(n.b)(t,e),Object.defineProperty(t.prototype,\"hasRenderTargetTextures\",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"useLogarithmicDepth\",{get:function(){return this._useLogarithmicDepth},set:function(e){this._useLogarithmicDepth=e&&this.getScene().getEngine().getCaps().fragmentDepthSupported,this._markAllSubMeshesAsMiscDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"refractionTexture\",{get:function(){return this._refractionRTT},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"reflectionTexture\",{get:function(){return this._reflectionRTT},enumerable:!1,configurable:!0}),t.prototype.addToRenderList=function(e){this._refractionRTT&&this._refractionRTT.renderList&&this._refractionRTT.renderList.push(e),this._reflectionRTT&&this._reflectionRTT.renderList&&this._reflectionRTT.renderList.push(e)},t.prototype.enableRenderTargets=function(e){var t=e?1:0;this._refractionRTT&&(this._refractionRTT.refreshRate=t),this._reflectionRTT&&(this._reflectionRTT.refreshRate=t)},t.prototype.getRenderList=function(){return this._refractionRTT?this._refractionRTT.renderList:[]},Object.defineProperty(t.prototype,\"renderTargetsEnabled\",{get:function(){return!(this._refractionRTT&&0===this._refractionRTT.refreshRate)},enumerable:!1,configurable:!0}),t.prototype.needAlphaBlending=function(){return this.alpha<1},t.prototype.needAlphaTesting=function(){return!1},t.prototype.getAlphaTestTexture=function(){return null},t.prototype.isReadyForSubMesh=function(e,t,i){if(this.isFrozen&&t.effect&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new s);var n=t._materialDefines,o=this.getScene();if(this._isReadyForSubMesh(t))return!0;var a=o.getEngine();if(n._areTexturesDirty&&(n._needUVs=!1,o.texturesEnabled)){if(this.bumpTexture&&r.MaterialFlags.BumpTextureEnabled){if(!this.bumpTexture.isReady())return!1;n._needUVs=!0,n.BUMP=!0}r.MaterialFlags.ReflectionTextureEnabled&&(n.REFLECTION=!0)}if(r.MaterialHelper.PrepareDefinesForFrameBoundValues(o,a,n,!!i),r.MaterialHelper.PrepareDefinesForMisc(e,o,this._useLogarithmicDepth,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e),n),n._areMiscDirty&&(this._fresnelSeparate&&(n.FRESNELSEPARATE=!0),this._bumpSuperimpose&&(n.BUMPSUPERIMPOSE=!0),this._bumpAffectsReflection&&(n.BUMPAFFECTSREFLECTION=!0)),n._needNormals=r.MaterialHelper.PrepareDefinesForLights(o,e,n,!0,this._maxSimultaneousLights,this._disableLighting),n._areImageProcessingDirty&&this._imageProcessingConfiguration){if(!this._imageProcessingConfiguration.isReady())return!1;this._imageProcessingConfiguration.prepareDefines(n),n.IS_REFLECTION_LINEAR=null!=this.reflectionTexture&&!this.reflectionTexture.gammaSpace,n.IS_REFRACTION_LINEAR=null!=this.refractionTexture&&!this.refractionTexture.gammaSpace}if(r.MaterialHelper.PrepareDefinesForAttributes(e,n,!0,!0),this._mesh=e,this._waitingRenderList){for(var f=0;f<this._waitingRenderList.length;f++)this.addToRenderList(o.getNodeByID(this._waitingRenderList[f]));this._waitingRenderList=null}if(n.isDirty){n.markAsProcessed(),o.resetCachedMaterial();var l=new r.EffectFallbacks;n.FOG&&l.addFallback(1,\"FOG\"),n.LOGARITHMICDEPTH&&l.addFallback(0,\"LOGARITHMICDEPTH\"),r.MaterialHelper.HandleFallbacksForShadows(n,l,this.maxSimultaneousLights),n.NUM_BONE_INFLUENCERS>0&&l.addCPUSkinningFallback(0,e);var u=[r.VertexBuffer.PositionKind];n.NORMAL&&u.push(r.VertexBuffer.NormalKind),n.UV1&&u.push(r.VertexBuffer.UVKind),n.UV2&&u.push(r.VertexBuffer.UV2Kind),n.VERTEXCOLOR&&u.push(r.VertexBuffer.ColorKind),r.MaterialHelper.PrepareAttributesForBones(u,e,n,l),r.MaterialHelper.PrepareAttributesForInstances(u,n);var c=n.toString(),d=[\"world\",\"view\",\"viewProjection\",\"vEyePosition\",\"vLightsType\",\"vDiffuseColor\",\"vSpecularColor\",\"vFogInfos\",\"vFogColor\",\"pointSize\",\"vNormalInfos\",\"mBones\",\"vClipPlane\",\"vClipPlane2\",\"vClipPlane3\",\"vClipPlane4\",\"vClipPlane5\",\"vClipPlane6\",\"normalMatrix\",\"logarithmicDepthConstant\",\"worldReflectionViewProjection\",\"windDirection\",\"waveLength\",\"time\",\"windForce\",\"cameraPosition\",\"bumpHeight\",\"waveHeight\",\"waterColor\",\"waterColor2\",\"colorBlendFactor\",\"colorBlendFactor2\",\"waveSpeed\",\"waveCount\"],p=[\"normalSampler\",\"refractionSampler\",\"reflectionSampler\"],h=new Array;r.ImageProcessingConfiguration&&(r.ImageProcessingConfiguration.PrepareUniforms(d,n),r.ImageProcessingConfiguration.PrepareSamplers(p,n)),r.MaterialHelper.PrepareUniformsAndSamplersList({uniformsNames:d,uniformBuffersNames:h,samplers:p,defines:n,maxSimultaneousLights:this.maxSimultaneousLights}),t.setEffect(o.getEngine().createEffect(\"water\",{attributes:u,uniformsNames:d,uniformBuffersNames:h,samplers:p,defines:c,fallbacks:l,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights}},a),n)}return!(!t.effect||!t.effect.isReady())&&(n._renderId=o.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),o=i._materialDefines;if(o){var a=i.effect;if(a&&this._mesh){this._activeEffect=a,this.bindOnlyWorldMatrix(e),this._activeEffect.setMatrix(\"viewProjection\",n.getTransformMatrix()),r.MaterialHelper.BindBonesParameters(t,this._activeEffect),this._mustRebind(n,a)&&(this.bumpTexture&&r.MaterialFlags.BumpTextureEnabled&&(this._activeEffect.setTexture(\"normalSampler\",this.bumpTexture),this._activeEffect.setFloat2(\"vNormalInfos\",this.bumpTexture.coordinatesIndex,this.bumpTexture.level),this._activeEffect.setMatrix(\"normalMatrix\",this.bumpTexture.getTextureMatrix())),r.MaterialHelper.BindClipPlane(this._activeEffect,n),this.pointsCloud&&this._activeEffect.setFloat(\"pointSize\",this.pointSize),r.MaterialHelper.BindEyePosition(a,n)),this._activeEffect.setColor4(\"vDiffuseColor\",this.diffuseColor,this.alpha*t.visibility),o.SPECULARTERM&&this._activeEffect.setColor4(\"vSpecularColor\",this.specularColor,this.specularPower),n.lightsEnabled&&!this.disableLighting&&r.MaterialHelper.BindLights(n,t,this._activeEffect,o,this.maxSimultaneousLights),n.fogEnabled&&t.applyFog&&n.fogMode!==r.Scene.FOGMODE_NONE&&this._activeEffect.setMatrix(\"view\",n.getViewMatrix()),r.MaterialHelper.BindFogParameters(n,t,this._activeEffect),r.MaterialHelper.BindLogDepth(o,this._activeEffect,n),r.MaterialFlags.ReflectionTextureEnabled&&(this._activeEffect.setTexture(\"refractionSampler\",this._refractionRTT),this._activeEffect.setTexture(\"reflectionSampler\",this._reflectionRTT));var s=this._mesh.getWorldMatrix().multiply(this._reflectionTransform).multiply(n.getProjectionMatrix()),f=n.getEngine().getDeltaTime();f!==this._lastDeltaTime&&(this._lastDeltaTime=f,this._lastTime+=this._lastDeltaTime),this._activeEffect.setMatrix(\"worldReflectionViewProjection\",s),this._activeEffect.setVector2(\"windDirection\",this.windDirection),this._activeEffect.setFloat(\"waveLength\",this.waveLength),this._activeEffect.setFloat(\"time\",this._lastTime/1e5),this._activeEffect.setFloat(\"windForce\",this.windForce),this._activeEffect.setFloat(\"waveHeight\",this.waveHeight),this._activeEffect.setFloat(\"bumpHeight\",this.bumpHeight),this._activeEffect.setColor4(\"waterColor\",this.waterColor,1),this._activeEffect.setFloat(\"colorBlendFactor\",this.colorBlendFactor),this._activeEffect.setColor4(\"waterColor2\",this.waterColor2,1),this._activeEffect.setFloat(\"colorBlendFactor2\",this.colorBlendFactor2),this._activeEffect.setFloat(\"waveSpeed\",this.waveSpeed),this._activeEffect.setFloat(\"waveCount\",this.waveCount),this._imageProcessingConfiguration&&!this._imageProcessingConfiguration.applyByPostProcess&&this._imageProcessingConfiguration.bind(this._activeEffect),this._afterBind(t,this._activeEffect)}}},t.prototype._createRenderTargets=function(e,t){var i,n=this;this._refractionRTT=new r.RenderTargetTexture(name+\"_refraction\",{width:t.x,height:t.y},e,!1,!0),this._refractionRTT.wrapU=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._refractionRTT.wrapV=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._refractionRTT.ignoreCameraViewport=!0,this._reflectionRTT=new r.RenderTargetTexture(name+\"_reflection\",{width:t.x,height:t.y},e,!1,!0),this._reflectionRTT.wrapU=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._reflectionRTT.wrapV=r.Constants.TEXTURE_MIRROR_ADDRESSMODE,this._reflectionRTT.ignoreCameraViewport=!0;var o,a=null,s=r.Matrix.Zero();this._refractionRTT.onBeforeRender=function(){if(n._mesh&&(i=n._mesh.isVisible,n._mesh.isVisible=!1),!n.disableClipPlane){a=e.clipPlane;var t=n._mesh?n._mesh.position.y:0;e.clipPlane=r.Plane.FromPositionAndNormal(new r.Vector3(0,t+.05,0),new r.Vector3(0,1,0))}},this._refractionRTT.onAfterRender=function(){n._mesh&&(n._mesh.isVisible=i),n.disableClipPlane||(e.clipPlane=a)},this._reflectionRTT.onBeforeRender=function(){if(n._mesh&&(i=n._mesh.isVisible,n._mesh.isVisible=!1),!n.disableClipPlane){a=e.clipPlane;var t=n._mesh?n._mesh.position.y:0;e.clipPlane=r.Plane.FromPositionAndNormal(new r.Vector3(0,t-.05,0),new r.Vector3(0,-1,0)),r.Matrix.ReflectionToRef(e.clipPlane,s)}o=e.getViewMatrix(),s.multiplyToRef(o,n._reflectionTransform),e.setTransformMatrix(n._reflectionTransform,e.getProjectionMatrix()),e.getEngine().cullBackFaces=!1,e._mirroredCameraPosition=r.Vector3.TransformCoordinates(e.activeCamera.position,s)},this._reflectionRTT.onAfterRender=function(){n._mesh&&(n._mesh.isVisible=i),e.clipPlane=a,e.setTransformMatrix(o,e.getProjectionMatrix()),e.getEngine().cullBackFaces=!0,e._mirroredCameraPosition=null}},t.prototype.getAnimatables=function(){var e=[];return this.bumpTexture&&this.bumpTexture.animations&&this.bumpTexture.animations.length>0&&e.push(this.bumpTexture),this._reflectionRTT&&this._reflectionRTT.animations&&this._reflectionRTT.animations.length>0&&e.push(this._reflectionRTT),this._refractionRTT&&this._refractionRTT.animations&&this._refractionRTT.animations.length>0&&e.push(this._refractionRTT),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._bumpTexture&&t.push(this._bumpTexture),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||this._bumpTexture===t},t.prototype.dispose=function(t){this.bumpTexture&&this.bumpTexture.dispose();var i=this.getScene().customRenderTargets.indexOf(this._refractionRTT);-1!=i&&this.getScene().customRenderTargets.splice(i,1),i=-1,-1!=(i=this.getScene().customRenderTargets.indexOf(this._reflectionRTT))&&this.getScene().customRenderTargets.splice(i,1),this._reflectionRTT&&this._reflectionRTT.dispose(),this._refractionRTT&&this._refractionRTT.dispose(),this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e){var i=this;return r.SerializationHelper.Clone((function(){return new t(e,i.getScene())}),this)},t.prototype.serialize=function(){var e=r.SerializationHelper.Serialize(this);if(e.customType=\"BABYLON.WaterMaterial\",e.renderList=[],this._refractionRTT&&this._refractionRTT.renderList)for(var t=0;t<this._refractionRTT.renderList.length;t++)e.renderList.push(this._refractionRTT.renderList[t].id);return e},t.prototype.getClassName=function(){return\"WaterMaterial\"},t.Parse=function(e,i,n){var o=r.SerializationHelper.Parse((function(){return new t(e.name,i)}),e,i,n);return o._waitingRenderList=e.renderList,o},t.CreateDefaultMesh=function(e,t){return r.Mesh.CreateGround(e,512,512,32,t,!1)},Object(n.a)([Object(r.serializeAsTexture)(\"bumpTexture\")],t.prototype,\"_bumpTexture\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsTexturesDirty\")],t.prototype,\"bumpTexture\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"diffuseColor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"specularColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"specularPower\",void 0),Object(n.a)([Object(r.serialize)(\"disableLighting\")],t.prototype,\"_disableLighting\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"disableLighting\",void 0),Object(n.a)([Object(r.serialize)(\"maxSimultaneousLights\")],t.prototype,\"_maxSimultaneousLights\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsLightsDirty\")],t.prototype,\"maxSimultaneousLights\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"windForce\",void 0),Object(n.a)([Object(r.serializeAsVector2)()],t.prototype,\"windDirection\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveHeight\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"bumpHeight\",void 0),Object(n.a)([Object(r.serialize)(\"bumpSuperimpose\")],t.prototype,\"_bumpSuperimpose\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"bumpSuperimpose\",void 0),Object(n.a)([Object(r.serialize)(\"fresnelSeparate\")],t.prototype,\"_fresnelSeparate\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"fresnelSeparate\",void 0),Object(n.a)([Object(r.serialize)(\"bumpAffectsReflection\")],t.prototype,\"_bumpAffectsReflection\",void 0),Object(n.a)([Object(r.expandToProperty)(\"_markAllSubMeshesAsMiscDirty\")],t.prototype,\"bumpAffectsReflection\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"waterColor\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"colorBlendFactor\",void 0),Object(n.a)([Object(r.serializeAsColor3)()],t.prototype,\"waterColor2\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"colorBlendFactor2\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveLength\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveSpeed\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"waveCount\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"disableClipPlane\",void 0),Object(n.a)([Object(r.serialize)()],t.prototype,\"useLogarithmicDepth\",null),t}(r.PushMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.WaterMaterial\"]=f},function(e,t,i){\"use strict\";i.r(t),i.d(t,\"CustomShaderStructure\",(function(){return o})),i.d(t,\"ShaderSpecialParts\",(function(){return a})),i.d(t,\"CustomMaterial\",(function(){return s})),i.d(t,\"ShaderAlebdoParts\",(function(){return f})),i.d(t,\"PBRCustomMaterial\",(function(){return l}));var n=i(1),r=i(0),o=function(){},a=function(){},s=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.CustomParts=new a,n.customShaderNameResolve=n.Builder,n.FragmentShader=r.Effect.ShadersStore.defaultPixelShader,n.VertexShader=r.Effect.ShadersStore.defaultVertexShader,n}return Object(n.b)(t,e),t.prototype.AttachAfterBind=function(e,t){if(this._newUniformInstances)for(var i in this._newUniformInstances){\"vec2\"==(n=i.toString().split(\"-\"))[0]?t.setVector2(n[1],this._newUniformInstances[i]):\"vec3\"==n[0]?t.setVector3(n[1],this._newUniformInstances[i]):\"vec4\"==n[0]?t.setVector4(n[1],this._newUniformInstances[i]):\"mat4\"==n[0]?t.setMatrix(n[1],this._newUniformInstances[i]):\"float\"==n[0]&&t.setFloat(n[1],this._newUniformInstances[i])}if(this._newSamplerInstances)for(var i in this._newSamplerInstances){var n;\"sampler2D\"==(n=i.toString().split(\"-\"))[0]&&this._newSamplerInstances[i].isReady&&this._newSamplerInstances[i].isReady()&&t.setTexture(n[1],this._newSamplerInstances[i])}},t.prototype.ReviewUniform=function(e,t){if(\"uniform\"==e&&this._newUniforms)for(var i=0;i<this._newUniforms.length;i++)-1==this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);if(\"sampler\"==e&&this._newUniforms)for(i=0;i<this._newUniforms.length;i++)-1!=this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);return t},t.prototype.Builder=function(e,i,n,o,a,s){var f=this;if(s&&this._customAttributes&&this._customAttributes.length>0&&s.push.apply(s,this._customAttributes),this.ReviewUniform(\"uniform\",i),this.ReviewUniform(\"sampler\",o),this._isCreatedShader)return this._createdShaderName;this._isCreatedShader=!1,t.ShaderIndexer++;var l=\"custom_\"+t.ShaderIndexer,u=this._afterBind.bind(this);return this._afterBind=function(e,t){if(t){f.AttachAfterBind(e,t);try{u(e,t)}catch(t){}}},r.Effect.ShadersStore[l+\"VertexShader\"]=this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\",this.CustomParts.Vertex_Begin?this.CustomParts.Vertex_Begin:\"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Vertex_Definitions?this.CustomParts.Vertex_Definitions:\"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\",this.CustomParts.Vertex_MainBegin?this.CustomParts.Vertex_MainBegin:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\",this.CustomParts.Vertex_Before_PositionUpdated?this.CustomParts.Vertex_Before_PositionUpdated:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\",this.CustomParts.Vertex_Before_NormalUpdated?this.CustomParts.Vertex_Before_NormalUpdated:\"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\",this.CustomParts.Vertex_MainEnd?this.CustomParts.Vertex_MainEnd:\"\"),this.CustomParts.Vertex_After_WorldPosComputed&&(r.Effect.ShadersStore[l+\"VertexShader\"]=r.Effect.ShadersStore[l+\"VertexShader\"].replace(\"#define CUSTOM_VERTEX_UPDATE_WORLDPOS\",this.CustomParts.Vertex_After_WorldPosComputed)),r.Effect.ShadersStore[l+\"PixelShader\"]=this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\",this.CustomParts.Fragment_Begin?this.CustomParts.Fragment_Begin:\"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\",this.CustomParts.Fragment_MainBegin?this.CustomParts.Fragment_MainBegin:\"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Fragment_Definitions?this.CustomParts.Fragment_Definitions:\"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\",this.CustomParts.Fragment_Custom_Diffuse?this.CustomParts.Fragment_Custom_Diffuse:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\",this.CustomParts.Fragment_Custom_Alpha?this.CustomParts.Fragment_Custom_Alpha:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\",this.CustomParts.Fragment_Before_Lights?this.CustomParts.Fragment_Before_Lights:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\",this.CustomParts.Fragment_Before_FragColor?this.CustomParts.Fragment_Before_FragColor:\"\"),this.CustomParts.Fragment_Before_Fog&&(r.Effect.ShadersStore[l+\"PixelShader\"]=r.Effect.ShadersStore[l+\"PixelShader\"].replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\",this.CustomParts.Fragment_Before_Fog)),this._isCreatedShader=!0,this._createdShaderName=l,l},t.prototype.AddUniform=function(e,t,i){return this._customUniform||(this._customUniform=new Array,this._newUniforms=new Array,this._newSamplerInstances={},this._newUniformInstances={}),i&&(-1!=t.indexOf(\"sampler\")?this._newSamplerInstances[t+\"-\"+e]=i:this._newUniformInstances[t+\"-\"+e]=i),this._customUniform.push(\"uniform \"+t+\" \"+e+\";\"),this._newUniforms.push(e),this},t.prototype.AddAttribute=function(e){return this._customAttributes||(this._customAttributes=[]),this._customAttributes.push(e),this},t.prototype.Fragment_Begin=function(e){return this.CustomParts.Fragment_Begin=e,this},t.prototype.Fragment_Definitions=function(e){return this.CustomParts.Fragment_Definitions=e,this},t.prototype.Fragment_MainBegin=function(e){return this.CustomParts.Fragment_MainBegin=e,this},t.prototype.Fragment_Custom_Diffuse=function(e){return this.CustomParts.Fragment_Custom_Diffuse=e.replace(\"result\",\"diffuseColor\"),this},t.prototype.Fragment_Custom_Alpha=function(e){return this.CustomParts.Fragment_Custom_Alpha=e.replace(\"result\",\"alpha\"),this},t.prototype.Fragment_Before_Lights=function(e){return this.CustomParts.Fragment_Before_Lights=e,this},t.prototype.Fragment_Before_Fog=function(e){return this.CustomParts.Fragment_Before_Fog=e,this},t.prototype.Fragment_Before_FragColor=function(e){return this.CustomParts.Fragment_Before_FragColor=e.replace(\"result\",\"color\"),this},t.prototype.Vertex_Begin=function(e){return this.CustomParts.Vertex_Begin=e,this},t.prototype.Vertex_Definitions=function(e){return this.CustomParts.Vertex_Definitions=e,this},t.prototype.Vertex_MainBegin=function(e){return this.CustomParts.Vertex_MainBegin=e,this},t.prototype.Vertex_Before_PositionUpdated=function(e){return this.CustomParts.Vertex_Before_PositionUpdated=e.replace(\"result\",\"positionUpdated\"),this},t.prototype.Vertex_Before_NormalUpdated=function(e){return this.CustomParts.Vertex_Before_NormalUpdated=e.replace(\"result\",\"normalUpdated\"),this},t.prototype.Vertex_After_WorldPosComputed=function(e){return this.CustomParts.Vertex_After_WorldPosComputed=e,this},t.prototype.Vertex_MainEnd=function(e){return this.CustomParts.Vertex_MainEnd=e,this},t.ShaderIndexer=1,t}(r.StandardMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.CustomMaterial\"]=s;var f=function(){},l=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.CustomParts=new f,n.customShaderNameResolve=n.Builder,n.FragmentShader=r.Effect.ShadersStore.pbrPixelShader,n.VertexShader=r.Effect.ShadersStore.pbrVertexShader,n.FragmentShader=n.FragmentShader.replace(/#include<pbrBlockAlbedoOpacity>/g,r.Effect.IncludesShadersStore.pbrBlockAlbedoOpacity),n.FragmentShader=n.FragmentShader.replace(/#include<pbrBlockReflectivity>/g,r.Effect.IncludesShadersStore.pbrBlockReflectivity),n.FragmentShader=n.FragmentShader.replace(/#include<pbrBlockFinalColorComposition>/g,r.Effect.IncludesShadersStore.pbrBlockFinalColorComposition),n}return Object(n.b)(t,e),t.prototype.AttachAfterBind=function(e,t){if(this._newUniformInstances)for(var i in this._newUniformInstances){\"vec2\"==(n=i.toString().split(\"-\"))[0]?t.setVector2(n[1],this._newUniformInstances[i]):\"vec3\"==n[0]?t.setVector3(n[1],this._newUniformInstances[i]):\"vec4\"==n[0]?t.setVector4(n[1],this._newUniformInstances[i]):\"mat4\"==n[0]?t.setMatrix(n[1],this._newUniformInstances[i]):\"float\"==n[0]&&t.setFloat(n[1],this._newUniformInstances[i])}if(this._newSamplerInstances)for(var i in this._newSamplerInstances){var n;\"sampler2D\"==(n=i.toString().split(\"-\"))[0]&&this._newSamplerInstances[i].isReady&&this._newSamplerInstances[i].isReady()&&t.setTexture(n[1],this._newSamplerInstances[i])}},t.prototype.ReviewUniform=function(e,t){if(\"uniform\"==e&&this._newUniforms)for(var i=0;i<this._newUniforms.length;i++)-1==this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);if(\"sampler\"==e&&this._newUniforms)for(i=0;i<this._newUniforms.length;i++)-1!=this._customUniform[i].indexOf(\"sampler\")&&t.push(this._newUniforms[i]);return t},t.prototype.Builder=function(e,i,n,o,a,s){var f=this;if(s&&this._customAttributes&&this._customAttributes.length>0&&s.push.apply(s,this._customAttributes),this.ReviewUniform(\"uniform\",i),this.ReviewUniform(\"sampler\",o),this._isCreatedShader)return this._createdShaderName;this._isCreatedShader=!1,t.ShaderIndexer++;var l=\"custom_\"+t.ShaderIndexer,u=this._afterBind.bind(this);return this._afterBind=function(e,t){if(t){f.AttachAfterBind(e,t);try{u(e,t)}catch(t){}}},r.Effect.ShadersStore[l+\"VertexShader\"]=this.VertexShader.replace(\"#define CUSTOM_VERTEX_BEGIN\",this.CustomParts.Vertex_Begin?this.CustomParts.Vertex_Begin:\"\").replace(\"#define CUSTOM_VERTEX_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Vertex_Definitions?this.CustomParts.Vertex_Definitions:\"\")).replace(\"#define CUSTOM_VERTEX_MAIN_BEGIN\",this.CustomParts.Vertex_MainBegin?this.CustomParts.Vertex_MainBegin:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_POSITION\",this.CustomParts.Vertex_Before_PositionUpdated?this.CustomParts.Vertex_Before_PositionUpdated:\"\").replace(\"#define CUSTOM_VERTEX_UPDATE_NORMAL\",this.CustomParts.Vertex_Before_NormalUpdated?this.CustomParts.Vertex_Before_NormalUpdated:\"\").replace(\"#define CUSTOM_VERTEX_MAIN_END\",this.CustomParts.Vertex_MainEnd?this.CustomParts.Vertex_MainEnd:\"\"),this.CustomParts.Vertex_After_WorldPosComputed&&(r.Effect.ShadersStore[l+\"VertexShader\"]=r.Effect.ShadersStore[l+\"VertexShader\"].replace(\"#define CUSTOM_VERTEX_UPDATE_WORLDPOS\",this.CustomParts.Vertex_After_WorldPosComputed)),r.Effect.ShadersStore[l+\"PixelShader\"]=this.FragmentShader.replace(\"#define CUSTOM_FRAGMENT_BEGIN\",this.CustomParts.Fragment_Begin?this.CustomParts.Fragment_Begin:\"\").replace(\"#define CUSTOM_FRAGMENT_MAIN_BEGIN\",this.CustomParts.Fragment_MainBegin?this.CustomParts.Fragment_MainBegin:\"\").replace(\"#define CUSTOM_FRAGMENT_DEFINITIONS\",(this._customUniform?this._customUniform.join(\"\\n\"):\"\")+(this.CustomParts.Fragment_Definitions?this.CustomParts.Fragment_Definitions:\"\")).replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALBEDO\",this.CustomParts.Fragment_Custom_Albedo?this.CustomParts.Fragment_Custom_Albedo:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_ALPHA\",this.CustomParts.Fragment_Custom_Alpha?this.CustomParts.Fragment_Custom_Alpha:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\",this.CustomParts.Fragment_Before_Lights?this.CustomParts.Fragment_Before_Lights:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_METALLICROUGHNESS\",this.CustomParts.Fragment_Custom_MetallicRoughness?this.CustomParts.Fragment_Custom_MetallicRoughness:\"\").replace(\"#define CUSTOM_FRAGMENT_UPDATE_MICROSURFACE\",this.CustomParts.Fragment_Custom_MicroSurface?this.CustomParts.Fragment_Custom_MicroSurface:\"\").replace(\"#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\",this.CustomParts.Fragment_Before_FragColor?this.CustomParts.Fragment_Before_FragColor:\"\"),this.CustomParts.Fragment_Before_Fog&&(r.Effect.ShadersStore[l+\"PixelShader\"]=r.Effect.ShadersStore[l+\"PixelShader\"].replace(\"#define CUSTOM_FRAGMENT_BEFORE_FOG\",this.CustomParts.Fragment_Before_Fog)),this._isCreatedShader=!0,this._createdShaderName=l,l},t.prototype.AddUniform=function(e,t,i){return this._customUniform||(this._customUniform=new Array,this._newUniforms=new Array,this._newSamplerInstances={},this._newUniformInstances={}),i&&(-1!=t.indexOf(\"sampler\")?this._newSamplerInstances[t+\"-\"+e]=i:this._newUniformInstances[t+\"-\"+e]=i),this._customUniform.push(\"uniform \"+t+\" \"+e+\";\"),this._newUniforms.push(e),this},t.prototype.AddAttribute=function(e){return this._customAttributes||(this._customAttributes=[]),this._customAttributes.push(e),this},t.prototype.Fragment_Begin=function(e){return this.CustomParts.Fragment_Begin=e,this},t.prototype.Fragment_Definitions=function(e){return this.CustomParts.Fragment_Definitions=e,this},t.prototype.Fragment_MainBegin=function(e){return this.CustomParts.Fragment_MainBegin=e,this},t.prototype.Fragment_Custom_Albedo=function(e){return this.CustomParts.Fragment_Custom_Albedo=e.replace(\"result\",\"surfaceAlbedo\"),this},t.prototype.Fragment_Custom_Alpha=function(e){return this.CustomParts.Fragment_Custom_Alpha=e.replace(\"result\",\"alpha\"),this},t.prototype.Fragment_Before_Lights=function(e){return this.CustomParts.Fragment_Before_Lights=e,this},t.prototype.Fragment_Custom_MetallicRoughness=function(e){return this.CustomParts.Fragment_Custom_MetallicRoughness=e,this},t.prototype.Fragment_Custom_MicroSurface=function(e){return this.CustomParts.Fragment_Custom_MicroSurface=e,this},t.prototype.Fragment_Before_Fog=function(e){return this.CustomParts.Fragment_Before_Fog=e,this},t.prototype.Fragment_Before_FragColor=function(e){return this.CustomParts.Fragment_Before_FragColor=e.replace(\"result\",\"color\"),this},t.prototype.Vertex_Begin=function(e){return this.CustomParts.Vertex_Begin=e,this},t.prototype.Vertex_Definitions=function(e){return this.CustomParts.Vertex_Definitions=e,this},t.prototype.Vertex_MainBegin=function(e){return this.CustomParts.Vertex_MainBegin=e,this},t.prototype.Vertex_Before_PositionUpdated=function(e){return this.CustomParts.Vertex_Before_PositionUpdated=e.replace(\"result\",\"positionUpdated\"),this},t.prototype.Vertex_Before_NormalUpdated=function(e){return this.CustomParts.Vertex_Before_NormalUpdated=e.replace(\"result\",\"normalUpdated\"),this},t.prototype.Vertex_After_WorldPosComputed=function(e){return this.CustomParts.Vertex_After_WorldPosComputed=e,this},t.prototype.Vertex_MainEnd=function(e){return this.CustomParts.Vertex_MainEnd=e,this},t.ShaderIndexer=1,t}(r.PBRMaterial);r._TypeStore.RegisteredTypes[\"BABYLON.PBRCustomMaterial\"]=l},function(e,t,i){\"use strict\";i.r(t);var n=i(3);i.d(t,\"CellMaterial\",(function(){return n.CellMaterial}));var r=i(17);i.d(t,\"CustomShaderStructure\",(function(){return r.CustomShaderStructure})),i.d(t,\"ShaderSpecialParts\",(function(){return r.ShaderSpecialParts})),i.d(t,\"CustomMaterial\",(function(){return r.CustomMaterial})),i.d(t,\"ShaderAlebdoParts\",(function(){return r.ShaderAlebdoParts})),i.d(t,\"PBRCustomMaterial\",(function(){return r.PBRCustomMaterial}));var o=i(4);i.d(t,\"FireMaterial\",(function(){return o.FireMaterial}));var a=i(5);i.d(t,\"FurMaterial\",(function(){return a.FurMaterial}));var s=i(6);i.d(t,\"GradientMaterial\",(function(){return s.GradientMaterial}));var f=i(7);i.d(t,\"GridMaterial\",(function(){return f.GridMaterial}));var l=i(8);i.d(t,\"LavaMaterial\",(function(){return l.LavaMaterial}));var u=i(9);i.d(t,\"MixMaterial\",(function(){return u.MixMaterial}));var c=i(10);i.d(t,\"NormalMaterial\",(function(){return c.NormalMaterial}));var d=i(11);i.d(t,\"ShadowOnlyMaterial\",(function(){return d.ShadowOnlyMaterial}));var p=i(12);i.d(t,\"SimpleMaterial\",(function(){return p.SimpleMaterial}));var h=i(13);i.d(t,\"SkyMaterial\",(function(){return h.SkyMaterial}));var v=i(14);i.d(t,\"TerrainMaterial\",(function(){return v.TerrainMaterial}));var m=i(15);i.d(t,\"TriPlanarMaterial\",(function(){return m.TriPlanarMaterial}));var g=i(16);i.d(t,\"WaterMaterial\",(function(){return g.WaterMaterial}))},function(e,t,i){\"use strict\";i.r(t),function(e){var n=i(18);i.d(t,\"CellMaterial\",(function(){return n.CellMaterial})),i.d(t,\"CustomShaderStructure\",(function(){return n.CustomShaderStructure})),i.d(t,\"ShaderSpecialParts\",(function(){return n.ShaderSpecialParts})),i.d(t,\"CustomMaterial\",(function(){return n.CustomMaterial})),i.d(t,\"ShaderAlebdoParts\",(function(){return n.ShaderAlebdoParts})),i.d(t,\"PBRCustomMaterial\",(function(){return n.PBRCustomMaterial})),i.d(t,\"FireMaterial\",(function(){return n.FireMaterial})),i.d(t,\"FurMaterial\",(function(){return n.FurMaterial})),i.d(t,\"GradientMaterial\",(function(){return n.GradientMaterial})),i.d(t,\"GridMaterial\",(function(){return n.GridMaterial})),i.d(t,\"LavaMaterial\",(function(){return n.LavaMaterial})),i.d(t,\"MixMaterial\",(function(){return n.MixMaterial})),i.d(t,\"NormalMaterial\",(function(){return n.NormalMaterial})),i.d(t,\"ShadowOnlyMaterial\",(function(){return n.ShadowOnlyMaterial})),i.d(t,\"SimpleMaterial\",(function(){return n.SimpleMaterial})),i.d(t,\"SkyMaterial\",(function(){return n.SkyMaterial})),i.d(t,\"TerrainMaterial\",(function(){return n.TerrainMaterial})),i.d(t,\"TriPlanarMaterial\",(function(){return n.TriPlanarMaterial})),i.d(t,\"WaterMaterial\",(function(){return n.WaterMaterial}));var r=void 0!==e?e:\"undefined\"!=typeof window?window:void 0;if(void 0!==r)for(var o in r.BABYLON=r.BABYLON||{},n)r.BABYLON[o]=n[o]}.call(this,i(2))}])}));"]},"metadata":{},"sourceType":"script"}