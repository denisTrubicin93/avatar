{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"babylonjs\")) : \"function\" == typeof define && define.amd ? define(\"babylonjs-serializers\", [\"babylonjs\"], t) : \"object\" == typeof exports ? exports[\"babylonjs-serializers\"] = t(require(\"babylonjs\")) : e.SERIALIZERS = t(e.BABYLON);\n}(\"undefined\" != typeof self ? self : \"undefined\" != typeof global ? global : this, function (e) {\n  return function (e) {\n    var t = {};\n\n    function r(n) {\n      if (t[n]) return t[n].exports;\n      var a = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(a.exports, a, a.exports, r), a.l = !0, a.exports;\n    }\n\n    return r.m = e, r.c = t, r.d = function (e, t, n) {\n      r.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, r.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, r.t = function (e, t) {\n      if (1 & t && (e = r(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (r.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var a in e) r.d(n, a, function (t) {\n        return e[t];\n      }.bind(null, a));\n      return n;\n    }, r.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return r.d(t, \"a\", t), t;\n    }, r.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, r.p = \"\", r(r.s = 16);\n  }([function (t, r) {\n    t.exports = e;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.d(t, \"a\", function () {\n      return a;\n    });\n\n    var n = r(0),\n        a = function () {\n      function e() {}\n\n      return e._CreateBufferView = function (e, t, r, n, a) {\n        var o = {\n          buffer: e,\n          byteLength: r\n        };\n        return t && (o.byteOffset = t), a && (o.name = a), n && (o.byteStride = n), o;\n      }, e._CreateAccessor = function (e, t, r, n, a, o, i, s) {\n        var u = {\n          name: t,\n          bufferView: e,\n          componentType: n,\n          count: a,\n          type: r\n        };\n        return null != i && (u.min = i), null != s && (u.max = s), null != o && (u.byteOffset = o), u;\n      }, e._CalculateMinMaxPositions = function (t, r, a, o) {\n        var i,\n            s,\n            u,\n            l = [1 / 0, 1 / 0, 1 / 0],\n            c = [-1 / 0, -1 / 0, -1 / 0];\n        if (a) for (var f = r, h = r + a; f < h; ++f) {\n          i = 3 * f, s = n.Vector3.FromArray(t, i), o && e._GetRightHandedPositionVector3FromRef(s), u = s.asArray();\n\n          for (var p = 0; p < 3; ++p) {\n            var d = u[p];\n            d < l[p] && (l[p] = d), d > c[p] && (c[p] = d), ++i;\n          }\n        }\n        return {\n          min: l,\n          max: c\n        };\n      }, e._GetRightHandedPositionVector3 = function (e) {\n        return new n.Vector3(e.x, e.y, -e.z);\n      }, e._GetRightHandedPositionVector3FromRef = function (e) {\n        e.z *= -1;\n      }, e._GetRightHandedPositionArray3FromRef = function (e) {\n        e[2] *= -1;\n      }, e._GetRightHandedNormalVector3 = function (e) {\n        return new n.Vector3(e.x, e.y, -e.z);\n      }, e._GetRightHandedNormalVector3FromRef = function (e) {\n        e.z *= -1;\n      }, e._GetRightHandedNormalArray3FromRef = function (e) {\n        e[2] *= -1;\n      }, e._GetRightHandedVector4FromRef = function (e) {\n        e.z *= -1, e.w *= -1;\n      }, e._GetRightHandedArray4FromRef = function (e) {\n        e[2] *= -1, e[3] *= -1;\n      }, e._GetRightHandedQuaternionFromRef = function (e) {\n        e.x *= -1, e.y *= -1;\n      }, e._GetRightHandedQuaternionArrayFromRef = function (e) {\n        e[0] *= -1, e[1] *= -1;\n      }, e._NormalizeTangentFromRef = function (e) {\n        var t = Math.sqrt(e.x * e.x + e.y * e.y + e.z * e.z);\n        t > 0 && (e.x /= t, e.y /= t, e.z /= t);\n      }, e._GetRightHandedMatrixFromRef = function (e) {\n        var t = e.m;\n        n.Matrix.FromValuesToRef(t[0], t[1], -t[2], t[3], t[4], t[5], -t[6], t[7], -t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15], e);\n      }, e._GetDataAccessorElementCount = function (e) {\n        switch (e) {\n          case \"MAT2\":\n            return 4;\n\n          case \"MAT3\":\n            return 9;\n\n          case \"MAT4\":\n            return 16;\n\n          case \"SCALAR\":\n            return 1;\n\n          case \"VEC2\":\n            return 2;\n\n          case \"VEC3\":\n            return 3;\n\n          case \"VEC4\":\n            return 4;\n        }\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.d(t, \"b\", function () {\n      return u;\n    }), r.d(t, \"a\", function () {\n      return l;\n    });\n    Object.create;\n    Object.create;\n\n    var n = r(0),\n        a = r(10),\n        o = r(1),\n        i = r(3),\n        s = r(7),\n        u = function () {\n      function e(e, t) {\n        this._includeCoordinateSystemConversionNodes = !1, this._extensions = {}, this._glTF = {\n          asset: {\n            generator: \"BabylonJS\",\n            version: \"2.0\"\n          }\n        }, this._babylonScene = e, this._bufferViews = [], this._accessors = [], this._meshes = [], this._scenes = [], this._nodes = [], this._images = [], this._materials = [], this._materialMap = [], this._textures = [], this._samplers = [], this._skins = [], this._animations = [], this._imageData = {}, this._orderedImageData = [], this._options = t || {}, this._animationSampleRate = t && t.animationSampleRate ? t.animationSampleRate : 1 / 60, this._includeCoordinateSystemConversionNodes = !(!t || !t.includeCoordinateSystemConversionNodes), this._glTFMaterialExporter = new a.a(this), this._loadExtensions();\n      }\n\n      return e.prototype._applyExtension = function (e, t, r, n) {\n        var a = this;\n        if (r >= t.length) return Promise.resolve(e);\n        var o = n(t[r], e);\n        return o ? o.then(function (e) {\n          return a._applyExtension(e, t, r + 1, n);\n        }) : this._applyExtension(e, t, r + 1, n);\n      }, e.prototype._applyExtensions = function (t, r) {\n        for (var n = [], a = 0, o = e._ExtensionNames; a < o.length; a++) {\n          var i = o[a];\n          n.push(this._extensions[i]);\n        }\n\n        return this._applyExtension(t, n, 0, r);\n      }, e.prototype._extensionsPreExportTextureAsync = function (e, t, r) {\n        return this._applyExtensions(t, function (t, n) {\n          return t.preExportTextureAsync && t.preExportTextureAsync(e, n, r);\n        });\n      }, e.prototype._extensionsPostExportMeshPrimitiveAsync = function (e, t, r, n) {\n        return this._applyExtensions(t, function (t, a) {\n          return t.postExportMeshPrimitiveAsync && t.postExportMeshPrimitiveAsync(e, a, r, n);\n        });\n      }, e.prototype._extensionsPostExportNodeAsync = function (e, t, r, n) {\n        return this._applyExtensions(t, function (t, a) {\n          return t.postExportNodeAsync && t.postExportNodeAsync(e, a, r, n);\n        });\n      }, e.prototype._extensionsPostExportMaterialAsync = function (e, t, r) {\n        return this._applyExtensions(t, function (t, n) {\n          return t.postExportMaterialAsync && t.postExportMaterialAsync(e, n, r);\n        });\n      }, e.prototype._extensionsPostExportMaterialAdditionalTextures = function (t, r, n) {\n        for (var a = [], o = 0, i = e._ExtensionNames; o < i.length; o++) {\n          var s = i[o],\n              u = this._extensions[s];\n          u.postExportMaterialAdditionalTextures && a.push.apply(a, u.postExportMaterialAdditionalTextures(t, r, n));\n        }\n\n        return a;\n      }, e.prototype._extensionsPostExportTextures = function (t, r, n) {\n        for (var a = 0, o = e._ExtensionNames; a < o.length; a++) {\n          var i = o[a],\n              s = this._extensions[i];\n          s.postExportTexture && s.postExportTexture(t, r, n);\n        }\n      }, e.prototype._forEachExtensions = function (t) {\n        for (var r = 0, n = e._ExtensionNames; r < n.length; r++) {\n          var a = n[r],\n              o = this._extensions[a];\n          o.enabled && t(o);\n        }\n      }, e.prototype._extensionsOnExporting = function () {\n        var e = this;\n\n        this._forEachExtensions(function (t) {\n          t.wasUsed && (null == e._glTF.extensionsUsed && (e._glTF.extensionsUsed = []), -1 === e._glTF.extensionsUsed.indexOf(t.name) && e._glTF.extensionsUsed.push(t.name), t.required && (null == e._glTF.extensionsRequired && (e._glTF.extensionsRequired = []), -1 === e._glTF.extensionsRequired.indexOf(t.name) && e._glTF.extensionsRequired.push(t.name)), null == e._glTF.extensions && (e._glTF.extensions = {}), t.onExporting && t.onExporting());\n        });\n      }, e.prototype._loadExtensions = function () {\n        for (var t = 0, r = e._ExtensionNames; t < r.length; t++) {\n          var n = r[t],\n              a = e._ExtensionFactories[n](this);\n\n          this._extensions[n] = a;\n        }\n      }, e.prototype.dispose = function () {\n        for (var e in this._extensions) {\n          this._extensions[e].dispose();\n        }\n      }, e.RegisterExtension = function (t, r) {\n        e.UnregisterExtension(t) && n.Tools.Warn(\"Extension with the name \" + t + \" already exists\"), e._ExtensionFactories[t] = r, e._ExtensionNames.push(t);\n      }, e.UnregisterExtension = function (t) {\n        if (!e._ExtensionFactories[t]) return !1;\n        delete e._ExtensionFactories[t];\n\n        var r = e._ExtensionNames.indexOf(t);\n\n        return -1 !== r && e._ExtensionNames.splice(r, 1), !0;\n      }, e.prototype._getLocalEngine = function () {\n        if (!this._localEngine) {\n          var e = document.createElement(\"canvas\");\n          e.id = \"WriteCanvas\", e.width = 2048, e.height = 2048, this._localEngine = new n.Engine(e, !0, {\n            premultipliedAlpha: n.Tools.IsSafari(),\n            preserveDrawingBuffer: !0\n          }), this._localEngine.setViewport(new n.Viewport(0, 0, 1, 1));\n        }\n\n        return this._localEngine;\n      }, e.prototype.reorderIndicesBasedOnPrimitiveMode = function (e, t, r, a, o) {\n        switch (t) {\n          case n.Material.TriangleFillMode:\n            a || (a = 0);\n\n            for (var i = e.indexStart, s = e.indexStart + e.indexCount; i < s; i += 3) {\n              var u = a + 4 * i,\n                  l = o.getUInt32(u + 4),\n                  c = o.getUInt32(u + 8);\n              o.setUInt32(c, u + 4), o.setUInt32(l, u + 8);\n            }\n\n            break;\n\n          case n.Material.TriangleFanDrawMode:\n            i = e.indexStart + e.indexCount - 1;\n\n            for (var f = e.indexStart; i >= f; --i) o.setUInt32(r[i], a), a += 4;\n\n            break;\n\n          case n.Material.TriangleStripDrawMode:\n            e.indexCount >= 3 && (o.setUInt32(r[e.indexStart + 2], a + 4), o.setUInt32(r[e.indexStart + 1], a + 8));\n        }\n      }, e.prototype.reorderVertexAttributeDataBasedOnPrimitiveMode = function (e, t, r, a, o, i, s, u) {\n        if (u && r === n.Material.ClockWiseSideOrientation) switch (t) {\n          case n.Material.TriangleFillMode:\n            this.reorderTriangleFillMode(e, t, r, a, o, i, s, u);\n            break;\n\n          case n.Material.TriangleStripDrawMode:\n            this.reorderTriangleStripDrawMode(e, t, r, a, o, i, s, u);\n            break;\n\n          case n.Material.TriangleFanDrawMode:\n            this.reorderTriangleFanMode(e, t, r, a, o, i, s, u);\n        }\n      }, e.prototype.reorderTriangleFillMode = function (e, t, r, a, o, i, s, u) {\n        var l = this.getVertexBufferFromMesh(a, e.getMesh());\n\n        if (l) {\n          var c = l.byteStride / n.VertexBuffer.GetTypeByteLength(l.type);\n          if (e.verticesCount % 3 != 0) n.Tools.Error(\"The submesh vertices for the triangle fill mode is not divisible by 3!\");else {\n            var f = [],\n                h = 0;\n\n            switch (a) {\n              case n.VertexBuffer.PositionKind:\n              case n.VertexBuffer.NormalKind:\n                for (var p = e.verticesStart; p < e.verticesStart + e.verticesCount; p += 3) h = p * c, f.push(n.Vector3.FromArray(o, h)), f.push(n.Vector3.FromArray(o, h + 2 * c)), f.push(n.Vector3.FromArray(o, h + c));\n\n                break;\n\n              case n.VertexBuffer.TangentKind:\n                for (p = e.verticesStart; p < e.verticesStart + e.verticesCount; p += 3) h = p * c, f.push(n.Vector4.FromArray(o, h)), f.push(n.Vector4.FromArray(o, h + 2 * c)), f.push(n.Vector4.FromArray(o, h + c));\n\n                break;\n\n              case n.VertexBuffer.ColorKind:\n                var d = l.getSize();\n\n                for (p = e.verticesStart; p < e.verticesStart + e.verticesCount; p += d) h = p * c, 4 === d ? (f.push(n.Vector4.FromArray(o, h)), f.push(n.Vector4.FromArray(o, h + 2 * c)), f.push(n.Vector4.FromArray(o, h + c))) : (f.push(n.Vector3.FromArray(o, h)), f.push(n.Vector3.FromArray(o, h + 2 * c)), f.push(n.Vector3.FromArray(o, h + c)));\n\n                break;\n\n              case n.VertexBuffer.UVKind:\n              case n.VertexBuffer.UV2Kind:\n                for (p = e.verticesStart; p < e.verticesStart + e.verticesCount; p += 3) h = p * c, f.push(n.Vector2.FromArray(o, h)), f.push(n.Vector2.FromArray(o, h + 2 * c)), f.push(n.Vector2.FromArray(o, h + c));\n\n                break;\n\n              default:\n                n.Tools.Error(\"Unsupported Vertex Buffer type: \" + a);\n            }\n\n            this.writeVertexAttributeData(f, i, a, o, s, u);\n          }\n        } else n.Tools.Warn(\"reorderTriangleFillMode: Vertex Buffer Kind \" + a + \" not present!\");\n      }, e.prototype.reorderTriangleStripDrawMode = function (e, t, r, a, o, i, s, u) {\n        var l = this.getVertexBufferFromMesh(a, e.getMesh());\n\n        if (l) {\n          var c = l.byteStride / n.VertexBuffer.GetTypeByteLength(l.type),\n              f = [],\n              h = 0;\n\n          switch (a) {\n            case n.VertexBuffer.PositionKind:\n            case n.VertexBuffer.NormalKind:\n              h = e.verticesStart, f.push(n.Vector3.FromArray(o, h + 2 * c)), f.push(n.Vector3.FromArray(o, h + c));\n              break;\n\n            case n.VertexBuffer.TangentKind:\n              for (var p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector4.FromArray(o, h));\n\n              break;\n\n            case n.VertexBuffer.ColorKind:\n              for (p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, 4 === l.getSize() ? f.push(n.Vector4.FromArray(o, h)) : f.push(n.Vector3.FromArray(o, h));\n\n              break;\n\n            case n.VertexBuffer.UVKind:\n            case n.VertexBuffer.UV2Kind:\n              for (p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector2.FromArray(o, h));\n\n              break;\n\n            default:\n              n.Tools.Error(\"Unsupported Vertex Buffer type: \" + a);\n          }\n\n          this.writeVertexAttributeData(f, i + 12, a, o, s, u);\n        } else n.Tools.Warn(\"reorderTriangleStripDrawMode: Vertex buffer kind \" + a + \" not present!\");\n      }, e.prototype.reorderTriangleFanMode = function (e, t, r, a, o, i, s, u) {\n        var l = this.getVertexBufferFromMesh(a, e.getMesh());\n\n        if (l) {\n          var c = l.byteStride / n.VertexBuffer.GetTypeByteLength(l.type),\n              f = [],\n              h = 0;\n\n          switch (a) {\n            case n.VertexBuffer.PositionKind:\n            case n.VertexBuffer.NormalKind:\n              for (var p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector3.FromArray(o, h));\n\n              break;\n\n            case n.VertexBuffer.TangentKind:\n              for (p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector4.FromArray(o, h));\n\n              break;\n\n            case n.VertexBuffer.ColorKind:\n              for (p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector4.FromArray(o, h)), 4 === l.getSize() ? f.push(n.Vector4.FromArray(o, h)) : f.push(n.Vector3.FromArray(o, h));\n\n              break;\n\n            case n.VertexBuffer.UVKind:\n            case n.VertexBuffer.UV2Kind:\n              for (p = e.verticesStart + e.verticesCount - 1; p >= e.verticesStart; --p) h = p * c, f.push(n.Vector2.FromArray(o, h));\n\n              break;\n\n            default:\n              n.Tools.Error(\"Unsupported Vertex Buffer type: \" + a);\n          }\n\n          this.writeVertexAttributeData(f, i, a, o, s, u);\n        } else n.Tools.Warn(\"reorderTriangleFanMode: Vertex buffer kind \" + a + \" not present!\");\n      }, e.prototype.writeVertexAttributeData = function (e, t, r, a, i, s) {\n        for (var u = 0, l = e; u < l.length; u++) {\n          var c = l[u];\n          !s || r === n.VertexBuffer.ColorKind || c instanceof n.Vector2 || (c instanceof n.Vector3 ? r === n.VertexBuffer.NormalKind ? o.a._GetRightHandedNormalVector3FromRef(c) : r === n.VertexBuffer.PositionKind ? o.a._GetRightHandedPositionVector3FromRef(c) : n.Tools.Error(\"Unsupported vertex attribute kind!\") : o.a._GetRightHandedVector4FromRef(c)), r === n.VertexBuffer.NormalKind ? c.normalize() : r === n.VertexBuffer.TangentKind && c instanceof n.Vector4 && o.a._NormalizeTangentFromRef(c);\n\n          for (var f = 0, h = c.asArray(); f < h.length; f++) {\n            var p = h[f];\n            i.setFloat32(p, t), t += 4;\n          }\n        }\n      }, e.prototype.writeAttributeData = function (e, t, r, a, i, s, u) {\n        var l,\n            c,\n            f = [];\n\n        switch (e) {\n          case n.VertexBuffer.PositionKind:\n            for (var h = 0, p = r.length / a; h < p; ++h) {\n              l = h * a;\n              var d = n.Vector3.FromArray(r, l);\n              s && o.a._GetRightHandedPositionVector3FromRef(d), f.push(d.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.NormalKind:\n            h = 0;\n\n            for (var m = r.length / a; h < m; ++h) {\n              l = h * a;\n              d = n.Vector3.FromArray(r, l);\n              s && o.a._GetRightHandedNormalVector3FromRef(d), d.normalize(), f.push(d.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.TangentKind:\n            h = 0;\n\n            for (var g = r.length / a; h < g; ++h) {\n              l = h * a;\n              d = n.Vector4.FromArray(r, l);\n              s && o.a._GetRightHandedVector4FromRef(d), o.a._NormalizeTangentFromRef(d), f.push(d.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.ColorKind:\n            for (var _ = u.material, x = !_ || _ instanceof n.StandardMaterial, y = (d = 3 === a ? new n.Color3() : new n.Color4(), h = 0, r.length / a); h < y; ++h) l = h * a, 3 === a ? (n.Color3.FromArrayToRef(r, l, d), x && d.toLinearSpaceToRef(d)) : (n.Color4.FromArrayToRef(r, l, d), x && d.toLinearSpaceToRef(d)), f.push(d.asArray());\n\n            break;\n\n          case n.VertexBuffer.UVKind:\n          case n.VertexBuffer.UV2Kind:\n            h = 0;\n\n            for (var T = r.length / a; h < T; ++h) l = h * a, f.push([r[l], r[l + 1]]);\n\n            break;\n\n          case n.VertexBuffer.MatricesIndicesKind:\n          case n.VertexBuffer.MatricesIndicesExtraKind:\n            h = 0;\n\n            for (var v = r.length / a; h < v; ++h) {\n              l = h * a;\n              d = n.Vector4.FromArray(r, l);\n              f.push(d.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.MatricesWeightsKind:\n          case n.VertexBuffer.MatricesWeightsExtraKind:\n            h = 0;\n\n            for (var b = r.length / a; h < b; ++h) {\n              l = h * a;\n              d = n.Vector4.FromArray(r, l);\n              f.push(d.asArray());\n            }\n\n            break;\n\n          default:\n            n.Tools.Warn(\"Unsupported Vertex Buffer Type: \" + e), f = [];\n        }\n\n        switch (t) {\n          case 5121:\n            c = i.setUInt8.bind(i);\n            break;\n\n          case 5123:\n            c = i.setUInt16.bind(i);\n            break;\n\n          case 5125:\n            c = i.setUInt32.bind(i);\n\n          case 5126:\n            c = i.setFloat32.bind(i);\n            break;\n\n          default:\n            return void n.Tools.Warn(\"Unsupported Attribute Component kind: \" + t);\n        }\n\n        for (var A = 0, F = f; A < F.length; A++) for (var E = 0, M = F[A]; E < M.length; E++) {\n          c(M[E]);\n        }\n      }, e.prototype.writeMorphTargetAttributeData = function (e, t, r, a, i, s, u, l, c, f) {\n        var h,\n            p,\n            d = [],\n            m = new n.Vector3(),\n            g = new n.Vector4(0, 0, 0, 0);\n\n        switch (e) {\n          case n.VertexBuffer.PositionKind:\n            for (var _ = r.verticesStart; _ < r.verticesCount; ++_) {\n              h = r.indexStart + _ * u;\n              var x = n.Vector3.FromArray(i, h);\n              m = (y = n.Vector3.FromArray(s, h)).subtractToRef(x, m), c && o.a._GetRightHandedPositionVector3FromRef(m), f && (f.min.copyFromFloats(Math.min(m.x, f.min.x), Math.min(m.y, f.min.y), Math.min(m.z, f.min.z)), f.max.copyFromFloats(Math.max(m.x, f.max.x), Math.max(m.y, f.max.y), Math.max(m.z, f.max.z))), d.push(m.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.NormalKind:\n            for (_ = r.verticesStart; _ < r.verticesCount; ++_) {\n              h = r.indexStart + _ * u, (x = n.Vector3.FromArray(i, h)).normalize(), (y = n.Vector3.FromArray(s, h)).normalize(), m = y.subtractToRef(x, m), c && o.a._GetRightHandedNormalVector3FromRef(m), d.push(m.asArray());\n            }\n\n            break;\n\n          case n.VertexBuffer.TangentKind:\n            for (_ = r.verticesStart; _ < r.verticesCount; ++_) {\n              h = r.indexStart + _ * (u + 1);\n              x = n.Vector4.FromArray(i, h);\n\n              o.a._NormalizeTangentFromRef(x);\n\n              var y = n.Vector4.FromArray(s, h);\n              o.a._NormalizeTangentFromRef(y), g = y.subtractToRef(x, g), c && o.a._GetRightHandedVector4FromRef(g), d.push([g.x, g.y, g.z]);\n            }\n\n            break;\n\n          default:\n            n.Tools.Warn(\"Unsupported Vertex Buffer Type: \" + e), d = [];\n        }\n\n        switch (t) {\n          case 5121:\n            p = l.setUInt8.bind(l);\n            break;\n\n          case 5123:\n            p = l.setUInt16.bind(l);\n            break;\n\n          case 5125:\n            p = l.setUInt32.bind(l);\n\n          case 5126:\n            p = l.setFloat32.bind(l);\n            break;\n\n          default:\n            return void n.Tools.Warn(\"Unsupported Attribute Component kind: \" + t);\n        }\n\n        for (var T = 0, v = d; T < v.length; T++) for (var b = 0, A = v[T]; b < A.length; b++) {\n          p(A[b]);\n        }\n      }, e.prototype.generateJSON = function (e, t, r) {\n        var n,\n            a,\n            i,\n            s = this,\n            u = {\n          byteLength: this._totalByteLength\n        },\n            l = this._totalByteLength;\n        return u.byteLength && (this._glTF.buffers = [u]), this._nodes && this._nodes.length && (this._glTF.nodes = this._nodes), this._meshes && this._meshes.length && (this._glTF.meshes = this._meshes), this._scenes && this._scenes.length && (this._glTF.scenes = this._scenes, this._glTF.scene = 0), this._bufferViews && this._bufferViews.length && (this._glTF.bufferViews = this._bufferViews), this._accessors && this._accessors.length && (this._glTF.accessors = this._accessors), this._animations && this._animations.length && (this._glTF.animations = this._animations), this._materials && this._materials.length && (this._glTF.materials = this._materials), this._textures && this._textures.length && (this._glTF.textures = this._textures), this._samplers && this._samplers.length && (this._glTF.samplers = this._samplers), this._skins && this._skins.length && (this._glTF.skins = this._skins), this._images && this._images.length && (e ? (this._glTF.images = [], this._images.forEach(function (e) {\n          e.uri && (a = s._imageData[e.uri], s._orderedImageData.push(a), n = e.uri.split(\".\")[0] + \" image\", i = o.a._CreateBufferView(0, l, a.data.length, void 0, n), l += a.data.buffer.byteLength, s._bufferViews.push(i), e.bufferView = s._bufferViews.length - 1, e.name = n, e.mimeType = a.mimeType, e.uri = void 0, s._glTF.images || (s._glTF.images = []), s._glTF.images.push(e));\n        }), u.byteLength = l) : this._glTF.images = this._images), e || (u.uri = t + \".bin\"), r ? JSON.stringify(this._glTF, null, 2) : JSON.stringify(this._glTF);\n      }, e.prototype._generateGLTFAsync = function (e, t) {\n        var r = this;\n        return void 0 === t && (t = !0), this._generateBinaryAsync().then(function (n) {\n          r._extensionsOnExporting();\n\n          var a = r.generateJSON(!1, e, !0),\n              o = new Blob([n], {\n            type: \"application/octet-stream\"\n          }),\n              s = e + \".gltf\",\n              u = e + \".bin\",\n              l = new i.GLTFData();\n          if (l.glTFFiles[s] = a, l.glTFFiles[u] = o, r._imageData) for (var c in r._imageData) l.glTFFiles[c] = new Blob([r._imageData[c].data], {\n            type: r._imageData[c].mimeType\n          });\n          return t && r.dispose(), l;\n        });\n      }, e.prototype._generateBinaryAsync = function () {\n        var e = this,\n            t = new l(4);\n        return this.createSceneAsync(this._babylonScene, t).then(function () {\n          return e._localEngine && e._localEngine.dispose(), t.getArrayBuffer();\n        });\n      }, e.prototype._getPadding = function (e) {\n        var t = e % 4;\n        return 0 === t ? t : 4 - t;\n      }, e.prototype._generateGLBAsync = function (e, t) {\n        var r = this;\n        return void 0 === t && (t = !0), this._generateBinaryAsync().then(function (n) {\n          r._extensionsOnExporting();\n\n          for (var a = r.generateJSON(!0), o = e + \".glb\", s = a.length, u = 0, l = 0; l < r._orderedImageData.length; ++l) u += r._orderedImageData[l].data.byteLength;\n\n          var c = r._getPadding(s),\n              f = r._getPadding(n.byteLength),\n              h = r._getPadding(u),\n              p = 28 + s + c + n.byteLength + f + u + h,\n              d = new ArrayBuffer(12),\n              m = new DataView(d);\n\n          m.setUint32(0, 1179937895, !0), m.setUint32(4, 2, !0), m.setUint32(8, p, !0);\n\n          var g = new ArrayBuffer(8 + s + c),\n              _ = new DataView(g);\n\n          _.setUint32(0, s + c, !0), _.setUint32(4, 1313821514, !0);\n          var x = new Uint8Array(g, 8);\n\n          for (l = 0; l < s; ++l) x[l] = a.charCodeAt(l);\n\n          var y = new Uint8Array(g, 8 + s);\n\n          for (l = 0; l < c; ++l) y[l] = 32;\n\n          var T = new ArrayBuffer(8),\n              v = new DataView(T);\n          v.setUint32(0, n.byteLength + u + h, !0), v.setUint32(4, 5130562, !0);\n          var b = new ArrayBuffer(f),\n              A = new Uint8Array(b);\n\n          for (l = 0; l < f; ++l) A[l] = 0;\n\n          var F = new ArrayBuffer(h),\n              E = new Uint8Array(F);\n\n          for (l = 0; l < h; ++l) E[l] = 0;\n\n          var M = [d, g, T, n];\n\n          for (l = 0; l < r._orderedImageData.length; ++l) M.push(r._orderedImageData[l].data.buffer);\n\n          M.push(b), M.push(F);\n          var R = new Blob(M, {\n            type: \"application/octet-stream\"\n          }),\n              V = new i.GLTFData();\n          return V.glTFFiles[o] = R, null != r._localEngine && r._localEngine.dispose(), t && r.dispose(), V;\n        });\n      }, e.prototype.setNodeTransformation = function (e, t, r) {\n        t.getPivotPoint().equalsToFloats(0, 0, 0) || n.Tools.Warn(\"Pivot points are not supported in the glTF serializer\"), t.position.equalsToFloats(0, 0, 0) || (e.translation = r ? o.a._GetRightHandedPositionVector3(t.position).asArray() : t.position.asArray()), t.scaling.equalsToFloats(1, 1, 1) || (e.scale = t.scaling.asArray());\n        var a = n.Quaternion.RotationYawPitchRoll(t.rotation.y, t.rotation.x, t.rotation.z);\n        t.rotationQuaternion && a.multiplyInPlace(t.rotationQuaternion), 0 === a.x && 0 === a.y && 0 === a.z && 1 === a.w || (r && o.a._GetRightHandedQuaternionFromRef(a), e.rotation = a.normalize().asArray());\n      }, e.prototype.getVertexBufferFromMesh = function (e, t) {\n        if (t.isVerticesDataPresent(e)) {\n          var r = t.getVertexBuffer(e);\n          if (r) return r;\n        }\n\n        return null;\n      }, e.prototype.createBufferViewKind = function (e, t, r, a, i, s) {\n        var u = r instanceof n.Mesh ? r : r instanceof n.InstancedMesh ? r.sourceMesh : null;\n\n        if (u) {\n          var l = u.getVertexBuffer(e),\n              c = u.getVerticesData(e);\n\n          if (l && c) {\n            var f = n.VertexBuffer.GetTypeByteLength(t),\n                h = c.length * f,\n                p = o.a._CreateBufferView(0, a.getByteOffset(), h, i, e + \" - \" + u.name);\n\n            this._bufferViews.push(p), this.writeAttributeData(e, t, c, i / f, a, s, r);\n          }\n        }\n      }, e.prototype.setMorphTargetAttributes = function (e, t, r, a, i) {\n        if (r) {\n          t.targets || (t.targets = []);\n          var s = {};\n\n          if (r.hasNormals) {\n            var u = e.getMesh().getVerticesData(n.VertexBuffer.NormalKind),\n                l = r.getNormals(),\n                c = (_ = e.verticesCount) * (x = 12),\n                f = o.a._CreateBufferView(0, a.getByteOffset(), c, x, r.name + \"_NORMAL\");\n\n            this._bufferViews.push(f);\n\n            var h = this._bufferViews.length - 1,\n                p = o.a._CreateAccessor(h, r.name + \" - NORMAL\", \"VEC3\", 5126, _, 0, null, null);\n\n            this._accessors.push(p), s.NORMAL = this._accessors.length - 1, this.writeMorphTargetAttributeData(n.VertexBuffer.NormalKind, 5126, e, r, u, l, x / 4, a, i);\n          }\n\n          if (r.hasPositions) {\n            var d = e.getMesh().getVerticesData(n.VertexBuffer.PositionKind),\n                m = r.getPositions();\n            c = (_ = e.verticesCount) * (x = 12), f = o.a._CreateBufferView(0, a.getByteOffset(), c, x, r.name + \"_POSITION\");\n\n            this._bufferViews.push(f);\n\n            h = this._bufferViews.length - 1;\n            var g = {\n              min: new n.Vector3(1 / 0, 1 / 0, 1 / 0),\n              max: new n.Vector3(-1 / 0, -1 / 0, -1 / 0)\n            };\n            p = o.a._CreateAccessor(h, r.name + \" - POSITION\", \"VEC3\", 5126, _, 0, null, null);\n            this._accessors.push(p), s.POSITION = this._accessors.length - 1, this.writeMorphTargetAttributeData(n.VertexBuffer.PositionKind, 5126, e, r, d, m, x / 4, a, i, g), p.min = g.min.asArray(), p.max = g.max.asArray();\n          }\n\n          if (r.hasTangents) {\n            var _,\n                x,\n                y = e.getMesh().getVerticesData(n.VertexBuffer.TangentKind),\n                T = r.getTangents();\n\n            c = (_ = e.verticesCount) * (x = 12), f = o.a._CreateBufferView(0, a.getByteOffset(), c, x, r.name + \"_NORMAL\");\n\n            this._bufferViews.push(f);\n\n            h = this._bufferViews.length - 1, p = o.a._CreateAccessor(h, r.name + \" - TANGENT\", \"VEC3\", 5126, _, 0, null, null);\n            this._accessors.push(p), s.TANGENT = this._accessors.length - 1, this.writeMorphTargetAttributeData(n.VertexBuffer.TangentKind, 5126, e, r, y, T, x / 4, a, i);\n          }\n\n          t.targets.push(s);\n        }\n      }, e.prototype.getMeshPrimitiveMode = function (e) {\n        return e instanceof n.LinesMesh ? n.Material.LineListDrawMode : e.material ? e.material.fillMode : n.Material.TriangleFillMode;\n      }, e.prototype.setPrimitiveMode = function (e, t) {\n        switch (t) {\n          case n.Material.TriangleFillMode:\n            break;\n\n          case n.Material.TriangleStripDrawMode:\n            e.mode = 5;\n            break;\n\n          case n.Material.TriangleFanDrawMode:\n            e.mode = 6;\n            break;\n\n          case n.Material.PointListDrawMode:\n            e.mode = 0;\n\n          case n.Material.PointFillMode:\n            e.mode = 0;\n            break;\n\n          case n.Material.LineLoopDrawMode:\n            e.mode = 2;\n            break;\n\n          case n.Material.LineListDrawMode:\n            e.mode = 1;\n            break;\n\n          case n.Material.LineStripDrawMode:\n            e.mode = 3;\n        }\n      }, e.prototype.setAttributeKind = function (e, t) {\n        switch (t) {\n          case n.VertexBuffer.PositionKind:\n            e.attributes.POSITION = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.NormalKind:\n            e.attributes.NORMAL = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.ColorKind:\n            e.attributes.COLOR_0 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.TangentKind:\n            e.attributes.TANGENT = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.UVKind:\n            e.attributes.TEXCOORD_0 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.UV2Kind:\n            e.attributes.TEXCOORD_1 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.MatricesIndicesKind:\n            e.attributes.JOINTS_0 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.MatricesIndicesExtraKind:\n            e.attributes.JOINTS_1 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.MatricesWeightsKind:\n            e.attributes.WEIGHTS_0 = this._accessors.length - 1;\n            break;\n\n          case n.VertexBuffer.MatricesWeightsExtraKind:\n            e.attributes.WEIGHTS_1 = this._accessors.length - 1;\n            break;\n\n          default:\n            n.Tools.Warn(\"Unsupported Vertex Buffer Type: \" + t);\n        }\n      }, e.prototype.setPrimitiveAttributesAsync = function (e, t, r, a) {\n        var i,\n            s,\n            u,\n            l = [],\n            c = null;\n        t instanceof n.Mesh ? c = t : t instanceof n.InstancedMesh && (c = t.sourceMesh);\n        var f = [{\n          kind: n.VertexBuffer.PositionKind,\n          accessorType: \"VEC3\",\n          accessorComponentType: 5126,\n          byteStride: 12\n        }, {\n          kind: n.VertexBuffer.NormalKind,\n          accessorType: \"VEC3\",\n          accessorComponentType: 5126,\n          byteStride: 12\n        }, {\n          kind: n.VertexBuffer.ColorKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5126,\n          byteStride: 16\n        }, {\n          kind: n.VertexBuffer.TangentKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5126,\n          byteStride: 16\n        }, {\n          kind: n.VertexBuffer.UVKind,\n          accessorType: \"VEC2\",\n          accessorComponentType: 5126,\n          byteStride: 8\n        }, {\n          kind: n.VertexBuffer.UV2Kind,\n          accessorType: \"VEC2\",\n          accessorComponentType: 5126,\n          byteStride: 8\n        }, {\n          kind: n.VertexBuffer.MatricesIndicesKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5123,\n          byteStride: 8\n        }, {\n          kind: n.VertexBuffer.MatricesIndicesExtraKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5123,\n          byteStride: 8\n        }, {\n          kind: n.VertexBuffer.MatricesWeightsKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5126,\n          byteStride: 16\n        }, {\n          kind: n.VertexBuffer.MatricesWeightsExtraKind,\n          accessorType: \"VEC4\",\n          accessorComponentType: 5126,\n          byteStride: 16\n        }];\n\n        if (c) {\n          for (var h = null, p = this.getMeshPrimitiveMode(c), d = {}, m = c.morphTargetManager, g = 0, _ = f; g < _.length; g++) {\n            var x = (W = _[g]).kind,\n                y = W.accessorComponentType;\n\n            if (c.isVerticesDataPresent(x)) {\n              var T = this.getVertexBufferFromMesh(x, c);\n              W.byteStride = T ? T.getSize() * n.VertexBuffer.GetTypeByteLength(W.accessorComponentType) : 4 * n.VertexBuffer.DeduceStride(x), 12 === W.byteStride && (W.accessorType = \"VEC3\"), this.createBufferViewKind(x, y, t, r, W.byteStride, a), W.bufferViewIndex = this._bufferViews.length - 1, d[x] = W.bufferViewIndex;\n            }\n          }\n\n          if (c.getTotalIndices()) {\n            var v = c.getIndices();\n\n            if (v) {\n              var b = 4 * v.length;\n              s = o.a._CreateBufferView(0, r.getByteOffset(), b, void 0, \"Indices - \" + c.name), this._bufferViews.push(s), h = this._bufferViews.length - 1;\n\n              for (var A = 0, F = v.length; A < F; ++A) r.setUInt32(v[A]);\n            }\n          }\n\n          if (c.subMeshes) for (var E = 0, M = c.subMeshes; E < M.length; E++) {\n            var R = M[E],\n                V = R.getMaterial() || c.getScene().defaultMaterial,\n                w = null;\n            if (V) if (c instanceof n.LinesMesh) {\n              var S = {\n                name: c.name + \" material\"\n              };\n              (!c.color.equals(n.Color3.White()) || c.alpha < 1) && (S.pbrMetallicRoughness = {\n                baseColorFactor: c.color.asArray().concat([c.alpha])\n              }), this._materials.push(S), w = this._materials.length - 1;\n            } else if (V instanceof n.MultiMaterial) {\n              var C = V.subMaterials[R.materialIndex];\n              C && (V = C, w = this._materialMap[V.uniqueId]);\n            } else w = this._materialMap[V.uniqueId];\n            var B = null != w ? this._materials[w] : null,\n                I = {\n              attributes: {}\n            };\n            this.setPrimitiveMode(I, p);\n\n            for (var P = 0, L = f; P < L.length; P++) {\n              if ((x = (W = L[P]).kind) !== n.VertexBuffer.UVKind && x !== n.VertexBuffer.UV2Kind || !B || this._glTFMaterialExporter._hasTexturesPresent(B)) if (z = c.getVerticesData(x)) if (T = this.getVertexBufferFromMesh(x, c)) {\n                var N = T.getSize(),\n                    O = W.bufferViewIndex;\n\n                if (null != O) {\n                  u = {\n                    min: null,\n                    max: null\n                  }, x == n.VertexBuffer.PositionKind && (u = o.a._CalculateMinMaxPositions(z, 0, z.length / N, a));\n\n                  var G = o.a._CreateAccessor(O, x + \" - \" + t.name, W.accessorType, W.accessorComponentType, z.length / N, 0, u.min, u.max);\n\n                  this._accessors.push(G), this.setAttributeKind(I, x);\n                }\n              }\n            }\n\n            if (h) {\n              G = o.a._CreateAccessor(h, \"indices - \" + t.name, \"SCALAR\", 5125, R.indexCount, 4 * R.indexStart, null, null);\n              this._accessors.push(G), I.indices = this._accessors.length - 1;\n            }\n\n            if (null != w && Object.keys(I.attributes).length > 0) {\n              var k = null !== c.overrideMaterialSideOrientation ? c.overrideMaterialSideOrientation : V.sideOrientation;\n\n              if (k == n.Material.ClockWiseSideOrientation && this._babylonScene.useRightHandedSystem || k == n.Material.ClockWiseSideOrientation && a && c.overrideMaterialSideOrientation !== (null === (i = c.material) || void 0 === i ? void 0 : i.sideOrientation)) {\n                var K = null != h ? this._bufferViews[h].byteOffset : null;\n                null == K && (K = 0);\n                var D = null;\n                if (null != h && (D = c.getIndices()), D) this.reorderIndicesBasedOnPrimitiveMode(R, p, D, K, r);else for (var U = 0, H = f; U < H.length; U++) {\n                  var z,\n                      W = H[U];\n\n                  if (z = c.getVerticesData(W.kind)) {\n                    var q = this._bufferViews[d[W.kind]].byteOffset;\n                    q || (q = 0), this.reorderVertexAttributeDataBasedOnPrimitiveMode(R, p, k, W.kind, z, q, r, a);\n                  }\n                }\n              }\n\n              I.material = w;\n            }\n\n            if (m) for (var Q = void 0, j = 0; j < m.numTargets; ++j) Q = m.getTarget(j), this.setMorphTargetAttributes(R, I, Q, r, a);\n            e.primitives.push(I), this._extensionsPostExportMeshPrimitiveAsync(\"postExport\", I, R, r) && l.push();\n          }\n        }\n\n        return Promise.all(l).then(function () {});\n      }, e.prototype.isBabylonCoordinateSystemConvertingNode = function (e) {\n        if (e instanceof n.TransformNode) {\n          if (\"__root__\" !== e.name) return !1;\n\n          for (var t = e.getWorldMatrix(), r = n.Matrix.Compose(this._convertToRightHandedSystem ? new n.Vector3(-1, 1, 1) : n.Vector3.One(), n.Quaternion.Identity(), n.Vector3.Zero()), a = t.multiply(r), o = n.Matrix.IdentityReadOnly, i = 0; i < 16; i++) if (Math.abs(a.m[i] - o.m[i]) > n.Epsilon) return !1;\n\n          return !(e instanceof n.Mesh && null !== e.geometry || e instanceof n.InstancedMesh && null !== e.sourceMesh.geometry) && !this._includeCoordinateSystemConversionNodes;\n        }\n\n        return !1;\n      }, e.prototype.createSceneAsync = function (e, t) {\n        var r,\n            a,\n            o,\n            i = this,\n            s = {\n          nodes: []\n        },\n            u = function () {\n          for (var e = 0, t = 0, r = arguments.length; t < r; t++) e += arguments[t].length;\n\n          var n = Array(e),\n              a = 0;\n\n          for (t = 0; t < r; t++) for (var o = arguments[t], i = 0, s = o.length; i < s; i++, a++) n[a] = o[i];\n\n          return n;\n        }(e.transformNodes, e.meshes, e.lights),\n            l = [];\n\n        return this._convertToRightHandedSystem = !e.useRightHandedSystem, this._convertToRightHandedSystemMap = {}, e.rootNodes.forEach(function (e) {\n          i._convertToRightHandedSystemMap[e.uniqueId] = i._convertToRightHandedSystem, e.getDescendants(!1).forEach(function (e) {\n            i._convertToRightHandedSystemMap[e.uniqueId] = i._convertToRightHandedSystem;\n          });\n        }), e.rootNodes.forEach(function (e) {\n          if (i.isBabylonCoordinateSystemConvertingNode(e)) {\n            l.push(e);\n            var t = u.indexOf(e);\n            -1 !== t && u.splice(t, 1), e.getDescendants(!1).forEach(function (e) {\n              i._convertToRightHandedSystemMap[e.uniqueId] = !1;\n            });\n          }\n        }), this._glTFMaterialExporter._convertMaterialsToGLTFAsync(e.materials, \"image/png\", !0).then(function () {\n          return i.createNodeMapAndAnimationsAsync(e, u, t).then(function (c) {\n            return i.createSkinsAsync(e, c, t).then(function (e) {\n              if (i._nodeMap = c, i._totalByteLength = t.getByteOffset(), null == i._totalByteLength) throw new Error(\"undefined byte length!\");\n\n              for (var f = 0, h = u; f < h.length; f++) {\n                var p = h[f];\n\n                if (void 0 !== (r = i._nodeMap[p.uniqueId])) {\n                  if (a = i._nodes[r], p.metadata && (i._options.metadataSelector ? a.extras = i._options.metadataSelector(p.metadata) : p.metadata.gltf && (a.extras = p.metadata.gltf.extras)), !p.parent || -1 !== l.indexOf(p.parent)) if (i._options.shouldExportNode && !i._options.shouldExportNode(p)) n.Tools.Log(\"Omitting \" + p.name + \" from scene.\");else i._convertToRightHandedSystemMap[p.uniqueId] && (a.translation && (a.translation[2] *= -1, a.translation[0] *= -1), a.rotation = a.rotation ? n.Quaternion.FromArray([0, 1, 0, 0]).multiply(n.Quaternion.FromArray(a.rotation)).asArray() : n.Quaternion.FromArray([0, 1, 0, 0]).asArray()), s.nodes.push(r);\n\n                  if (p instanceof n.Mesh) {\n                    var d = p;\n                    d.skeleton && (a.skin = e[d.skeleton.uniqueId]);\n                  }\n\n                  if (o = p.getDescendants(!0), !a.children && o && o.length) {\n                    for (var m = [], g = 0, _ = o; g < _.length; g++) {\n                      var x = _[g];\n                      null != i._nodeMap[x.uniqueId] && m.push(i._nodeMap[x.uniqueId]);\n                    }\n\n                    m.length && (a.children = m);\n                  }\n                }\n              }\n\n              s.nodes.length && i._scenes.push(s);\n            });\n          });\n        });\n      }, e.prototype.createNodeMapAndAnimationsAsync = function (e, t, r) {\n        for (var a, o = this, i = Promise.resolve(), u = {}, l = {\n          name: \"runtime animations\",\n          channels: [],\n          samplers: []\n        }, c = [], f = function (t) {\n          !h._options.shouldExportNode || h._options.shouldExportNode(t) ? i = i.then(function () {\n            var i = o._convertToRightHandedSystemMap[t.uniqueId];\n            return o.createNodeAsync(t, r, i, u).then(function (f) {\n              var h = o._extensionsPostExportNodeAsync(\"createNodeAsync\", f, t, u);\n\n              return null == h ? (n.Tools.Warn(\"Not exporting node \" + t.name), Promise.resolve()) : h.then(function (n) {\n                n && (o._nodes.push(n), a = o._nodes.length - 1, u[t.uniqueId] = a, e.animationGroups.length || (s.a._CreateMorphTargetAnimationFromMorphTargetAnimations(t, l, c, u, o._nodes, r, o._bufferViews, o._accessors, i, o._animationSampleRate), t.animations.length && s.a._CreateNodeAnimationFromNodeAnimations(t, l, c, u, o._nodes, r, o._bufferViews, o._accessors, i, o._animationSampleRate)));\n              });\n            });\n          }) : t.name;\n        }, h = this, p = 0, d = t; p < d.length; p++) {\n          f(d[p]);\n        }\n\n        return i.then(function () {\n          return l.channels.length && l.samplers.length && o._animations.push(l), c.forEach(function (e) {\n            e.channels.length && e.samplers.length && o._animations.push(e);\n          }), e.animationGroups.length && s.a._CreateNodeAndMorphAnimationFromAnimationGroups(e, o._animations, u, o._nodes, r, o._bufferViews, o._accessors, o._convertToRightHandedSystemMap, o._animationSampleRate), u;\n        });\n      }, e.prototype.createNodeAsync = function (e, t, r, a) {\n        var o = this;\n        return Promise.resolve().then(function () {\n          var a = {},\n              i = {\n            primitives: []\n          };\n\n          if (e.name && (a.name = e.name), e instanceof n.TransformNode) {\n            if (o.setNodeTransformation(a, e, r), e instanceof n.Mesh) {\n              var s = e.morphTargetManager;\n\n              if (s && s.numTargets > 0) {\n                i.weights = [];\n\n                for (var u = 0; u < s.numTargets; ++u) i.weights.push(s.getTarget(u).influence);\n              }\n            }\n\n            return o.setPrimitiveAttributesAsync(i, e, t, r).then(function () {\n              return i.primitives.length && (o._meshes.push(i), a.mesh = o._meshes.length - 1), a;\n            });\n          }\n\n          return a;\n        });\n      }, e.prototype.createSkinsAsync = function (e, t, r) {\n        for (var n = Promise.resolve(), a = {}, i = function (n) {\n          var i = {\n            joints: []\n          },\n              u = [],\n              l = e.meshes.find(function (e) {\n            e.skeleton;\n          });\n          i.skeleton = null === n.overrideMesh ? l ? t[l.uniqueId] : void 0 : t[n.overrideMesh.uniqueId];\n\n          for (var c = {}, f = -1, h = -1, p = 0, d = n.bones; p < d.length; p++) {\n            (h = (g = d[p]).getIndex()) > -1 && (c[h] = g), f = Math.max(f, h);\n          }\n\n          for (var m = 0; m <= f; ++m) {\n            var g,\n                _ = (g = c[m]).getTransformNode();\n\n            if (_) {\n              var x = g.getInvertedAbsoluteTransform();\n              s._convertToRightHandedSystem && o.a._GetRightHandedMatrixFromRef(x), u.push(x), i.joints.push(t[_.uniqueId]);\n            }\n          }\n\n          var y = 64 * u.length,\n              T = r.getByteOffset(),\n              v = o.a._CreateBufferView(0, T, y, 64, \"InverseBindMatrices - \" + n.name);\n\n          s._bufferViews.push(v);\n\n          var b = s._bufferViews.length - 1,\n              A = o.a._CreateAccessor(b, \"InverseBindMatrices - \" + n.name, \"MAT4\", 5126, u.length, null, null, null),\n              F = s._accessors.push(A) - 1;\n\n          i.inverseBindMatrices = F, s._skins.push(i), a[n.uniqueId] = s._skins.length - 1, u.forEach(function (e) {\n            e.m.forEach(function (e) {\n              r.setFloat32(e);\n            });\n          });\n        }, s = this, u = 0, l = e.skeletons; u < l.length; u++) {\n          i(l[u]);\n        }\n\n        return n.then(function () {\n          return a;\n        });\n      }, e._ExtensionNames = new Array(), e._ExtensionFactories = {}, e;\n    }(),\n        l = function () {\n      function e(e) {\n        this._arrayBuffer = new ArrayBuffer(e), this._dataView = new DataView(this._arrayBuffer), this._byteOffset = 0;\n      }\n\n      return e.prototype.resizeBuffer = function (e) {\n        for (var t = new ArrayBuffer(e), r = new Uint8Array(this._arrayBuffer), n = new Uint8Array(t), a = 0, o = n.byteLength; a < o; ++a) n[a] = r[a];\n\n        return this._arrayBuffer = t, this._dataView = new DataView(this._arrayBuffer), t;\n      }, e.prototype.getArrayBuffer = function () {\n        return this.resizeBuffer(this.getByteOffset());\n      }, e.prototype.getByteOffset = function () {\n        if (null == this._byteOffset) throw new Error(\"Byte offset is undefined!\");\n        return this._byteOffset;\n      }, e.prototype.setUInt8 = function (e, t) {\n        null != t ? t < this._byteOffset ? this._dataView.setUint8(t, e) : n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (this._byteOffset + 1 > this._arrayBuffer.byteLength && this.resizeBuffer(2 * this._arrayBuffer.byteLength), this._dataView.setUint8(this._byteOffset, e), this._byteOffset += 1);\n      }, e.prototype.setUInt16 = function (e, t) {\n        null != t ? t < this._byteOffset ? this._dataView.setUint16(t, e, !0) : n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (this._byteOffset + 2 > this._arrayBuffer.byteLength && this.resizeBuffer(2 * this._arrayBuffer.byteLength), this._dataView.setUint16(this._byteOffset, e, !0), this._byteOffset += 2);\n      }, e.prototype.getUInt32 = function (e) {\n        if (e < this._byteOffset) return this._dataView.getUint32(e, !0);\n        throw n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"), new Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\");\n      }, e.prototype.getVector3Float32FromRef = function (e, t) {\n        t + 8 > this._byteOffset ? n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (e.x = this._dataView.getFloat32(t, !0), e.y = this._dataView.getFloat32(t + 4, !0), e.z = this._dataView.getFloat32(t + 8, !0));\n      }, e.prototype.setVector3Float32FromRef = function (e, t) {\n        t + 8 > this._byteOffset ? n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (this._dataView.setFloat32(t, e.x, !0), this._dataView.setFloat32(t + 4, e.y, !0), this._dataView.setFloat32(t + 8, e.z, !0));\n      }, e.prototype.getVector4Float32FromRef = function (e, t) {\n        t + 12 > this._byteOffset ? n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (e.x = this._dataView.getFloat32(t, !0), e.y = this._dataView.getFloat32(t + 4, !0), e.z = this._dataView.getFloat32(t + 8, !0), e.w = this._dataView.getFloat32(t + 12, !0));\n      }, e.prototype.setVector4Float32FromRef = function (e, t) {\n        t + 12 > this._byteOffset ? n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (this._dataView.setFloat32(t, e.x, !0), this._dataView.setFloat32(t + 4, e.y, !0), this._dataView.setFloat32(t + 8, e.z, !0), this._dataView.setFloat32(t + 12, e.w, !0));\n      }, e.prototype.setFloat32 = function (e, t) {\n        isNaN(e) && n.Tools.Error(\"Invalid data being written!\"), null != t && (t < this._byteOffset ? this._dataView.setFloat32(t, e, !0) : n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary length!\")), this._byteOffset + 4 > this._arrayBuffer.byteLength && this.resizeBuffer(2 * this._arrayBuffer.byteLength), this._dataView.setFloat32(this._byteOffset, e, !0), this._byteOffset += 4;\n      }, e.prototype.setUInt32 = function (e, t) {\n        null != t ? t < this._byteOffset ? this._dataView.setUint32(t, e, !0) : n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\") : (this._byteOffset + 4 > this._arrayBuffer.byteLength && this.resizeBuffer(2 * this._arrayBuffer.byteLength), this._dataView.setUint32(this._byteOffset, e, !0), this._byteOffset += 4);\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"GLTFData\", function () {\n      return n;\n    });\n\n    var n = function () {\n      function e() {\n        this.glTFFiles = {};\n      }\n\n      return e.prototype.downloadFiles = function () {\n        function e(e, t) {\n          return -1 !== e.indexOf(t, e.length - t.length);\n        }\n\n        for (var t in this.glTFFiles) {\n          var r = document.createElement(\"a\");\n          document.body.appendChild(r), r.setAttribute(\"type\", \"hidden\"), r.download = t;\n          var n = this.glTFFiles[t],\n              a = void 0;\n          e(t, \".glb\") ? a = {\n            type: \"model/gltf-binary\"\n          } : e(t, \".bin\") ? a = {\n            type: \"application/octet-stream\"\n          } : e(t, \".gltf\") ? a = {\n            type: \"model/gltf+json\"\n          } : e(t, \".jpeg\") ? a = {\n            type: \"image/jpeg\"\n          } : e(t, \".png\") && (a = {\n            type: \"image/png\"\n          }), r.href = window.URL.createObjectURL(new Blob([n], a)), r.click();\n        }\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"__IGLTFExporterExtension\", function () {\n      return n;\n    });\n    var n = 0;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"OBJExport\", function () {\n      return a;\n    });\n\n    var n = r(0),\n        a = function () {\n      function e() {}\n\n      return e.OBJ = function (e, t, r, a) {\n        var o = [],\n            i = 1;\n        t && (r || (r = \"mat\"), o.push(\"mtllib \" + r + \".mtl\"));\n\n        for (var s = 0; s < e.length; s++) {\n          o.push(\"g object\" + s), o.push(\"o object_\" + s);\n          var u = null;\n\n          if (a) {\n            var l = n.Matrix.Translation(e[s].position.x, e[s].position.y, e[s].position.z);\n            u = n.Matrix.Translation(-e[s].position.x, -e[s].position.y, -e[s].position.z), e[s].bakeTransformIntoVertices(l);\n          }\n\n          if (t) {\n            var c = e[s].material;\n            c && o.push(\"usemtl \" + c.id);\n          }\n\n          var f = e[s].geometry;\n\n          if (f) {\n            var h = f.getVerticesData(\"position\"),\n                p = f.getVerticesData(\"normal\"),\n                d = f.getVerticesData(\"uv\"),\n                m = f.getIndices(),\n                g = 0;\n\n            if (h && m) {\n              for (var _ = 0; _ < h.length; _ += 3) e[0].getScene().useRightHandedSystem ? o.push(\"v \" + h[_] + \" \" + h[_ + 1] + \" \" + h[_ + 2]) : o.push(\"v \" + h[_] + \" \" + h[_ + 1] + \" \" + -h[_ + 2]), g++;\n\n              if (null != p) for (_ = 0; _ < p.length; _ += 3) o.push(\"vn \" + p[_] + \" \" + p[_ + 1] + \" \" + p[_ + 2]);\n              if (null != d) for (_ = 0; _ < d.length; _ += 2) o.push(\"vt \" + d[_] + \" \" + d[_ + 1]);\n\n              for (_ = 0; _ < m.length; _ += 3) {\n                var x = [String(m[_ + 2] + i), String(m[_ + 1] + i), String(m[_] + i)],\n                    y = [\"\", \"\", \"\"],\n                    T = x,\n                    v = null != d ? x : y,\n                    b = null != p ? x : y;\n                o.push(\"f \" + T[0] + \"/\" + v[0] + \"/\" + b[0] + \" \" + T[1] + \"/\" + v[1] + \"/\" + b[1] + \" \" + T[2] + \"/\" + v[2] + \"/\" + b[2]);\n              }\n\n              a && u && e[s].bakeTransformIntoVertices(u), i += g;\n            } else n.Tools.Warn(\"There are no position vertices or indices on the mesh!\");\n          } else n.Tools.Warn(\"No geometry is present on the mesh\");\n        }\n\n        return o.join(\"\\n\");\n      }, e.MTL = function (e) {\n        var t = [],\n            r = e.material;\n        t.push(\"newmtl mat1\"), t.push(\"  Ns \" + r.specularPower.toFixed(4)), t.push(\"  Ni 1.5000\"), t.push(\"  d \" + r.alpha.toFixed(4)), t.push(\"  Tr 0.0000\"), t.push(\"  Tf 1.0000 1.0000 1.0000\"), t.push(\"  illum 2\"), t.push(\"  Ka \" + r.ambientColor.r.toFixed(4) + \" \" + r.ambientColor.g.toFixed(4) + \" \" + r.ambientColor.b.toFixed(4)), t.push(\"  Kd \" + r.diffuseColor.r.toFixed(4) + \" \" + r.diffuseColor.g.toFixed(4) + \" \" + r.diffuseColor.b.toFixed(4)), t.push(\"  Ks \" + r.specularColor.r.toFixed(4) + \" \" + r.specularColor.g.toFixed(4) + \" \" + r.specularColor.b.toFixed(4)), t.push(\"  Ke \" + r.emissiveColor.r.toFixed(4) + \" \" + r.emissiveColor.g.toFixed(4) + \" \" + r.emissiveColor.b.toFixed(4));\n        return r.ambientTexture && t.push(\"  map_Ka \" + r.ambientTexture.name), r.diffuseTexture && t.push(\"  map_Kd \" + r.diffuseTexture.name), r.specularTexture && t.push(\"  map_Ks \" + r.specularTexture.name), r.bumpTexture && t.push(\"  map_bump -imfchan z \" + r.bumpTexture.name), r.opacityTexture && t.push(\"  map_d \" + r.opacityTexture.name), t.join(\"\\n\");\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"_GLTFAnimation\", function () {\n      return n.a;\n    }), r.d(t, \"GLTFData\", function () {\n      return a.GLTFData;\n    }), r.d(t, \"_Exporter\", function () {\n      return o.b;\n    }), r.d(t, \"_BinaryWriter\", function () {\n      return o.a;\n    }), r.d(t, \"__IGLTFExporterExtensionV2\", function () {\n      return i;\n    }), r.d(t, \"_GLTFMaterialExporter\", function () {\n      return s.a;\n    }), r.d(t, \"GLTF2Export\", function () {\n      return u.GLTF2Export;\n    }), r.d(t, \"_GLTFUtilities\", function () {\n      return l.a;\n    }), r.d(t, \"KHR_texture_transform\", function () {\n      return c.KHR_texture_transform;\n    }), r.d(t, \"KHR_lights_punctual\", function () {\n      return c.KHR_lights_punctual;\n    }), r.d(t, \"KHR_materials_sheen\", function () {\n      return c.KHR_materials_sheen;\n    }), r.d(t, \"KHR_materials_unlit\", function () {\n      return c.KHR_materials_unlit;\n    });\n    var n = r(7),\n        a = r(3),\n        o = r(2),\n        i = 0,\n        s = r(10),\n        u = r(8),\n        l = r(1),\n        c = r(9);\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.d(t, \"a\", function () {\n      return i;\n    });\n    var n,\n        a = r(0),\n        o = r(1);\n    !function (e) {\n      e[e.INTANGENT = 0] = \"INTANGENT\", e[e.OUTTANGENT = 1] = \"OUTTANGENT\";\n    }(n || (n = {}));\n\n    var i = function () {\n      function e() {}\n\n      return e._CreateNodeAnimation = function (t, r, n, o, i, s) {\n        var u = [],\n            l = [],\n            c = r.getKeys(),\n            f = e.calculateMinMaxKeyFrames(c),\n            h = e._DeduceInterpolation(c, n, i),\n            p = f.max - f.min,\n            d = h.interpolationType,\n            m = h.shouldBakeAnimation;\n\n        return m ? e._CreateBakedAnimation(t, r, n, f.min, f.max, r.framePerSecond, s, u, l, f, o, i) : \"LINEAR\" === d || \"STEP\" === d ? e._CreateLinearOrStepAnimation(t, r, n, p, u, l, o, i) : \"CUBICSPLINE\" === d ? e._CreateCubicSplineAnimation(t, r, n, p, u, l, o, i) : e._CreateBakedAnimation(t, r, n, f.min, f.max, r.framePerSecond, s, u, l, f, o, i), u.length && l.length ? {\n          inputs: u,\n          outputs: l,\n          samplerInterpolation: d,\n          inputsMin: m ? f.min : a.Tools.FloatRound(f.min / r.framePerSecond),\n          inputsMax: m ? f.max : a.Tools.FloatRound(f.max / r.framePerSecond)\n        } : null;\n      }, e._DeduceAnimationInfo = function (e) {\n        var t = null,\n            r = \"VEC3\",\n            n = !1,\n            o = e.targetProperty.split(\".\");\n\n        switch (o[0]) {\n          case \"scaling\":\n            t = \"scale\";\n            break;\n\n          case \"position\":\n            t = \"translation\";\n            break;\n\n          case \"rotation\":\n            r = \"VEC4\", t = \"rotation\";\n            break;\n\n          case \"rotationQuaternion\":\n            r = \"VEC4\", n = !0, t = \"rotation\";\n            break;\n\n          case \"influence\":\n            r = \"SCALAR\", t = \"weights\";\n            break;\n\n          default:\n            a.Tools.Error(\"Unsupported animatable property \" + o[0]);\n        }\n\n        return t ? {\n          animationChannelTargetPath: t,\n          dataAccessorType: r,\n          useQuaternion: n\n        } : (a.Tools.Error(\"animation channel target path and data accessor type could be deduced\"), null);\n      }, e._CreateNodeAnimationFromNodeAnimations = function (t, r, n, o, i, s, u, l, c, f) {\n        var h;\n        if (t instanceof a.TransformNode && t.animations) for (var p = 0, d = t.animations; p < d.length; p++) {\n          var m = d[p],\n              g = e._DeduceAnimationInfo(m);\n\n          g && (h = {\n            name: m.name,\n            samplers: [],\n            channels: []\n          }, e.AddAnimation(\"\" + m.name, m.hasRunningRuntimeAnimations ? r : h, t, m, g.dataAccessorType, g.animationChannelTargetPath, o, s, u, l, c, g.useQuaternion, f), h.samplers.length && h.channels.length && n.push(h));\n        }\n      }, e._CreateMorphTargetAnimationFromMorphTargetAnimations = function (t, r, n, o, i, s, u, l, c, f) {\n        var h;\n\n        if (t instanceof a.Mesh) {\n          var p = t.morphTargetManager;\n          if (p) for (var d = 0; d < p.numTargets; ++d) for (var m = 0, g = p.getTarget(d).animations; m < g.length; m++) {\n            for (var _ = g[m], x = new a.Animation(\"\" + _.name, \"influence\", _.framePerSecond, _.dataType, _.loopMode, _.enableBlending), y = [], T = _.getKeys(), v = 0; v < T.length; ++v) for (var b = T[v], A = 0; A < p.numTargets; ++A) A == d ? y.push(b) : y.push({\n              frame: b.frame,\n              value: 0\n            });\n\n            x.setKeys(y);\n\n            var F = e._DeduceAnimationInfo(x);\n\n            F && (h = {\n              name: x.name,\n              samplers: [],\n              channels: []\n            }, e.AddAnimation(_.name, _.hasRunningRuntimeAnimations ? r : h, t, x, F.dataAccessorType, F.animationChannelTargetPath, o, s, u, l, c, F.useQuaternion, f, p.numTargets), h.samplers.length && h.channels.length && n.push(h));\n          }\n        }\n      }, e._CreateNodeAndMorphAnimationFromAnimationGroups = function (t, r, n, o, i, s, u, l, c) {\n        var f, h;\n        if (t.animationGroups) for (var p = function (o) {\n          var p = new Map(),\n              d = new Map(),\n              m = new Set(),\n              g = o.to - o.from;\n          h = {\n            name: o.name,\n            channels: [],\n            samplers: []\n          };\n\n          for (var _ = function (r) {\n            var g = o.targetedAnimations[r],\n                _ = g.target,\n                x = g.animation;\n\n            if (_ instanceof a.TransformNode || 1 === _.length && _[0] instanceof a.TransformNode) {\n              if (v = e._DeduceAnimationInfo(g.animation)) {\n                var y = _ instanceof a.TransformNode ? _ : _[0],\n                    T = l[y.uniqueId];\n                e.AddAnimation(\"\" + x.name, h, y, x, v.dataAccessorType, v.animationChannelTargetPath, n, i, s, u, T, v.useQuaternion, c);\n              }\n            } else if (_ instanceof a.MorphTarget || 1 === _.length && _[0] instanceof a.MorphTarget) {\n              var v;\n\n              if (v = e._DeduceAnimationInfo(g.animation)) {\n                var b = _ instanceof a.MorphTarget ? _ : _[0];\n\n                if (b) {\n                  var A = t.morphTargetManagers.find(function (e) {\n                    for (var t = 0; t < e.numTargets; ++t) if (e.getTarget(t) === b) return !0;\n\n                    return !1;\n                  });\n\n                  if (A) {\n                    var F = t.meshes.find(function (e) {\n                      return e.morphTargetManager === A;\n                    });\n                    F && (p.has(F) || p.set(F, new Map()), null === (f = p.get(F)) || void 0 === f || f.set(b, x), m.add(F), d.set(F, x));\n                  }\n                }\n              }\n            }\n          }, x = 0; x < o.targetedAnimations.length; ++x) _(x);\n\n          m.forEach(function (t) {\n            for (var r = t.morphTargetManager, l = null, f = [], m = d.get(t).getKeys(), _ = m.length, x = 0; x < _; ++x) for (var y = 0; y < r.numTargets; ++y) {\n              var T = r.getTarget(y),\n                  v = p.get(t);\n\n              if (v) {\n                var b = v.get(T);\n                b ? (l || (l = new a.Animation(o.name + \"_\" + t.name + \"_MorphWeightAnimation\", \"influence\", b.framePerSecond, a.Animation.ANIMATIONTYPE_FLOAT, b.loopMode, b.enableBlending)), f.push(b.getKeys()[x])) : f.push({\n                  frame: o.from + g / _ * x,\n                  value: T.influence,\n                  inTangent: m[0].inTangent ? 0 : void 0,\n                  outTangent: m[0].outTangent ? 0 : void 0\n                });\n              }\n            }\n\n            l.setKeys(f);\n\n            var A = e._DeduceAnimationInfo(l);\n\n            A && e.AddAnimation(o.name + \"_\" + t.name + \"_MorphWeightAnimation\", h, t, l, A.dataAccessorType, A.animationChannelTargetPath, n, i, s, u, !1, A.useQuaternion, c, null == r ? void 0 : r.numTargets);\n          }), h.channels.length && h.samplers.length && r.push(h);\n        }, d = 0, m = t.animationGroups; d < m.length; d++) {\n          p(m[d]);\n        }\n      }, e.AddAnimation = function (t, r, n, a, i, s, u, l, c, f, h, p, d, m) {\n        var g,\n            _,\n            x,\n            y,\n            T,\n            v,\n            b,\n            A = e._CreateNodeAnimation(n, a, s, h, p, d);\n\n        if (A) {\n          if (m) {\n            for (var F = 0, E = 0, M = []; A.inputs.length > 0;) E = A.inputs.shift(), F % m == 0 && M.push(E), F++;\n\n            A.inputs = M;\n          }\n\n          var R = u[n.uniqueId],\n              V = 4 * A.inputs.length;\n          g = o.a._CreateBufferView(0, l.getByteOffset(), V, void 0, t + \"  keyframe data view\"), c.push(g), A.inputs.forEach(function (e) {\n            l.setFloat32(e);\n          }), _ = o.a._CreateAccessor(c.length - 1, t + \"  keyframes\", \"SCALAR\", 5126, A.inputs.length, null, [A.inputsMin], [A.inputsMax]), f.push(_), x = f.length - 1, T = A.outputs.length, V = 4 * o.a._GetDataAccessorElementCount(i) * A.outputs.length, g = o.a._CreateBufferView(0, l.getByteOffset(), V, void 0, t + \"  data view\"), c.push(g), A.outputs.forEach(function (e) {\n            e.forEach(function (e) {\n              l.setFloat32(e);\n            });\n          }), _ = o.a._CreateAccessor(c.length - 1, t + \"  data\", i, 5126, T, null, null, null), f.push(_), y = f.length - 1, v = {\n            interpolation: A.samplerInterpolation,\n            input: x,\n            output: y\n          }, r.samplers.push(v), b = {\n            sampler: r.samplers.length - 1,\n            target: {\n              node: R,\n              path: s\n            }\n          }, r.channels.push(b);\n        }\n      }, e._CreateBakedAnimation = function (t, r, n, o, i, s, u, l, c, f, h, p) {\n        var d,\n            m,\n            g = a.Quaternion.Identity(),\n            _ = null,\n            x = null,\n            y = null,\n            T = null,\n            v = null,\n            b = null;\n        f.min = a.Tools.FloatRound(o / s);\n\n        for (var A = r.getKeys(), F = 0, E = A.length; F < E; ++F) {\n          if (b = null, y = A[F], F + 1 < E) {\n            if (T = A[F + 1], y.value.equals && y.value.equals(T.value) || y.value === T.value) {\n              if (0 !== F) continue;\n              b = y.frame;\n            } else b = T.frame;\n          } else {\n            if (v = A[F - 1], y.value.equals && y.value.equals(v.value) || y.value === v.value) continue;\n            b = i;\n          }\n          if (b) for (var M = y.frame; M <= b; M += u) if ((m = a.Tools.FloatRound(M / s)) !== _) {\n            _ = m, x = m;\n            var R = {\n              key: 0,\n              repeatCount: 0,\n              loopMode: r.loopMode\n            };\n            d = r._interpolate(M, R), e._SetInterpolatedValue(t, d, m, r, n, g, l, c, h, p);\n          }\n        }\n\n        x && (f.max = x);\n      }, e._ConvertFactorToVector3OrQuaternion = function (t, r, n, o, i, s, u) {\n        var l,\n            c,\n            f = null,\n            h = e._GetBasePositionRotationOrScale(r, i, s, u);\n\n        if (o === a.Animation.ANIMATIONTYPE_FLOAT) switch (c = (l = n.targetProperty.split(\".\")) ? l[1] : \"\", f = u ? a.Quaternion.FromArray(h).normalize() : a.Vector3.FromArray(h), c) {\n          case \"x\":\n          case \"y\":\n            f[c] = s && u && \"scale\" !== i ? -t : t;\n            break;\n\n          case \"z\":\n            f[c] = s && !u && \"scale\" !== i ? -t : t;\n            break;\n\n          case \"w\":\n            f.w = t;\n            break;\n\n          default:\n            a.Tools.Error('glTFAnimation: Unsupported component type \"' + c + '\" for scale animation!');\n        }\n        return f;\n      }, e._SetInterpolatedValue = function (e, t, r, n, i, s, u, l, c, f) {\n        var h,\n            p = n.dataType;\n        u.push(r), \"number\" == typeof t && e instanceof a.TransformNode && (t = this._ConvertFactorToVector3OrQuaternion(t, e, n, p, i, c, f)), t && (\"rotation\" === i ? (f ? s = t : (h = t, a.Quaternion.RotationYawPitchRollToRef(h.y, h.x, h.z, s)), c && (o.a._GetRightHandedQuaternionFromRef(s), e.parent || (s = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(s))), l.push(s.asArray())) : \"weights\" === i ? l.push([t]) : (h = t, c && \"scale\" !== i && (o.a._GetRightHandedPositionVector3FromRef(h), e.parent || (h.x *= -1, h.z *= -1)), l.push(h.asArray())));\n      }, e._CreateLinearOrStepAnimation = function (t, r, n, a, o, i, s, u) {\n        for (var l = 0, c = r.getKeys(); l < c.length; l++) {\n          var f = c[l];\n          o.push(f.frame / r.framePerSecond), e._AddKeyframeValue(f, r, i, n, t, s, u);\n        }\n      }, e._CreateCubicSplineAnimation = function (t, r, a, o, i, s, u, l) {\n        r.getKeys().forEach(function (c) {\n          i.push(c.frame / r.framePerSecond), e.AddSplineTangent(t, n.INTANGENT, s, a, \"CUBICSPLINE\", c, o, l, u), e._AddKeyframeValue(c, r, s, a, t, u, l), e.AddSplineTangent(t, n.OUTTANGENT, s, a, \"CUBICSPLINE\", c, o, l, u);\n        });\n      }, e._GetBasePositionRotationOrScale = function (e, t, r, n) {\n        var i;\n        return \"rotation\" === t ? n ? e.rotationQuaternion ? (i = e.rotationQuaternion.asArray(), r && (o.a._GetRightHandedQuaternionArrayFromRef(i), e.parent || (i = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(a.Quaternion.FromArray(i)).asArray()))) : i = a.Quaternion.Identity().asArray() : (i = e.rotation.asArray(), o.a._GetRightHandedNormalArray3FromRef(i)) : \"translation\" === t ? (i = e.position.asArray(), r && o.a._GetRightHandedPositionArray3FromRef(i)) : i = e.scaling.asArray(), i;\n      }, e._AddKeyframeValue = function (e, t, r, n, i, s, u) {\n        var l,\n            c,\n            f = t.dataType;\n\n        if (f === a.Animation.ANIMATIONTYPE_VECTOR3) {\n          if (l = e.value.asArray(), \"rotation\" === n) {\n            var h = a.Vector3.FromArray(l),\n                p = a.Quaternion.RotationYawPitchRoll(h.y, h.x, h.z);\n            s && (o.a._GetRightHandedQuaternionFromRef(p), i.parent || (p = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(p))), l = p.asArray();\n          } else \"translation\" === n && s && (o.a._GetRightHandedNormalArray3FromRef(l), i.parent || (l[0] *= -1, l[2] *= -1));\n\n          r.push(l);\n        } else if (f === a.Animation.ANIMATIONTYPE_FLOAT) {\n          if (\"weights\" === n) r.push([e.value]);else if (c = this._ConvertFactorToVector3OrQuaternion(e.value, i, t, f, n, s, u)) {\n            if (\"rotation\" === n) {\n              var d = u ? c : a.Quaternion.RotationYawPitchRoll(c.y, c.x, c.z).normalize();\n              s && (o.a._GetRightHandedQuaternionFromRef(d), i.parent || (d = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(d))), r.push(d.asArray());\n            } else \"translation\" === n && s && (o.a._GetRightHandedNormalVector3FromRef(c), i.parent || (c.x *= -1, c.z *= -1));\n\n            r.push(c.asArray());\n          }\n        } else f === a.Animation.ANIMATIONTYPE_QUATERNION ? (l = e.value.normalize().asArray(), s && (o.a._GetRightHandedQuaternionArrayFromRef(l), i.parent || (l = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(a.Quaternion.FromArray(l)).asArray())), r.push(l)) : a.Tools.Error(\"glTFAnimation: Unsupported key frame values for animation!\");\n      }, e._DeduceInterpolation = function (e, t, r) {\n        var n,\n            o,\n            i = !1;\n        if (\"rotation\" === t && !r) return {\n          interpolationType: \"LINEAR\",\n          shouldBakeAnimation: !0\n        };\n\n        for (var s = 0, u = e.length; s < u; ++s) if ((o = e[s]).inTangent || o.outTangent) {\n          if (n) {\n            if (\"CUBICSPLINE\" !== n) {\n              n = \"LINEAR\", i = !0;\n              break;\n            }\n          } else n = \"CUBICSPLINE\";\n        } else if (n) {\n          if (\"CUBICSPLINE\" === n || o.interpolation && o.interpolation === a.AnimationKeyInterpolation.STEP && \"STEP\" !== n) {\n            n = \"LINEAR\", i = !0;\n            break;\n          }\n        } else n = o.interpolation && o.interpolation === a.AnimationKeyInterpolation.STEP ? \"STEP\" : \"LINEAR\";\n\n        return n || (n = \"LINEAR\"), {\n          interpolationType: n,\n          shouldBakeAnimation: i\n        };\n      }, e.AddSplineTangent = function (e, t, r, i, s, u, l, c, f) {\n        var h,\n            p = t === n.INTANGENT ? u.inTangent : u.outTangent;\n\n        if (\"CUBICSPLINE\" === s) {\n          if (\"rotation\" === i) {\n            if (p) {\n              if (c) h = p.asArray();else {\n                var d = p;\n                h = a.Quaternion.RotationYawPitchRoll(d.y, d.x, d.z).asArray();\n              }\n              f && (o.a._GetRightHandedQuaternionArrayFromRef(h), e.parent || (h = a.Quaternion.FromArray([0, 1, 0, 0]).multiply(a.Quaternion.FromArray(h)).asArray()));\n            } else h = [0, 0, 0, 0];\n          } else \"weights\" === i ? h = p ? [p] : [0] : p ? (h = p.asArray(), f && \"translation\" === i && (o.a._GetRightHandedPositionArray3FromRef(h), e.parent || (h[0] *= -1, h[2] *= -1))) : h = [0, 0, 0];\n          r.push(h);\n        }\n      }, e.calculateMinMaxKeyFrames = function (e) {\n        var t = 1 / 0,\n            r = -1 / 0;\n        return e.forEach(function (e) {\n          t = Math.min(t, e.frame), r = Math.max(r, e.frame);\n        }), {\n          min: t,\n          max: r\n        };\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"GLTF2Export\", function () {\n      return a;\n    });\n\n    var n = r(2),\n        a = function () {\n      function e() {}\n\n      return e.GLTFAsync = function (e, t, r) {\n        return e.whenReadyAsync().then(function () {\n          var a = t.replace(/\\.[^/.]+$/, \"\");\n          return new n.b(e, r)._generateGLTFAsync(a);\n        });\n      }, e._PreExportAsync = function (e, t) {\n        return Promise.resolve().then(function () {\n          return t && t.exportWithoutWaitingForScene ? Promise.resolve() : e.whenReadyAsync();\n        });\n      }, e._PostExportAsync = function (e, t, r) {\n        return Promise.resolve().then(function () {\n          return r && r.exportWithoutWaitingForScene, t;\n        });\n      }, e.GLBAsync = function (e, t, r) {\n        var a = this;\n        return this._PreExportAsync(e, r).then(function () {\n          var o = t.replace(/\\.[^/.]+$/, \"\");\n          return new n.b(e, r)._generateGLBAsync(o).then(function (t) {\n            return a._PostExportAsync(e, t, r);\n          });\n        });\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"KHR_texture_transform\", function () {\n      return s;\n    }), r.d(t, \"KHR_lights_punctual\", function () {\n      return l;\n    }), r.d(t, \"KHR_materials_sheen\", function () {\n      return c;\n    }), r.d(t, \"KHR_materials_unlit\", function () {\n      return f;\n    });\n    var n = r(0),\n        a = r(2),\n        o = \"precision highp float;\\nvarying vec2 vUV;\\nuniform sampler2D textureSampler;\\nuniform mat4 textureTransformMat;\\nvoid main(void) {\\nvec2 uvTransformed=(textureTransformMat*vec4(vUV.xy,1,1)).xy;\\ngl_FragColor=texture2D(textureSampler,uvTransformed);\\n}\";\n    n.Effect.ShadersStore.textureTransformPixelShader = o;\n\n    var i = \"KHR_texture_transform\",\n        s = function () {\n      function e(e) {\n        this._recordedTextures = [], this.name = i, this.enabled = !0, this.required = !1, this._wasUsed = !1;\n      }\n\n      return e.prototype.dispose = function () {\n        for (var e = 0, t = this._recordedTextures; e < t.length; e++) {\n          t[e].dispose();\n        }\n      }, Object.defineProperty(e.prototype, \"wasUsed\", {\n        get: function () {\n          return this._wasUsed;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.postExportTexture = function (e, t, r) {\n        if (r && (0 === r.uAng && 0 === r.wAng && 0 === r.vAng || 0 === r.uRotationCenter && 0 === r.vRotationCenter)) {\n          var n = {},\n              a = !1;\n          if (0 === r.uOffset && 0 === r.vOffset || (n.offset = [r.uOffset, r.vOffset], a = !0), 1 === r.uScale && 1 === r.vScale || (n.scale = [r.uScale, r.vScale], a = !0), 0 !== r.wAng && (n.rotation = r.wAng, a = !0), 0 !== r.coordinatesIndex && (n.texCoord = r.coordinatesIndex, a = !0), !a) return;\n          this._wasUsed = !0, t.extensions || (t.extensions = {}), t.extensions[i] = n;\n        }\n      }, e.prototype.preExportTextureAsync = function (e, t, r) {\n        var n = this;\n        return new Promise(function (r, a) {\n          var o = t.getScene();\n\n          if (o) {\n            var i = !1;\n            if (0 === t.uAng && 0 === t.wAng && 0 === t.vAng || 0 === t.uRotationCenter && 0 === t.vRotationCenter || (i = !0), i) return n._textureTransformTextureAsync(t, o).then(function (e) {\n              r(e);\n            }).catch(function (e) {\n              a(e);\n            });\n            r(t);\n          } else a(e + ': \"scene\" is not defined for Babylon texture ' + t.name + \"!\");\n        });\n      }, e.prototype._textureTransformTextureAsync = function (e, t) {\n        var r = this;\n        return new Promise(function (a) {\n          var o = new n.ProceduralTexture(\"\" + e.name, e.getSize(), \"textureTransform\", t);\n          o || (n.Tools.Log(\"Cannot create procedural texture for \" + e.name + \"!\"), a(e)), o.reservedDataStore = {\n            hidden: !0,\n            source: e\n          }, r._recordedTextures.push(o), o.coordinatesIndex = e.coordinatesIndex, o.setTexture(\"textureSampler\", e), o.setMatrix(\"textureTransformMat\", e.getTextureMatrix()), o.isReady() ? (o.render(), a(o)) : o.getEffect().executeWhenCompiled(function () {\n            o.render(), a(o);\n          });\n        });\n      }, e;\n    }();\n\n    a.b.RegisterExtension(i, function (e) {\n      return new s(e);\n    });\n\n    var u = r(1),\n        l = function () {\n      function e(e) {\n        this.name = \"KHR_lights_punctual\", this.enabled = !0, this.required = !1, this._exporter = e;\n      }\n\n      return e.prototype.dispose = function () {\n        this._lights = null;\n      }, Object.defineProperty(e.prototype, \"wasUsed\", {\n        get: function () {\n          return !!this._lights;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.onExporting = function () {\n        this._exporter._glTF.extensions.KHR_lights_punctual = this._lights;\n      }, e.prototype.postExportNodeAsync = function (e, t, r, a) {\n        var o = this;\n        return new Promise(function (i, s) {\n          if (t && r instanceof n.ShadowLight) {\n            var l = r,\n                c = void 0,\n                f = l.getTypeID() == n.Light.LIGHTTYPEID_POINTLIGHT ? \"point\" : l.getTypeID() == n.Light.LIGHTTYPEID_DIRECTIONALLIGHT ? \"directional\" : l.getTypeID() == n.Light.LIGHTTYPEID_SPOTLIGHT ? \"spot\" : null;\n            if (null == f) n.Logger.Warn(e + \": Light \" + l.name + \" is not supported in KHR_lights_punctual\");else {\n              var h = l.position.clone(),\n                  p = o._exporter._convertToRightHandedSystemMap[r.uniqueId];\n\n              if (h.equals(n.Vector3.Zero()) || (p && u.a._GetRightHandedPositionVector3FromRef(h), t.translation = h.asArray()), \"point\" !== f) {\n                var d = l.direction,\n                    m = -Math.atan2(d.z * (o._exporter._babylonScene.useRightHandedSystem ? -1 : 1), d.x) + Math.PI / 2,\n                    g = Math.sqrt(d.x * d.x + d.z * d.z),\n                    _ = -Math.atan2(d.y, g),\n                    x = n.Quaternion.RotationYawPitchRoll(m, _, 0);\n\n                p && u.a._GetRightHandedQuaternionFromRef(x), x.equals(n.Quaternion.Identity()) || (t.rotation = x.asArray());\n              }\n\n              if (l.falloffType !== n.Light.FALLOFF_GLTF && n.Logger.Warn(e + \": Light falloff for \" + l.name + \" does not match the KHR_lights_punctual specification!\"), c = {\n                type: f\n              }, l.diffuse.equals(n.Color3.White()) || (c.color = l.diffuse.asArray()), 1 !== l.intensity && (c.intensity = l.intensity), l.range !== Number.MAX_VALUE && (c.range = l.range), \"spot\" === f) {\n                var y = l;\n                y.angle !== Math.PI / 2 && (null == c.spot && (c.spot = {}), c.spot.outerConeAngle = y.angle / 2), 0 !== y.innerAngle && (null == c.spot && (c.spot = {}), c.spot.innerConeAngle = y.innerAngle / 2);\n              }\n\n              null == o._lights && (o._lights = {\n                lights: []\n              }), o._lights.lights.push(c);\n              var T = {\n                light: o._lights.lights.length - 1\n              },\n                  v = r.parent;\n\n              if (v && 1 == v.getChildren().length) {\n                var b = o._exporter._nodes[a[v.uniqueId]];\n\n                if (b) {\n                  var A = n.TmpVectors.Matrix[0],\n                      F = n.TmpVectors.Matrix[1],\n                      E = b.translation ? new n.Vector3(b.translation[0], b.translation[1], b.translation[2]) : n.Vector3.Zero(),\n                      M = b.rotation ? new n.Quaternion(b.rotation[0], b.rotation[1], b.rotation[2], b.rotation[3]) : n.Quaternion.Identity(),\n                      R = b.scale ? new n.Vector3(b.scale[0], b.scale[1], b.scale[2]) : n.Vector3.One();\n                  n.Matrix.ComposeToRef(R, M, E, A), A.invertToRef(F);\n                  var V = n.TmpVectors.Matrix[2],\n                      w = t.translation ? new n.Vector3(t.translation[0], t.translation[1], t.translation[2]) : n.Vector3.Zero();\n                  l instanceof n.DirectionalLight && w.subtractInPlace(o._exporter._babylonScene.useRightHandedSystem ? l.direction : u.a._GetRightHandedPositionVector3(l.direction));\n                  var S = o._exporter._babylonScene.useRightHandedSystem ? n.Quaternion.Identity() : new n.Quaternion(0, 1, 0, 0);\n                  t.rotation && S.multiplyInPlace(new n.Quaternion(t.rotation[0], t.rotation[1], t.rotation[2], t.rotation[3]));\n                  var C = t.scale ? new n.Vector3(t.scale[0], t.scale[1], t.scale[2]) : n.Vector3.One();\n                  n.Matrix.ComposeToRef(C, S, w, V), V.multiplyToRef(F, V);\n                  var B = n.TmpVectors.Vector3[0],\n                      I = n.TmpVectors.Quaternion[0],\n                      P = n.TmpVectors.Vector3[1];\n                  return V.decompose(B, I, P), b.scale = B.asArray(), b.rotation = I.asArray(), b.translation = P.asArray(), null == b.extensions && (b.extensions = {}), b.extensions.KHR_lights_punctual = T, void i(void 0);\n                }\n              }\n\n              null == t.extensions && (t.extensions = {}), t.extensions.KHR_lights_punctual = T;\n            }\n          }\n\n          i(t);\n        });\n      }, e;\n    }();\n\n    a.b.RegisterExtension(\"KHR_lights_punctual\", function (e) {\n      return new l(e);\n    });\n\n    var c = function () {\n      function e(e) {\n        this.name = \"KHR_materials_sheen\", this.enabled = !0, this.required = !1, this._textureInfos = [], this._exportedTextures = [], this._wasUsed = !1;\n      }\n\n      return e.prototype.dispose = function () {\n        this._textureInfos = [], this._exportedTextures = [];\n      }, Object.defineProperty(e.prototype, \"wasUsed\", {\n        get: function () {\n          return this._wasUsed;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype._getTextureIndex = function (e) {\n        var t = this._exportedTextures.indexOf(e);\n\n        return -1 === t && e.reservedDataStore && (t = this._exportedTextures.indexOf(e.reservedDataStore.source)), t;\n      }, e.prototype.postExportTexture = function (e, t, r) {\n        var n = this._getTextureIndex(r);\n\n        n > -1 && (this._textureInfos[n] = t);\n      }, e.prototype.postExportMaterialAdditionalTextures = function (e, t, r) {\n        return r instanceof n.PBRMaterial && r.sheen.isEnabled && r.sheen.texture ? (this._exportedTextures.push(r.sheen.texture), [r.sheen.texture]) : [];\n      }, e.prototype.postExportMaterialAsync = function (e, t, r) {\n        var a = this;\n        return new Promise(function (e, o) {\n          var i;\n\n          if (r instanceof n.PBRMaterial) {\n            if (!r.sheen.isEnabled) return void e(t);\n            a._wasUsed = !0, null == t.extensions && (t.extensions = {});\n            var s = {\n              sheenColorFactor: r.sheen.color.asArray(),\n              sheenRoughnessFactor: null !== (i = r.sheen.roughness) && void 0 !== i ? i : 0\n            };\n            if (r.sheen.texture) (u = a._getTextureIndex(r.sheen.texture)) > -1 && (s.sheenColorTexture = a._textureInfos[u]);\n            if (r.sheen.textureRoughness && !r.sheen.useRoughnessFromMainTexture) (u = a._getTextureIndex(r.sheen.textureRoughness)) > -1 && (s.sheenRoughnessTexture = a._textureInfos[u]);else if (r.sheen.texture && r.sheen.useRoughnessFromMainTexture) {\n              var u;\n              (u = a._getTextureIndex(r.sheen.texture)) > -1 && (s.sheenRoughnessTexture = a._textureInfos[u]);\n            }\n            t.extensions.KHR_materials_sheen = s;\n          }\n\n          e(t);\n        });\n      }, e;\n    }();\n\n    a.b.RegisterExtension(\"KHR_materials_sheen\", function (e) {\n      return new c(e);\n    });\n\n    var f = function () {\n      function e(e) {\n        this.name = \"KHR_materials_unlit\", this.enabled = !0, this.required = !1, this._wasUsed = !1;\n      }\n\n      return Object.defineProperty(e.prototype, \"wasUsed\", {\n        get: function () {\n          return this._wasUsed;\n        },\n        enumerable: !1,\n        configurable: !0\n      }), e.prototype.dispose = function () {}, e.prototype.postExportMaterialAsync = function (e, t, r) {\n        var a = this;\n        return new Promise(function (e, o) {\n          var i = !1;\n          r instanceof n.PBRMaterial ? i = r.unlit : r instanceof n.StandardMaterial && (i = r.disableLighting), i && (a._wasUsed = !0, null == t.extensions && (t.extensions = {}), t.extensions.KHR_materials_unlit = {}), e(t);\n        });\n      }, e;\n    }();\n\n    a.b.RegisterExtension(\"KHR_materials_unlit\", function (e) {\n      return new f(e);\n    });\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.d(t, \"a\", function () {\n      return a;\n    });\n\n    var n = r(0),\n        a = function () {\n      function e(e) {\n        this._textureMap = {}, this._textureMap = {}, this._exporter = e;\n      }\n\n      return e.FuzzyEquals = function (e, t, r) {\n        return n.Scalar.WithinEpsilon(e.r, t.r, r) && n.Scalar.WithinEpsilon(e.g, t.g, r) && n.Scalar.WithinEpsilon(e.b, t.b, r);\n      }, e.prototype._convertMaterialsToGLTFAsync = function (e, t, r) {\n        for (var a = [], o = 0, i = e; o < i.length; o++) {\n          var s = i[o];\n          s instanceof n.StandardMaterial ? a.push(this._convertStandardMaterialAsync(s, t, r)) : s instanceof n.PBRMetallicRoughnessMaterial ? a.push(this._convertPBRMetallicRoughnessMaterialAsync(s, t, r)) : s instanceof n.PBRMaterial ? a.push(this._convertPBRMaterialAsync(s, t, r)) : n.Tools.Warn(\"Unsupported material type: \" + s.name);\n        }\n\n        return Promise.all(a).then(function () {});\n      }, e.prototype._stripTexturesFromMaterial = function (e) {\n        var t = {};\n\n        if (e) {\n          t.name = e.name, t.doubleSided = e.doubleSided, t.alphaMode = e.alphaMode, t.alphaCutoff = e.alphaCutoff, t.emissiveFactor = e.emissiveFactor;\n          var r = e.pbrMetallicRoughness;\n          r && (t.pbrMetallicRoughness = {}, t.pbrMetallicRoughness.baseColorFactor = r.baseColorFactor, t.pbrMetallicRoughness.metallicFactor = r.metallicFactor, t.pbrMetallicRoughness.roughnessFactor = r.roughnessFactor);\n        }\n\n        return t;\n      }, e.prototype._hasTexturesPresent = function (e) {\n        if (e.emissiveTexture || e.normalTexture || e.occlusionTexture) return !0;\n        var t = e.pbrMetallicRoughness;\n        return !(!t || !t.baseColorTexture && !t.metallicRoughnessTexture);\n      }, e.prototype._convertToGLTFPBRMetallicRoughness = function (t) {\n        var r = new n.Vector2(0, 1),\n            a = new n.Vector2(0, .1),\n            o = new n.Vector2(0, .1),\n            i = new n.Vector2(1300, .1);\n\n        var s = t.diffuseColor.toLinearSpace().scale(.5),\n            u = t.alpha,\n            l = function (e) {\n          return function (e, t, r, n, a) {\n            return (1 - e) * (1 - e) * (1 - e) * t + 3 * (1 - e) * (1 - e) * e * r + 3 * (1 - e) * e * e * n + e * e * e * a;\n          }(Math.pow(e / i.x, .333333), r.y, a.y, o.y, i.y);\n        }(n.Scalar.Clamp(t.specularPower, 0, e._MaxSpecularPower));\n\n        return {\n          baseColorFactor: [s.r, s.g, s.b, u],\n          metallicFactor: 0,\n          roughnessFactor: l\n        };\n      }, e._SolveMetallic = function (e, t, r) {\n        if (t < this._DielectricSpecular.r) return this._DielectricSpecular, 0;\n        var a = this._DielectricSpecular.r,\n            o = e * r / (1 - this._DielectricSpecular.r) + t - 2 * this._DielectricSpecular.r,\n            i = o * o - 4 * a * (this._DielectricSpecular.r - t);\n        return n.Scalar.Clamp((-o + Math.sqrt(i)) / (2 * a), 0, 1);\n      }, e._SetAlphaMode = function (e, t) {\n        t.needAlphaBlending() ? e.alphaMode = \"BLEND\" : t.needAlphaTesting() && (e.alphaMode = \"MASK\", e.alphaCutoff = t.alphaCutOff);\n      }, e.prototype._convertStandardMaterialAsync = function (t, r, a) {\n        var o = this._exporter._materialMap,\n            i = this._exporter._materials,\n            s = [],\n            u = this._convertToGLTFPBRMetallicRoughness(t),\n            l = {\n          name: t.name\n        };\n\n        return null == t.backFaceCulling || t.backFaceCulling || (t.twoSidedLighting || n.Tools.Warn(t.name + \": Back-face culling enabled and two-sided lighting disabled is not supported in glTF.\"), l.doubleSided = !0), a && (t.diffuseTexture && s.push(this._exportTextureAsync(t.diffuseTexture, r).then(function (e) {\n          e && (u.baseColorTexture = e);\n        })), t.bumpTexture && s.push(this._exportTextureAsync(t.bumpTexture, r).then(function (e) {\n          e && (l.normalTexture = e, null != t.bumpTexture && 1 !== t.bumpTexture.level && (l.normalTexture.scale = t.bumpTexture.level));\n        })), t.emissiveTexture && (l.emissiveFactor = [1, 1, 1], s.push(this._exportTextureAsync(t.emissiveTexture, r).then(function (e) {\n          e && (l.emissiveTexture = e);\n        }))), t.ambientTexture && s.push(this._exportTextureAsync(t.ambientTexture, r).then(function (e) {\n          if (e) {\n            var t = {\n              index: e.index\n            };\n            l.occlusionTexture = t, t.strength = 1;\n          }\n        }))), (t.alpha < 1 || t.opacityTexture) && (t.alphaMode === n.Constants.ALPHA_COMBINE ? l.alphaMode = \"BLEND\" : n.Tools.Warn(t.name + \": glTF 2.0 does not support alpha mode: \" + t.alphaMode.toString())), t.emissiveColor && !e.FuzzyEquals(t.emissiveColor, n.Color3.Black(), e._Epsilon) && (l.emissiveFactor = t.emissiveColor.asArray()), l.pbrMetallicRoughness = u, e._SetAlphaMode(l, t), i.push(l), o[t.uniqueId] = i.length - 1, this._finishMaterial(s, l, t, r);\n      }, e.prototype._finishMaterial = function (e, t, r, n) {\n        var a = this;\n        return Promise.all(e).then(function () {\n          for (var e = null, o = 0, i = a._exporter._extensionsPostExportMaterialAdditionalTextures(\"exportMaterial\", t, r); o < i.length; o++) {\n            var s = i[o];\n            e || (e = []), e.push(a._exportTextureAsync(s, n));\n          }\n\n          return e || (e = [Promise.resolve(null)]), Promise.all(e).then(function () {\n            var e = a._exporter._extensionsPostExportMaterialAsync(\"exportMaterial\", t, r);\n\n            return e ? e.then(function () {\n              return t;\n            }) : t;\n          });\n        });\n      }, e.prototype._convertPBRMetallicRoughnessMaterialAsync = function (t, r, a) {\n        var o = this._exporter._materialMap,\n            i = this._exporter._materials,\n            s = [],\n            u = {};\n        t.baseColor && (u.baseColorFactor = [t.baseColor.r, t.baseColor.g, t.baseColor.b, t.alpha]), null != t.metallic && 1 !== t.metallic && (u.metallicFactor = t.metallic), null != t.roughness && 1 !== t.roughness && (u.roughnessFactor = t.roughness);\n        var l = {\n          name: t.name\n        };\n        return t.doubleSided && (l.doubleSided = t.doubleSided), e._SetAlphaMode(l, t), a && (null != t.baseTexture && s.push(this._exportTextureAsync(t.baseTexture, r).then(function (e) {\n          e && (u.baseColorTexture = e);\n        })), t.normalTexture && s.push(this._exportTextureAsync(t.normalTexture, r).then(function (e) {\n          e && (l.normalTexture = e, 1 !== t.normalTexture.level && (l.normalTexture.scale = t.normalTexture.level));\n        })), t.occlusionTexture && s.push(this._exportTextureAsync(t.occlusionTexture, r).then(function (e) {\n          e && (l.occlusionTexture = e, null != t.occlusionStrength && (l.occlusionTexture.strength = t.occlusionStrength));\n        })), t.emissiveTexture && s.push(this._exportTextureAsync(t.emissiveTexture, r).then(function (e) {\n          e && (l.emissiveTexture = e);\n        }))), e.FuzzyEquals(t.emissiveColor, n.Color3.Black(), e._Epsilon) && (l.emissiveFactor = t.emissiveColor.asArray()), l.pbrMetallicRoughness = u, i.push(l), o[t.uniqueId] = i.length - 1, this._finishMaterial(s, l, t, r);\n      }, e.prototype._createBase64FromCanvasAsync = function (e, t, r, a) {\n        var o = this;\n        return new Promise(function (i, s) {\n          var u,\n              l = n.Constants.TEXTURETYPE_UNSIGNED_INT,\n              c = o._exporter._getLocalEngine();\n\n          u = new n.Scene(c);\n          var f = c.createRawTexture(e, t, r, n.Constants.TEXTUREFORMAT_RGBA, !1, !0, n.Texture.NEAREST_SAMPLINGMODE, null, l),\n              h = new n.PostProcess(\"pass\", \"pass\", null, null, 1, null, n.Texture.NEAREST_SAMPLINGMODE, c, !1, void 0, n.Constants.TEXTURETYPE_UNSIGNED_INT, void 0, null, !1);\n          h.getEffect().executeWhenCompiled(function () {\n            var e, o;\n            h.onApply = function (e) {\n              e._bindTexture(\"textureSampler\", f);\n            }, c.setSize(t, r), u.postProcessManager.directRender([h], null), h.dispose(), f.dispose();\n            var l = c.getRenderingCanvas(),\n                p = document.createElement(\"canvas\");\n            if (p.width = null !== (e = null == l ? void 0 : l.width) && void 0 !== e ? e : 0, p.height = null !== (o = null == l ? void 0 : l.height) && void 0 !== o ? o : 0, p.getContext(\"2d\").drawImage(l, 0, 0), p) {\n              if (p.toBlob) n.Tools.ToBlob(p, function (e) {\n                if (p = null, e) {\n                  var t = new FileReader();\n                  t.onload = function (e) {\n                    var t = e.target.result;\n                    u.dispose(), i(t);\n                  }, t.readAsDataURL(e);\n                } else s(\"gltfMaterialExporter: Failed to get blob from image canvas!\");\n              }, a);else {\n                var d = p.toDataURL();\n                i(d);\n              }\n            } else s(\"Engine is missing a canvas!\");\n          });\n        });\n      }, e.prototype._createWhiteTexture = function (e, t, r) {\n        for (var a = new Uint8Array(e * t * 4), o = 0; o < a.length; o += 4) a[o] = a[o + 1] = a[o + 2] = a[o + 3] = 255;\n\n        return n.RawTexture.CreateRGBATexture(a, e, t, r);\n      }, e.prototype._resizeTexturesToSameDimensions = function (e, t, r) {\n        var a,\n            o,\n            i = e ? e.getSize() : {\n          width: 0,\n          height: 0\n        },\n            s = t ? t.getSize() : {\n          width: 0,\n          height: 0\n        };\n        return i.width < s.width ? (a = e && e instanceof n.Texture ? n.TextureTools.CreateResizedCopy(e, s.width, s.height, !0) : this._createWhiteTexture(s.width, s.height, r), o = t) : i.width > s.width ? (o = t && t instanceof n.Texture ? n.TextureTools.CreateResizedCopy(t, i.width, i.height, !0) : this._createWhiteTexture(i.width, i.height, r), a = e) : (a = e, o = t), {\n          texture1: a,\n          texture2: o\n        };\n      }, e.prototype._convertPixelArrayToFloat32 = function (e) {\n        if (e instanceof Uint8Array) {\n          for (var t = e.length, r = new Float32Array(e.length), n = 0; n < t; ++n) r[n] = e[n] / 255;\n\n          return r;\n        }\n\n        if (e instanceof Float32Array) return e;\n        throw new Error(\"Unsupported pixel format!\");\n      }, e.prototype._convertSpecularGlossinessTexturesToMetallicRoughnessAsync = function (t, r, a, o) {\n        var i = [];\n        if (!t && !r) return Promise.reject(\"_ConvertSpecularGlosinessTexturesToMetallicRoughness: diffuse and specular glossiness textures are not defined!\");\n        var s = t ? t.getScene() : r ? r.getScene() : null;\n\n        if (s) {\n          var u = this._resizeTexturesToSameDimensions(t, r, s),\n              l = u.texture1.getSize(),\n              c = void 0,\n              f = void 0,\n              h = l.width,\n              p = l.height,\n              d = u.texture1.readPixels(),\n              m = u.texture2.readPixels();\n\n          if (!d) return Promise.reject(\"Failed to retrieve pixels from diffuse texture!\");\n          if (c = this._convertPixelArrayToFloat32(d), !m) return Promise.reject(\"Failed to retrieve pixels from specular glossiness texture!\");\n\n          for (var g = (f = this._convertPixelArrayToFloat32(m)).byteLength, _ = new Uint8Array(g), x = new Uint8Array(g), y = n.Color3.Black(), T = 0, v = 0, b = 0; b < p; ++b) for (var A = 0; A < h; ++A) {\n            var F = 4 * (h * b + A),\n                E = {\n              diffuseColor: new n.Color3(c[F], c[F + 1], c[F + 2]).toLinearSpace().multiply(a.diffuseColor),\n              specularColor: new n.Color3(f[F], f[F + 1], f[F + 2]).toLinearSpace().multiply(a.specularColor),\n              glossiness: f[F + 3] * a.glossiness\n            },\n                M = this._convertSpecularGlossinessToMetallicRoughness(E);\n\n            y.r = Math.max(y.r, M.baseColor.r), y.g = Math.max(y.g, M.baseColor.g), y.b = Math.max(y.b, M.baseColor.b), T = Math.max(T, M.metallic), v = Math.max(v, M.roughness), x[F] = 255 * M.baseColor.r, x[F + 1] = 255 * M.baseColor.g, x[F + 2] = 255 * M.baseColor.b, x[F + 3] = u.texture1.hasAlpha ? 255 * c[F + 3] : 255, _[F] = 0, _[F + 1] = 255 * M.roughness, _[F + 2] = 255 * M.metallic, _[F + 3] = 255;\n          }\n\n          var R = {\n            baseColor: y,\n            metallic: T,\n            roughness: v\n          },\n              V = !1,\n              w = !1;\n\n          for (b = 0; b < p; ++b) for (A = 0; A < h; ++A) {\n            var S = 4 * (h * b + A);\n            x[S] /= R.baseColor.r > e._Epsilon ? R.baseColor.r : 1, x[S + 1] /= R.baseColor.g > e._Epsilon ? R.baseColor.g : 1, x[S + 2] /= R.baseColor.b > e._Epsilon ? R.baseColor.b : 1;\n            var C = n.Color3.FromInts(x[S], x[S + 1], x[S + 2]).toGammaSpace();\n            x[S] = 255 * C.r, x[S + 1] = 255 * C.g, x[S + 2] = 255 * C.b, e.FuzzyEquals(C, n.Color3.White(), e._Epsilon) || (w = !0), _[S + 1] /= R.roughness > e._Epsilon ? R.roughness : 1, _[S + 2] /= R.metallic > e._Epsilon ? R.metallic : 1;\n            var B = n.Color3.FromInts(255, _[S + 1], _[S + 2]);\n            e.FuzzyEquals(B, n.Color3.White(), e._Epsilon) || (V = !0);\n          }\n\n          if (V) {\n            var I = this._createBase64FromCanvasAsync(_, h, p, o).then(function (e) {\n              R.metallicRoughnessTextureBase64 = e;\n            });\n\n            i.push(I);\n          }\n\n          if (w) {\n            I = this._createBase64FromCanvasAsync(x, h, p, o).then(function (e) {\n              R.baseColorTextureBase64 = e;\n            });\n            i.push(I);\n          }\n\n          return Promise.all(i).then(function () {\n            return R;\n          });\n        }\n\n        return Promise.reject(\"_ConvertSpecularGlossinessTexturesToMetallicRoughness: Scene from textures is missing!\");\n      }, e.prototype._convertSpecularGlossinessToMetallicRoughness = function (t) {\n        var r = this._getPerceivedBrightness(t.diffuseColor),\n            a = this._getPerceivedBrightness(t.specularColor),\n            o = 1 - this._getMaxComponent(t.specularColor),\n            i = e._SolveMetallic(r, a, o),\n            s = t.diffuseColor.scale(o / (1 - e._DielectricSpecular.r) / Math.max(1 - i, e._Epsilon)),\n            u = t.specularColor.subtract(e._DielectricSpecular.scale(1 - i)).scale(1 / Math.max(i, e._Epsilon)),\n            l = n.Color3.Lerp(s, u, i * i);\n\n        return {\n          baseColor: l = l.clampToRef(0, 1, l),\n          metallic: i,\n          roughness: 1 - t.glossiness\n        };\n      }, e.prototype._getPerceivedBrightness = function (e) {\n        return e ? Math.sqrt(.299 * e.r * e.r + .587 * e.g * e.g + .114 * e.b * e.b) : 0;\n      }, e.prototype._getMaxComponent = function (e) {\n        return e ? Math.max(e.r, Math.max(e.g, e.b)) : 0;\n      }, e.prototype._convertMetalRoughFactorsToMetallicRoughnessAsync = function (e, t, r, n) {\n        var a = [],\n            o = {\n          baseColor: e.albedoColor,\n          metallic: e.metallic,\n          roughness: e.roughness\n        };\n        return n && (e.albedoTexture && a.push(this._exportTextureAsync(e.albedoTexture, t).then(function (e) {\n          e && (r.baseColorTexture = e);\n        })), e.metallicTexture && a.push(this._exportTextureAsync(e.metallicTexture, t).then(function (e) {\n          e && (r.metallicRoughnessTexture = e);\n        }))), Promise.all(a).then(function () {\n          return o;\n        });\n      }, e.prototype._getGLTFTextureSampler = function (e) {\n        var t = this._getGLTFTextureWrapModesSampler(e),\n            r = e instanceof n.Texture ? e.samplingMode : null;\n\n        if (null != r) switch (r) {\n          case n.Texture.LINEAR_LINEAR:\n            t.magFilter = 9729, t.minFilter = 9729;\n            break;\n\n          case n.Texture.LINEAR_NEAREST:\n            t.magFilter = 9729, t.minFilter = 9728;\n            break;\n\n          case n.Texture.NEAREST_LINEAR:\n            t.magFilter = 9728, t.minFilter = 9729;\n            break;\n\n          case n.Texture.NEAREST_LINEAR_MIPLINEAR:\n            t.magFilter = 9728, t.minFilter = 9987;\n            break;\n\n          case n.Texture.NEAREST_NEAREST:\n            t.magFilter = 9728, t.minFilter = 9728;\n            break;\n\n          case n.Texture.NEAREST_LINEAR_MIPNEAREST:\n            t.magFilter = 9728, t.minFilter = 9985;\n            break;\n\n          case n.Texture.LINEAR_NEAREST_MIPNEAREST:\n            t.magFilter = 9729, t.minFilter = 9984;\n            break;\n\n          case n.Texture.LINEAR_NEAREST_MIPLINEAR:\n            t.magFilter = 9729, t.minFilter = 9986;\n            break;\n\n          case n.Texture.NEAREST_NEAREST_MIPLINEAR:\n            t.magFilter = 9728, t.minFilter = 9986;\n            break;\n\n          case n.Texture.LINEAR_LINEAR_MIPLINEAR:\n            t.magFilter = 9729, t.minFilter = 9987;\n            break;\n\n          case n.Texture.LINEAR_LINEAR_MIPNEAREST:\n            t.magFilter = 9729, t.minFilter = 9985;\n            break;\n\n          case n.Texture.NEAREST_NEAREST_MIPNEAREST:\n            t.magFilter = 9728, t.minFilter = 9984;\n        }\n        return t;\n      }, e.prototype._getGLTFTextureWrapMode = function (e) {\n        switch (e) {\n          case n.Texture.WRAP_ADDRESSMODE:\n            return 10497;\n\n          case n.Texture.CLAMP_ADDRESSMODE:\n            return 33071;\n\n          case n.Texture.MIRROR_ADDRESSMODE:\n            return 33648;\n\n          default:\n            return n.Tools.Error(\"Unsupported Texture Wrap Mode \" + e + \"!\"), 10497;\n        }\n      }, e.prototype._getGLTFTextureWrapModesSampler = function (e) {\n        var t = this._getGLTFTextureWrapMode(e instanceof n.Texture ? e.wrapU : n.Texture.WRAP_ADDRESSMODE),\n            r = this._getGLTFTextureWrapMode(e instanceof n.Texture ? e.wrapV : n.Texture.WRAP_ADDRESSMODE);\n\n        return 10497 === t && 10497 === r ? {} : {\n          wrapS: t,\n          wrapT: r\n        };\n      }, e.prototype._convertSpecGlossFactorsToMetallicRoughnessAsync = function (e, t, r, a) {\n        var o = this;\n        return Promise.resolve().then(function () {\n          var i = o._exporter._samplers,\n              s = o._exporter._textures,\n              u = {\n            diffuseColor: e.albedoColor || n.Color3.White(),\n            specularColor: e.reflectivityColor || n.Color3.White(),\n            glossiness: e.microSurface || 1\n          },\n              l = null,\n              c = o._getGLTFTextureSampler(e.albedoTexture);\n\n          return null != c.magFilter && null != c.minFilter && null != c.wrapS && null != c.wrapT && (i.push(c), l = i.length - 1), e.reflectivityTexture && !e.useMicroSurfaceFromReflectivityMapAlpha ? Promise.reject(\"_ConvertPBRMaterial: Glossiness values not included in the reflectivity texture are currently not supported\") : (e.albedoTexture || e.reflectivityTexture) && a ? o._convertSpecularGlossinessTexturesToMetallicRoughnessAsync(e.albedoTexture, e.reflectivityTexture, u, t).then(function (n) {\n            if (n.baseColorTextureBase64) {\n              var a = o._getTextureInfoFromBase64(n.baseColorTextureBase64, \"bjsBaseColorTexture_\" + s.length + \".png\", t, e.albedoTexture ? e.albedoTexture.coordinatesIndex : null, l);\n\n              a && (r.baseColorTexture = a);\n            }\n\n            if (n.metallicRoughnessTextureBase64) {\n              var i = o._getTextureInfoFromBase64(n.metallicRoughnessTextureBase64, \"bjsMetallicRoughnessTexture_\" + s.length + \".png\", t, e.reflectivityTexture ? e.reflectivityTexture.coordinatesIndex : null, l);\n\n              i && (r.metallicRoughnessTexture = i);\n            }\n\n            return n;\n          }) : o._convertSpecularGlossinessToMetallicRoughness(u);\n        });\n      }, e.prototype._convertPBRMaterialAsync = function (e, t, r) {\n        var n = this,\n            a = {},\n            o = {\n          name: e.name\n        };\n        return e.isMetallicWorkflow() ? (e.albedoColor && (a.baseColorFactor = [e.albedoColor.r, e.albedoColor.g, e.albedoColor.b, e.alpha]), this._convertMetalRoughFactorsToMetallicRoughnessAsync(e, t, a, r).then(function (i) {\n          return n.setMetallicRoughnessPbrMaterial(i, e, o, a, t, r);\n        })) : this._convertSpecGlossFactorsToMetallicRoughnessAsync(e, t, a, r).then(function (i) {\n          return n.setMetallicRoughnessPbrMaterial(i, e, o, a, t, r);\n        });\n      }, e.prototype.setMetallicRoughnessPbrMaterial = function (t, r, a, o, i, s) {\n        var u = this._exporter._materialMap,\n            l = this._exporter._materials,\n            c = [];\n\n        if (t) {\n          if (e._SetAlphaMode(a, r), e.FuzzyEquals(t.baseColor, n.Color3.White(), e._Epsilon) && r.alpha >= e._Epsilon || (o.baseColorFactor = [t.baseColor.r, t.baseColor.g, t.baseColor.b, r.alpha]), null != t.metallic && 1 !== t.metallic && (o.metallicFactor = t.metallic), null != t.roughness && 1 !== t.roughness && (o.roughnessFactor = t.roughness), null == r.backFaceCulling || r.backFaceCulling || (r.twoSidedLighting || n.Tools.Warn(r.name + \": Back-face culling enabled and two-sided lighting disabled is not supported in glTF.\"), a.doubleSided = !0), s) {\n            if (r.bumpTexture) {\n              var f = this._exportTextureAsync(r.bumpTexture, i).then(function (e) {\n                e && (a.normalTexture = e, 1 !== r.bumpTexture.level && (a.normalTexture.scale = r.bumpTexture.level));\n              });\n\n              c.push(f);\n            }\n\n            if (r.ambientTexture) {\n              f = this._exportTextureAsync(r.ambientTexture, i).then(function (e) {\n                if (e) {\n                  var t = {\n                    index: e.index,\n                    texCoord: e.texCoord\n                  };\n                  a.occlusionTexture = t, r.ambientTextureStrength && (t.strength = r.ambientTextureStrength);\n                }\n              });\n              c.push(f);\n            }\n\n            if (r.emissiveTexture) {\n              f = this._exportTextureAsync(r.emissiveTexture, i).then(function (e) {\n                e && (a.emissiveTexture = e);\n              });\n              c.push(f);\n            }\n          }\n\n          e.FuzzyEquals(r.emissiveColor, n.Color3.Black(), e._Epsilon) || (a.emissiveFactor = r.emissiveColor.asArray()), a.pbrMetallicRoughness = o, l.push(a), u[r.uniqueId] = l.length - 1;\n        }\n\n        return this._finishMaterial(c, a, r, i);\n      }, e.prototype.getPixelsFromTexture = function (e) {\n        return e.textureType, n.Constants.TEXTURETYPE_UNSIGNED_INT, e.readPixels();\n      }, e.prototype._exportTextureAsync = function (e, t) {\n        var r = this,\n            n = this._exporter._extensionsPreExportTextureAsync(\"exporter\", e, t);\n\n        return n ? n.then(function (n) {\n          return n ? r._exportTextureInfoAsync(n, t) : r._exportTextureInfoAsync(e, t);\n        }) : this._exportTextureInfoAsync(e, t);\n      }, e.prototype._exportTextureInfoAsync = function (e, t) {\n        var r = this;\n        return Promise.resolve().then(function () {\n          var n = e.uid;\n          if (n in r._textureMap) return r._textureMap[n];\n          var a = r.getPixelsFromTexture(e);\n          if (!a) return null;\n\n          for (var o = r._exporter._samplers, i = r._getGLTFTextureSampler(e), s = null, u = null, l = 0; l < o.length; ++l) {\n            var c = o[l];\n\n            if (c.minFilter === i.minFilter && c.magFilter === i.magFilter && c.wrapS === i.wrapS && c.wrapT === i.wrapT) {\n              u = l;\n              break;\n            }\n          }\n\n          null == u ? (o.push(i), s = o.length - 1) : s = u;\n          var f = e.getSize();\n          if (e.mimeType) switch (e.mimeType) {\n            case \"image/jpeg\":\n              t = \"image/jpeg\";\n              break;\n\n            case \"image/png\":\n              t = \"image/png\";\n          }\n          return r._createBase64FromCanvasAsync(a, f.width, f.height, t).then(function (a) {\n            var o = r._getTextureInfoFromBase64(a, e.name.replace(/\\.\\/|\\/|\\.\\\\|\\\\/g, \"_\"), t, e.coordinatesIndex, s);\n\n            return o && (r._textureMap[n] = o, r._exporter._extensionsPostExportTextures(\"linkTextureInfo\", o, e)), o;\n          });\n        });\n      }, e.prototype._getTextureInfoFromBase64 = function (e, t, r, a, o) {\n        var i = this._exporter._textures,\n            s = this._exporter._images,\n            u = this._exporter._imageData,\n            l = null,\n            c = {\n          source: s.length,\n          name: t\n        };\n        null != o && (c.sampler = o);\n\n        for (var f = atob(e.split(\",\")[1]), h = new ArrayBuffer(f.length), p = new Uint8Array(h), d = 0, m = f.length; d < m; ++d) p[d] = f.charCodeAt(d);\n\n        var g = {\n          data: p,\n          mimeType: r\n        },\n            _ = \"image/jpeg\" === r ? \".jpeg\" : \".png\",\n            x = t + _,\n            y = x;\n\n        if (x in u && (x = t + \"_\" + n.Tools.RandomId() + _), u[x] = g, \"image/jpeg\" === r || \"image/png\" === r) {\n          var T = {\n            name: t,\n            uri: x\n          },\n              v = null;\n\n          for (d = 0; d < s.length; ++d) if (s[d].uri === y) {\n            v = d;\n            break;\n          }\n\n          null == v ? (s.push(T), c.source = s.length - 1) : c.source = v, i.push(c), l = {\n            index: i.length - 1\n          }, null != a && (l.texCoord = a);\n        } else n.Tools.Error(\"Unsupported texture mime type \" + r);\n\n        return l;\n      }, e._DielectricSpecular = new n.Color3(.04, .04, .04), e._MaxSpecularPower = 1024, e._Epsilon = 1e-6, e;\n    }();\n  }, function (e, t) {\n    var r;\n\n    r = function () {\n      return this;\n    }();\n\n    try {\n      r = r || new Function(\"return this\")();\n    } catch (e) {\n      \"object\" == typeof window && (r = window);\n    }\n\n    e.exports = r;\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"STLExport\", function () {\n      return a;\n    });\n\n    var n = r(0),\n        a = function () {\n      function e() {}\n\n      return e.CreateSTL = function (e, t, r, a, o, i) {\n        void 0 === t && (t = !0), void 0 === r && (r = \"stlmesh\"), void 0 === a && (a = !1), void 0 === o && (o = !0), void 0 === i && (i = !1);\n\n        var s,\n            u = function (e, t, r) {\n          var a = [3 * e[r], 3 * e[r + 1], 3 * e[r + 2]],\n              o = [new n.Vector3(t[a[0]], t[a[0] + 2], t[a[0] + 1]), new n.Vector3(t[a[1]], t[a[1] + 2], t[a[1] + 1]), new n.Vector3(t[a[2]], t[a[2] + 2], t[a[2] + 1])],\n              i = o[0].subtract(o[1]),\n              s = o[2].subtract(o[1]);\n          return {\n            v: o,\n            n: n.Vector3.Cross(s, i).normalize()\n          };\n        },\n            l = function (e, t, r, n) {\n          return t = c(e, t, r.x, n), t = c(e, t, r.y, n), c(e, t, r.z, n);\n        },\n            c = function (e, t, r, n) {\n          return e.setFloat32(t, r, n), t + 4;\n        },\n            f = 0,\n            h = 0;\n\n        if (a) {\n          for (var p = 0; p < e.length; p++) {\n            f += (_ = (m = e[p]).getIndices()) ? _.length / 3 : 0;\n          }\n\n          var d = new ArrayBuffer(84 + 50 * f);\n          h += 80, (s = new DataView(d)).setUint32(h, f, o), h += 4;\n        } else s = \"solid stlmesh\\r\\n\";\n\n        for (p = 0; p < e.length; p++) {\n          var m = e[p];\n          i || m.bakeCurrentTransformIntoVertices();\n\n          for (var g = m.getVerticesData(n.VertexBuffer.PositionKind) || [], _ = m.getIndices() || [], x = 0; x < _.length; x += 3) {\n            var y = u(_, g, x);\n            a ? (h = l(s, h, y.n, o), h = l(s, h, y.v[0], o), h = l(s, h, y.v[1], o), h = l(s, h, y.v[2], o), h += 2) : (s += \"facet normal \" + y.n.x + \" \" + y.n.y + \" \" + y.n.z + \"\\r\\n\", s += \"\\touter loop\\r\\n\", s += \"\\t\\tvertex \" + y.v[0].x + \" \" + y.v[0].y + \" \" + y.v[0].z + \"\\r\\n\", s += \"\\t\\tvertex \" + y.v[1].x + \" \" + y.v[1].y + \" \" + y.v[1].z + \"\\r\\n\", s += \"\\t\\tvertex \" + y.v[2].x + \" \" + y.v[2].y + \" \" + y.v[2].z + \"\\r\\n\", s += \"\\tendloop\\r\\n\", s += \"endfacet\\r\\n\");\n          }\n        }\n\n        if (a || (s += \"endsolid stlmesh\"), t) {\n          var T = document.createElement(\"a\"),\n              v = new Blob([s], {\n            type: \"application/octet-stream\"\n          });\n          T.href = window.URL.createObjectURL(v), T.download = r + \".stl\", T.click();\n        }\n\n        return s;\n      }, e;\n    }();\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), function (e) {\n      var n = r(4),\n          a = r(3),\n          o = r(8),\n          i = r(9),\n          s = r(6);\n      r.d(t, \"__IGLTFExporterExtension\", function () {\n        return n.__IGLTFExporterExtension;\n      }), r.d(t, \"_GLTFAnimation\", function () {\n        return s._GLTFAnimation;\n      }), r.d(t, \"GLTFData\", function () {\n        return s.GLTFData;\n      }), r.d(t, \"_Exporter\", function () {\n        return s._Exporter;\n      }), r.d(t, \"_BinaryWriter\", function () {\n        return s._BinaryWriter;\n      }), r.d(t, \"__IGLTFExporterExtensionV2\", function () {\n        return s.__IGLTFExporterExtensionV2;\n      }), r.d(t, \"_GLTFMaterialExporter\", function () {\n        return s._GLTFMaterialExporter;\n      }), r.d(t, \"GLTF2Export\", function () {\n        return s.GLTF2Export;\n      }), r.d(t, \"_GLTFUtilities\", function () {\n        return s._GLTFUtilities;\n      }), r.d(t, \"KHR_texture_transform\", function () {\n        return s.KHR_texture_transform;\n      }), r.d(t, \"KHR_lights_punctual\", function () {\n        return s.KHR_lights_punctual;\n      }), r.d(t, \"KHR_materials_sheen\", function () {\n        return s.KHR_materials_sheen;\n      }), r.d(t, \"KHR_materials_unlit\", function () {\n        return s.KHR_materials_unlit;\n      });\n      var u = void 0 !== e ? e : \"undefined\" != typeof window ? window : void 0;\n\n      if (void 0 !== u) {\n        u.BABYLON = u.BABYLON || {};\n        var l = u.BABYLON;\n        l.GLTF2 = l.GLTF2 || {}, l.GLTF2.Exporter = l.GLTF2.Exporter || {}, l.GLTF2.Exporter.Extensions = l.GLTF2.Exporter.Extensions || {};\n        var c = [];\n\n        for (var f in n) l[f] = n[f], c.push(f);\n\n        for (var f in a) l[f] = a[f], c.push(f);\n\n        for (var f in o) l[f] = o[f], c.push(f);\n\n        for (var f in i) l.GLTF2.Exporter.Extensions[f] = i[f], c.push(f);\n\n        for (var f in s) c.indexOf(f) > -1 || (l.GLTF2.Exporter[f] = s[f]);\n      }\n    }.call(this, r(11));\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), function (e) {\n      var n = r(5);\n      r.d(t, \"OBJExport\", function () {\n        return n.OBJExport;\n      });\n      var a = void 0 !== e ? e : \"undefined\" != typeof window ? window : void 0;\n      if (void 0 !== a) for (var o in n) a.BABYLON[o] = n[o];\n    }.call(this, r(11));\n  }, function (e, t, r) {\n    \"use strict\";\n\n    (function (e) {\n      var n = r(12);\n      r.d(t, \"a\", function () {\n        return n.STLExport;\n      });\n      var a = void 0 !== e ? e : \"undefined\" != typeof window ? window : void 0;\n      if (void 0 !== a) for (var o in n) a.BABYLON[o] = n[o];\n    }).call(this, r(11));\n  }, function (e, t, r) {\n    \"use strict\";\n\n    r.r(t), r.d(t, \"__IGLTFExporterExtension\", function () {\n      return n.__IGLTFExporterExtension;\n    }), r.d(t, \"_GLTFAnimation\", function () {\n      return n._GLTFAnimation;\n    }), r.d(t, \"GLTFData\", function () {\n      return n.GLTFData;\n    }), r.d(t, \"_Exporter\", function () {\n      return n._Exporter;\n    }), r.d(t, \"_BinaryWriter\", function () {\n      return n._BinaryWriter;\n    }), r.d(t, \"__IGLTFExporterExtensionV2\", function () {\n      return n.__IGLTFExporterExtensionV2;\n    }), r.d(t, \"_GLTFMaterialExporter\", function () {\n      return n._GLTFMaterialExporter;\n    }), r.d(t, \"GLTF2Export\", function () {\n      return n.GLTF2Export;\n    }), r.d(t, \"_GLTFUtilities\", function () {\n      return n._GLTFUtilities;\n    }), r.d(t, \"KHR_texture_transform\", function () {\n      return n.KHR_texture_transform;\n    }), r.d(t, \"KHR_lights_punctual\", function () {\n      return n.KHR_lights_punctual;\n    }), r.d(t, \"KHR_materials_sheen\", function () {\n      return n.KHR_materials_sheen;\n    }), r.d(t, \"KHR_materials_unlit\", function () {\n      return n.KHR_materials_unlit;\n    }), r.d(t, \"OBJExport\", function () {\n      return a.OBJExport;\n    }), r.d(t, \"STLExport\", function () {\n      return o.a;\n    });\n    r(5), r(4), r(6), r(12);\n    var n = r(13),\n        a = r(14),\n        o = r(15);\n  }]);\n});","map":{"version":3,"sources":["D:/collection/PROJECT`s/JAPAN/8863074498439810063enhancementv7/node_modules/babylonjs-serializers/babylonjs.serializers.min.js"],"names":["e","t","exports","module","require","define","amd","SERIALIZERS","BABYLON","self","global","r","n","a","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","_CreateBufferView","buffer","byteLength","byteOffset","name","byteStride","_CreateAccessor","u","bufferView","componentType","count","type","min","max","_CalculateMinMaxPositions","f","h","Vector3","FromArray","_GetRightHandedPositionVector3FromRef","asArray","_GetRightHandedPositionVector3","x","y","z","_GetRightHandedPositionArray3FromRef","_GetRightHandedNormalVector3","_GetRightHandedNormalVector3FromRef","_GetRightHandedNormalArray3FromRef","_GetRightHandedVector4FromRef","w","_GetRightHandedArray4FromRef","_GetRightHandedQuaternionFromRef","_GetRightHandedQuaternionArrayFromRef","_NormalizeTangentFromRef","Math","sqrt","_GetRightHandedMatrixFromRef","Matrix","FromValuesToRef","_GetDataAccessorElementCount","_includeCoordinateSystemConversionNodes","_extensions","_glTF","asset","generator","version","_babylonScene","_bufferViews","_accessors","_meshes","_scenes","_nodes","_images","_materials","_materialMap","_textures","_samplers","_skins","_animations","_imageData","_orderedImageData","_options","_animationSampleRate","animationSampleRate","includeCoordinateSystemConversionNodes","_glTFMaterialExporter","_loadExtensions","_applyExtension","length","Promise","resolve","then","_applyExtensions","_ExtensionNames","push","_extensionsPreExportTextureAsync","preExportTextureAsync","_extensionsPostExportMeshPrimitiveAsync","postExportMeshPrimitiveAsync","_extensionsPostExportNodeAsync","postExportNodeAsync","_extensionsPostExportMaterialAsync","postExportMaterialAsync","_extensionsPostExportMaterialAdditionalTextures","postExportMaterialAdditionalTextures","apply","_extensionsPostExportTextures","postExportTexture","_forEachExtensions","enabled","_extensionsOnExporting","wasUsed","extensionsUsed","indexOf","required","extensionsRequired","extensions","onExporting","_ExtensionFactories","dispose","RegisterExtension","UnregisterExtension","Tools","Warn","splice","_getLocalEngine","_localEngine","document","createElement","id","width","height","Engine","premultipliedAlpha","IsSafari","preserveDrawingBuffer","setViewport","Viewport","reorderIndicesBasedOnPrimitiveMode","Material","TriangleFillMode","indexStart","indexCount","getUInt32","setUInt32","TriangleFanDrawMode","TriangleStripDrawMode","reorderVertexAttributeDataBasedOnPrimitiveMode","ClockWiseSideOrientation","reorderTriangleFillMode","reorderTriangleStripDrawMode","reorderTriangleFanMode","getVertexBufferFromMesh","getMesh","VertexBuffer","GetTypeByteLength","verticesCount","Error","PositionKind","NormalKind","verticesStart","TangentKind","Vector4","ColorKind","getSize","UVKind","UV2Kind","Vector2","writeVertexAttributeData","normalize","setFloat32","writeAttributeData","g","_","material","StandardMaterial","Color3","Color4","FromArrayToRef","toLinearSpaceToRef","T","MatricesIndicesKind","MatricesIndicesExtraKind","v","MatricesWeightsKind","MatricesWeightsExtraKind","b","setUInt8","setUInt16","A","F","E","M","writeMorphTargetAttributeData","subtractToRef","copyFromFloats","generateJSON","_totalByteLength","buffers","nodes","meshes","scenes","scene","bufferViews","accessors","animations","materials","textures","samplers","skins","images","forEach","uri","split","data","mimeType","JSON","stringify","_generateGLTFAsync","_generateBinaryAsync","Blob","GLTFData","glTFFiles","createSceneAsync","getArrayBuffer","_getPadding","_generateGLBAsync","ArrayBuffer","DataView","setUint32","Uint8Array","charCodeAt","R","V","setNodeTransformation","getPivotPoint","equalsToFloats","position","translation","scaling","scale","Quaternion","RotationYawPitchRoll","rotation","rotationQuaternion","multiplyInPlace","isVerticesDataPresent","getVertexBuffer","createBufferViewKind","Mesh","InstancedMesh","sourceMesh","getVerticesData","getByteOffset","setMorphTargetAttributes","targets","hasNormals","getNormals","NORMAL","hasPositions","getPositions","POSITION","hasTangents","getTangents","TANGENT","getMeshPrimitiveMode","LinesMesh","LineListDrawMode","fillMode","setPrimitiveMode","mode","PointListDrawMode","PointFillMode","LineLoopDrawMode","LineStripDrawMode","setAttributeKind","attributes","COLOR_0","TEXCOORD_0","TEXCOORD_1","JOINTS_0","JOINTS_1","WEIGHTS_0","WEIGHTS_1","setPrimitiveAttributesAsync","kind","accessorType","accessorComponentType","morphTargetManager","W","DeduceStride","bufferViewIndex","getTotalIndices","getIndices","subMeshes","getMaterial","getScene","defaultMaterial","S","color","equals","White","alpha","pbrMetallicRoughness","baseColorFactor","concat","MultiMaterial","C","subMaterials","materialIndex","uniqueId","B","I","P","L","_hasTexturesPresent","N","O","G","indices","keys","k","overrideMaterialSideOrientation","sideOrientation","useRightHandedSystem","K","D","U","H","q","Q","j","numTargets","getTarget","primitives","all","isBabylonCoordinateSystemConvertingNode","TransformNode","getWorldMatrix","Compose","_convertToRightHandedSystem","One","Identity","Zero","multiply","IdentityReadOnly","abs","Epsilon","geometry","arguments","Array","transformNodes","lights","_convertToRightHandedSystemMap","rootNodes","getDescendants","_convertMaterialsToGLTFAsync","createNodeMapAndAnimationsAsync","createSkinsAsync","_nodeMap","metadata","metadataSelector","extras","gltf","parent","shouldExportNode","Log","skeleton","skin","children","channels","createNodeAsync","animationGroups","_CreateMorphTargetAnimationFromMorphTargetAnimations","_CreateNodeAnimationFromNodeAnimations","_CreateNodeAndMorphAnimationFromAnimationGroups","weights","influence","mesh","joints","find","overrideMesh","bones","getIndex","getTransformNode","getInvertedAbsoluteTransform","inverseBindMatrices","skeletons","_arrayBuffer","_dataView","_byteOffset","resizeBuffer","setUint8","setUint16","getUint32","getVector3Float32FromRef","getFloat32","setVector3Float32FromRef","getVector4Float32FromRef","setVector4Float32FromRef","isNaN","downloadFiles","body","appendChild","setAttribute","download","href","window","URL","createObjectURL","click","OBJ","Translation","bakeTransformIntoVertices","String","join","MTL","specularPower","toFixed","ambientColor","diffuseColor","specularColor","emissiveColor","ambientTexture","diffuseTexture","specularTexture","bumpTexture","opacityTexture","GLTF2Export","KHR_texture_transform","KHR_lights_punctual","KHR_materials_sheen","KHR_materials_unlit","INTANGENT","OUTTANGENT","_CreateNodeAnimation","getKeys","calculateMinMaxKeyFrames","_DeduceInterpolation","interpolationType","shouldBakeAnimation","_CreateBakedAnimation","framePerSecond","_CreateLinearOrStepAnimation","_CreateCubicSplineAnimation","inputs","outputs","samplerInterpolation","inputsMin","FloatRound","inputsMax","_DeduceAnimationInfo","targetProperty","animationChannelTargetPath","dataAccessorType","useQuaternion","AddAnimation","hasRunningRuntimeAnimations","Animation","dataType","loopMode","enableBlending","frame","setKeys","Map","Set","to","from","targetedAnimations","target","animation","MorphTarget","morphTargetManagers","has","set","add","ANIMATIONTYPE_FLOAT","inTangent","outTangent","shift","interpolation","input","output","sampler","node","path","key","repeatCount","_interpolate","_SetInterpolatedValue","_ConvertFactorToVector3OrQuaternion","_GetBasePositionRotationOrScale","RotationYawPitchRollToRef","_AddKeyframeValue","AddSplineTangent","ANIMATIONTYPE_VECTOR3","ANIMATIONTYPE_QUATERNION","AnimationKeyInterpolation","STEP","GLTFAsync","whenReadyAsync","replace","_PreExportAsync","exportWithoutWaitingForScene","_PostExportAsync","GLBAsync","Effect","ShadersStore","textureTransformPixelShader","_recordedTextures","_wasUsed","configurable","uAng","wAng","vAng","uRotationCenter","vRotationCenter","uOffset","vOffset","offset","uScale","vScale","coordinatesIndex","texCoord","_textureTransformTextureAsync","catch","ProceduralTexture","reservedDataStore","hidden","source","setTexture","setMatrix","getTextureMatrix","isReady","render","getEffect","executeWhenCompiled","_exporter","_lights","ShadowLight","getTypeID","Light","LIGHTTYPEID_POINTLIGHT","LIGHTTYPEID_DIRECTIONALLIGHT","LIGHTTYPEID_SPOTLIGHT","Logger","clone","direction","atan2","PI","falloffType","FALLOFF_GLTF","diffuse","intensity","range","Number","MAX_VALUE","angle","spot","outerConeAngle","innerAngle","innerConeAngle","light","getChildren","TmpVectors","ComposeToRef","invertToRef","DirectionalLight","subtractInPlace","multiplyToRef","decompose","_textureInfos","_exportedTextures","_getTextureIndex","PBRMaterial","sheen","isEnabled","texture","sheenColorFactor","sheenRoughnessFactor","roughness","sheenColorTexture","textureRoughness","useRoughnessFromMainTexture","sheenRoughnessTexture","unlit","disableLighting","_textureMap","FuzzyEquals","Scalar","WithinEpsilon","_convertStandardMaterialAsync","PBRMetallicRoughnessMaterial","_convertPBRMetallicRoughnessMaterialAsync","_convertPBRMaterialAsync","_stripTexturesFromMaterial","doubleSided","alphaMode","alphaCutoff","emissiveFactor","metallicFactor","roughnessFactor","emissiveTexture","normalTexture","occlusionTexture","baseColorTexture","metallicRoughnessTexture","_convertToGLTFPBRMetallicRoughness","toLinearSpace","pow","Clamp","_MaxSpecularPower","_SolveMetallic","_DielectricSpecular","_SetAlphaMode","needAlphaBlending","needAlphaTesting","alphaCutOff","backFaceCulling","twoSidedLighting","_exportTextureAsync","level","index","strength","Constants","ALPHA_COMBINE","toString","Black","_Epsilon","_finishMaterial","baseColor","metallic","baseTexture","occlusionStrength","_createBase64FromCanvasAsync","TEXTURETYPE_UNSIGNED_INT","Scene","createRawTexture","TEXTUREFORMAT_RGBA","Texture","NEAREST_SAMPLINGMODE","PostProcess","onApply","_bindTexture","setSize","postProcessManager","directRender","getRenderingCanvas","getContext","drawImage","toBlob","ToBlob","FileReader","onload","result","readAsDataURL","toDataURL","_createWhiteTexture","RawTexture","CreateRGBATexture","_resizeTexturesToSameDimensions","TextureTools","CreateResizedCopy","texture1","texture2","_convertPixelArrayToFloat32","Float32Array","_convertSpecularGlossinessTexturesToMetallicRoughnessAsync","reject","readPixels","glossiness","_convertSpecularGlossinessToMetallicRoughness","hasAlpha","FromInts","toGammaSpace","metallicRoughnessTextureBase64","baseColorTextureBase64","_getPerceivedBrightness","_getMaxComponent","subtract","Lerp","clampToRef","_convertMetalRoughFactorsToMetallicRoughnessAsync","albedoColor","albedoTexture","metallicTexture","_getGLTFTextureSampler","_getGLTFTextureWrapModesSampler","samplingMode","LINEAR_LINEAR","magFilter","minFilter","LINEAR_NEAREST","NEAREST_LINEAR","NEAREST_LINEAR_MIPLINEAR","NEAREST_NEAREST","NEAREST_LINEAR_MIPNEAREST","LINEAR_NEAREST_MIPNEAREST","LINEAR_NEAREST_MIPLINEAR","NEAREST_NEAREST_MIPLINEAR","LINEAR_LINEAR_MIPLINEAR","LINEAR_LINEAR_MIPNEAREST","NEAREST_NEAREST_MIPNEAREST","_getGLTFTextureWrapMode","WRAP_ADDRESSMODE","CLAMP_ADDRESSMODE","MIRROR_ADDRESSMODE","wrapU","wrapV","wrapS","wrapT","_convertSpecGlossFactorsToMetallicRoughnessAsync","reflectivityColor","microSurface","reflectivityTexture","useMicroSurfaceFromReflectivityMapAlpha","_getTextureInfoFromBase64","isMetallicWorkflow","setMetallicRoughnessPbrMaterial","ambientTextureStrength","getPixelsFromTexture","textureType","_exportTextureInfoAsync","uid","atob","RandomId","Function","CreateSTL","Cross","bakeCurrentTransformIntoVertices","__IGLTFExporterExtension","_GLTFAnimation","_Exporter","_BinaryWriter","__IGLTFExporterExtensionV2","_GLTFMaterialExporter","_GLTFUtilities","GLTF2","Exporter","Extensions","OBJExport","STLExport"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"babylonjs\")):\"function\"==typeof define&&define.amd?define(\"babylonjs-serializers\",[\"babylonjs\"],t):\"object\"==typeof exports?exports[\"babylonjs-serializers\"]=t(require(\"babylonjs\")):e.SERIALIZERS=t(e.BABYLON)}(\"undefined\"!=typeof self?self:\"undefined\"!=typeof global?global:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=16)}([function(t,r){t.exports=e},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return a}));var n=r(0),a=function(){function e(){}return e._CreateBufferView=function(e,t,r,n,a){var o={buffer:e,byteLength:r};return t&&(o.byteOffset=t),a&&(o.name=a),n&&(o.byteStride=n),o},e._CreateAccessor=function(e,t,r,n,a,o,i,s){var u={name:t,bufferView:e,componentType:n,count:a,type:r};return null!=i&&(u.min=i),null!=s&&(u.max=s),null!=o&&(u.byteOffset=o),u},e._CalculateMinMaxPositions=function(t,r,a,o){var i,s,u,l=[1/0,1/0,1/0],c=[-1/0,-1/0,-1/0];if(a)for(var f=r,h=r+a;f<h;++f){i=3*f,s=n.Vector3.FromArray(t,i),o&&e._GetRightHandedPositionVector3FromRef(s),u=s.asArray();for(var p=0;p<3;++p){var d=u[p];d<l[p]&&(l[p]=d),d>c[p]&&(c[p]=d),++i}}return{min:l,max:c}},e._GetRightHandedPositionVector3=function(e){return new n.Vector3(e.x,e.y,-e.z)},e._GetRightHandedPositionVector3FromRef=function(e){e.z*=-1},e._GetRightHandedPositionArray3FromRef=function(e){e[2]*=-1},e._GetRightHandedNormalVector3=function(e){return new n.Vector3(e.x,e.y,-e.z)},e._GetRightHandedNormalVector3FromRef=function(e){e.z*=-1},e._GetRightHandedNormalArray3FromRef=function(e){e[2]*=-1},e._GetRightHandedVector4FromRef=function(e){e.z*=-1,e.w*=-1},e._GetRightHandedArray4FromRef=function(e){e[2]*=-1,e[3]*=-1},e._GetRightHandedQuaternionFromRef=function(e){e.x*=-1,e.y*=-1},e._GetRightHandedQuaternionArrayFromRef=function(e){e[0]*=-1,e[1]*=-1},e._NormalizeTangentFromRef=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);t>0&&(e.x/=t,e.y/=t,e.z/=t)},e._GetRightHandedMatrixFromRef=function(e){var t=e.m;n.Matrix.FromValuesToRef(t[0],t[1],-t[2],t[3],t[4],t[5],-t[6],t[7],-t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15],e)},e._GetDataAccessorElementCount=function(e){switch(e){case\"MAT2\":return 4;case\"MAT3\":return 9;case\"MAT4\":return 16;case\"SCALAR\":return 1;case\"VEC2\":return 2;case\"VEC3\":return 3;case\"VEC4\":return 4}},e}()},function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return u})),r.d(t,\"a\",(function(){return l}));Object.create;Object.create;var n=r(0),a=r(10),o=r(1),i=r(3),s=r(7),u=function(){function e(e,t){this._includeCoordinateSystemConversionNodes=!1,this._extensions={},this._glTF={asset:{generator:\"BabylonJS\",version:\"2.0\"}},this._babylonScene=e,this._bufferViews=[],this._accessors=[],this._meshes=[],this._scenes=[],this._nodes=[],this._images=[],this._materials=[],this._materialMap=[],this._textures=[],this._samplers=[],this._skins=[],this._animations=[],this._imageData={},this._orderedImageData=[],this._options=t||{},this._animationSampleRate=t&&t.animationSampleRate?t.animationSampleRate:1/60,this._includeCoordinateSystemConversionNodes=!(!t||!t.includeCoordinateSystemConversionNodes),this._glTFMaterialExporter=new a.a(this),this._loadExtensions()}return e.prototype._applyExtension=function(e,t,r,n){var a=this;if(r>=t.length)return Promise.resolve(e);var o=n(t[r],e);return o?o.then((function(e){return a._applyExtension(e,t,r+1,n)})):this._applyExtension(e,t,r+1,n)},e.prototype._applyExtensions=function(t,r){for(var n=[],a=0,o=e._ExtensionNames;a<o.length;a++){var i=o[a];n.push(this._extensions[i])}return this._applyExtension(t,n,0,r)},e.prototype._extensionsPreExportTextureAsync=function(e,t,r){return this._applyExtensions(t,(function(t,n){return t.preExportTextureAsync&&t.preExportTextureAsync(e,n,r)}))},e.prototype._extensionsPostExportMeshPrimitiveAsync=function(e,t,r,n){return this._applyExtensions(t,(function(t,a){return t.postExportMeshPrimitiveAsync&&t.postExportMeshPrimitiveAsync(e,a,r,n)}))},e.prototype._extensionsPostExportNodeAsync=function(e,t,r,n){return this._applyExtensions(t,(function(t,a){return t.postExportNodeAsync&&t.postExportNodeAsync(e,a,r,n)}))},e.prototype._extensionsPostExportMaterialAsync=function(e,t,r){return this._applyExtensions(t,(function(t,n){return t.postExportMaterialAsync&&t.postExportMaterialAsync(e,n,r)}))},e.prototype._extensionsPostExportMaterialAdditionalTextures=function(t,r,n){for(var a=[],o=0,i=e._ExtensionNames;o<i.length;o++){var s=i[o],u=this._extensions[s];u.postExportMaterialAdditionalTextures&&a.push.apply(a,u.postExportMaterialAdditionalTextures(t,r,n))}return a},e.prototype._extensionsPostExportTextures=function(t,r,n){for(var a=0,o=e._ExtensionNames;a<o.length;a++){var i=o[a],s=this._extensions[i];s.postExportTexture&&s.postExportTexture(t,r,n)}},e.prototype._forEachExtensions=function(t){for(var r=0,n=e._ExtensionNames;r<n.length;r++){var a=n[r],o=this._extensions[a];o.enabled&&t(o)}},e.prototype._extensionsOnExporting=function(){var e=this;this._forEachExtensions((function(t){t.wasUsed&&(null==e._glTF.extensionsUsed&&(e._glTF.extensionsUsed=[]),-1===e._glTF.extensionsUsed.indexOf(t.name)&&e._glTF.extensionsUsed.push(t.name),t.required&&(null==e._glTF.extensionsRequired&&(e._glTF.extensionsRequired=[]),-1===e._glTF.extensionsRequired.indexOf(t.name)&&e._glTF.extensionsRequired.push(t.name)),null==e._glTF.extensions&&(e._glTF.extensions={}),t.onExporting&&t.onExporting())}))},e.prototype._loadExtensions=function(){for(var t=0,r=e._ExtensionNames;t<r.length;t++){var n=r[t],a=e._ExtensionFactories[n](this);this._extensions[n]=a}},e.prototype.dispose=function(){for(var e in this._extensions){this._extensions[e].dispose()}},e.RegisterExtension=function(t,r){e.UnregisterExtension(t)&&n.Tools.Warn(\"Extension with the name \"+t+\" already exists\"),e._ExtensionFactories[t]=r,e._ExtensionNames.push(t)},e.UnregisterExtension=function(t){if(!e._ExtensionFactories[t])return!1;delete e._ExtensionFactories[t];var r=e._ExtensionNames.indexOf(t);return-1!==r&&e._ExtensionNames.splice(r,1),!0},e.prototype._getLocalEngine=function(){if(!this._localEngine){var e=document.createElement(\"canvas\");e.id=\"WriteCanvas\",e.width=2048,e.height=2048,this._localEngine=new n.Engine(e,!0,{premultipliedAlpha:n.Tools.IsSafari(),preserveDrawingBuffer:!0}),this._localEngine.setViewport(new n.Viewport(0,0,1,1))}return this._localEngine},e.prototype.reorderIndicesBasedOnPrimitiveMode=function(e,t,r,a,o){switch(t){case n.Material.TriangleFillMode:a||(a=0);for(var i=e.indexStart,s=e.indexStart+e.indexCount;i<s;i+=3){var u=a+4*i,l=o.getUInt32(u+4),c=o.getUInt32(u+8);o.setUInt32(c,u+4),o.setUInt32(l,u+8)}break;case n.Material.TriangleFanDrawMode:i=e.indexStart+e.indexCount-1;for(var f=e.indexStart;i>=f;--i)o.setUInt32(r[i],a),a+=4;break;case n.Material.TriangleStripDrawMode:e.indexCount>=3&&(o.setUInt32(r[e.indexStart+2],a+4),o.setUInt32(r[e.indexStart+1],a+8))}},e.prototype.reorderVertexAttributeDataBasedOnPrimitiveMode=function(e,t,r,a,o,i,s,u){if(u&&r===n.Material.ClockWiseSideOrientation)switch(t){case n.Material.TriangleFillMode:this.reorderTriangleFillMode(e,t,r,a,o,i,s,u);break;case n.Material.TriangleStripDrawMode:this.reorderTriangleStripDrawMode(e,t,r,a,o,i,s,u);break;case n.Material.TriangleFanDrawMode:this.reorderTriangleFanMode(e,t,r,a,o,i,s,u)}},e.prototype.reorderTriangleFillMode=function(e,t,r,a,o,i,s,u){var l=this.getVertexBufferFromMesh(a,e.getMesh());if(l){var c=l.byteStride/n.VertexBuffer.GetTypeByteLength(l.type);if(e.verticesCount%3!=0)n.Tools.Error(\"The submesh vertices for the triangle fill mode is not divisible by 3!\");else{var f=[],h=0;switch(a){case n.VertexBuffer.PositionKind:case n.VertexBuffer.NormalKind:for(var p=e.verticesStart;p<e.verticesStart+e.verticesCount;p+=3)h=p*c,f.push(n.Vector3.FromArray(o,h)),f.push(n.Vector3.FromArray(o,h+2*c)),f.push(n.Vector3.FromArray(o,h+c));break;case n.VertexBuffer.TangentKind:for(p=e.verticesStart;p<e.verticesStart+e.verticesCount;p+=3)h=p*c,f.push(n.Vector4.FromArray(o,h)),f.push(n.Vector4.FromArray(o,h+2*c)),f.push(n.Vector4.FromArray(o,h+c));break;case n.VertexBuffer.ColorKind:var d=l.getSize();for(p=e.verticesStart;p<e.verticesStart+e.verticesCount;p+=d)h=p*c,4===d?(f.push(n.Vector4.FromArray(o,h)),f.push(n.Vector4.FromArray(o,h+2*c)),f.push(n.Vector4.FromArray(o,h+c))):(f.push(n.Vector3.FromArray(o,h)),f.push(n.Vector3.FromArray(o,h+2*c)),f.push(n.Vector3.FromArray(o,h+c)));break;case n.VertexBuffer.UVKind:case n.VertexBuffer.UV2Kind:for(p=e.verticesStart;p<e.verticesStart+e.verticesCount;p+=3)h=p*c,f.push(n.Vector2.FromArray(o,h)),f.push(n.Vector2.FromArray(o,h+2*c)),f.push(n.Vector2.FromArray(o,h+c));break;default:n.Tools.Error(\"Unsupported Vertex Buffer type: \"+a)}this.writeVertexAttributeData(f,i,a,o,s,u)}}else n.Tools.Warn(\"reorderTriangleFillMode: Vertex Buffer Kind \"+a+\" not present!\")},e.prototype.reorderTriangleStripDrawMode=function(e,t,r,a,o,i,s,u){var l=this.getVertexBufferFromMesh(a,e.getMesh());if(l){var c=l.byteStride/n.VertexBuffer.GetTypeByteLength(l.type),f=[],h=0;switch(a){case n.VertexBuffer.PositionKind:case n.VertexBuffer.NormalKind:h=e.verticesStart,f.push(n.Vector3.FromArray(o,h+2*c)),f.push(n.Vector3.FromArray(o,h+c));break;case n.VertexBuffer.TangentKind:for(var p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector4.FromArray(o,h));break;case n.VertexBuffer.ColorKind:for(p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,4===l.getSize()?f.push(n.Vector4.FromArray(o,h)):f.push(n.Vector3.FromArray(o,h));break;case n.VertexBuffer.UVKind:case n.VertexBuffer.UV2Kind:for(p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector2.FromArray(o,h));break;default:n.Tools.Error(\"Unsupported Vertex Buffer type: \"+a)}this.writeVertexAttributeData(f,i+12,a,o,s,u)}else n.Tools.Warn(\"reorderTriangleStripDrawMode: Vertex buffer kind \"+a+\" not present!\")},e.prototype.reorderTriangleFanMode=function(e,t,r,a,o,i,s,u){var l=this.getVertexBufferFromMesh(a,e.getMesh());if(l){var c=l.byteStride/n.VertexBuffer.GetTypeByteLength(l.type),f=[],h=0;switch(a){case n.VertexBuffer.PositionKind:case n.VertexBuffer.NormalKind:for(var p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector3.FromArray(o,h));break;case n.VertexBuffer.TangentKind:for(p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector4.FromArray(o,h));break;case n.VertexBuffer.ColorKind:for(p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector4.FromArray(o,h)),4===l.getSize()?f.push(n.Vector4.FromArray(o,h)):f.push(n.Vector3.FromArray(o,h));break;case n.VertexBuffer.UVKind:case n.VertexBuffer.UV2Kind:for(p=e.verticesStart+e.verticesCount-1;p>=e.verticesStart;--p)h=p*c,f.push(n.Vector2.FromArray(o,h));break;default:n.Tools.Error(\"Unsupported Vertex Buffer type: \"+a)}this.writeVertexAttributeData(f,i,a,o,s,u)}else n.Tools.Warn(\"reorderTriangleFanMode: Vertex buffer kind \"+a+\" not present!\")},e.prototype.writeVertexAttributeData=function(e,t,r,a,i,s){for(var u=0,l=e;u<l.length;u++){var c=l[u];!s||r===n.VertexBuffer.ColorKind||c instanceof n.Vector2||(c instanceof n.Vector3?r===n.VertexBuffer.NormalKind?o.a._GetRightHandedNormalVector3FromRef(c):r===n.VertexBuffer.PositionKind?o.a._GetRightHandedPositionVector3FromRef(c):n.Tools.Error(\"Unsupported vertex attribute kind!\"):o.a._GetRightHandedVector4FromRef(c)),r===n.VertexBuffer.NormalKind?c.normalize():r===n.VertexBuffer.TangentKind&&c instanceof n.Vector4&&o.a._NormalizeTangentFromRef(c);for(var f=0,h=c.asArray();f<h.length;f++){var p=h[f];i.setFloat32(p,t),t+=4}}},e.prototype.writeAttributeData=function(e,t,r,a,i,s,u){var l,c,f=[];switch(e){case n.VertexBuffer.PositionKind:for(var h=0,p=r.length/a;h<p;++h){l=h*a;var d=n.Vector3.FromArray(r,l);s&&o.a._GetRightHandedPositionVector3FromRef(d),f.push(d.asArray())}break;case n.VertexBuffer.NormalKind:h=0;for(var m=r.length/a;h<m;++h){l=h*a;d=n.Vector3.FromArray(r,l);s&&o.a._GetRightHandedNormalVector3FromRef(d),d.normalize(),f.push(d.asArray())}break;case n.VertexBuffer.TangentKind:h=0;for(var g=r.length/a;h<g;++h){l=h*a;d=n.Vector4.FromArray(r,l);s&&o.a._GetRightHandedVector4FromRef(d),o.a._NormalizeTangentFromRef(d),f.push(d.asArray())}break;case n.VertexBuffer.ColorKind:for(var _=u.material,x=!_||_ instanceof n.StandardMaterial,y=(d=3===a?new n.Color3:new n.Color4,h=0,r.length/a);h<y;++h)l=h*a,3===a?(n.Color3.FromArrayToRef(r,l,d),x&&d.toLinearSpaceToRef(d)):(n.Color4.FromArrayToRef(r,l,d),x&&d.toLinearSpaceToRef(d)),f.push(d.asArray());break;case n.VertexBuffer.UVKind:case n.VertexBuffer.UV2Kind:h=0;for(var T=r.length/a;h<T;++h)l=h*a,f.push([r[l],r[l+1]]);break;case n.VertexBuffer.MatricesIndicesKind:case n.VertexBuffer.MatricesIndicesExtraKind:h=0;for(var v=r.length/a;h<v;++h){l=h*a;d=n.Vector4.FromArray(r,l);f.push(d.asArray())}break;case n.VertexBuffer.MatricesWeightsKind:case n.VertexBuffer.MatricesWeightsExtraKind:h=0;for(var b=r.length/a;h<b;++h){l=h*a;d=n.Vector4.FromArray(r,l);f.push(d.asArray())}break;default:n.Tools.Warn(\"Unsupported Vertex Buffer Type: \"+e),f=[]}switch(t){case 5121:c=i.setUInt8.bind(i);break;case 5123:c=i.setUInt16.bind(i);break;case 5125:c=i.setUInt32.bind(i);case 5126:c=i.setFloat32.bind(i);break;default:return void n.Tools.Warn(\"Unsupported Attribute Component kind: \"+t)}for(var A=0,F=f;A<F.length;A++)for(var E=0,M=F[A];E<M.length;E++){c(M[E])}},e.prototype.writeMorphTargetAttributeData=function(e,t,r,a,i,s,u,l,c,f){var h,p,d=[],m=new n.Vector3,g=new n.Vector4(0,0,0,0);switch(e){case n.VertexBuffer.PositionKind:for(var _=r.verticesStart;_<r.verticesCount;++_){h=r.indexStart+_*u;var x=n.Vector3.FromArray(i,h);m=(y=n.Vector3.FromArray(s,h)).subtractToRef(x,m),c&&o.a._GetRightHandedPositionVector3FromRef(m),f&&(f.min.copyFromFloats(Math.min(m.x,f.min.x),Math.min(m.y,f.min.y),Math.min(m.z,f.min.z)),f.max.copyFromFloats(Math.max(m.x,f.max.x),Math.max(m.y,f.max.y),Math.max(m.z,f.max.z))),d.push(m.asArray())}break;case n.VertexBuffer.NormalKind:for(_=r.verticesStart;_<r.verticesCount;++_){h=r.indexStart+_*u,(x=n.Vector3.FromArray(i,h)).normalize(),(y=n.Vector3.FromArray(s,h)).normalize(),m=y.subtractToRef(x,m),c&&o.a._GetRightHandedNormalVector3FromRef(m),d.push(m.asArray())}break;case n.VertexBuffer.TangentKind:for(_=r.verticesStart;_<r.verticesCount;++_){h=r.indexStart+_*(u+1);x=n.Vector4.FromArray(i,h);o.a._NormalizeTangentFromRef(x);var y=n.Vector4.FromArray(s,h);o.a._NormalizeTangentFromRef(y),g=y.subtractToRef(x,g),c&&o.a._GetRightHandedVector4FromRef(g),d.push([g.x,g.y,g.z])}break;default:n.Tools.Warn(\"Unsupported Vertex Buffer Type: \"+e),d=[]}switch(t){case 5121:p=l.setUInt8.bind(l);break;case 5123:p=l.setUInt16.bind(l);break;case 5125:p=l.setUInt32.bind(l);case 5126:p=l.setFloat32.bind(l);break;default:return void n.Tools.Warn(\"Unsupported Attribute Component kind: \"+t)}for(var T=0,v=d;T<v.length;T++)for(var b=0,A=v[T];b<A.length;b++){p(A[b])}},e.prototype.generateJSON=function(e,t,r){var n,a,i,s=this,u={byteLength:this._totalByteLength},l=this._totalByteLength;return u.byteLength&&(this._glTF.buffers=[u]),this._nodes&&this._nodes.length&&(this._glTF.nodes=this._nodes),this._meshes&&this._meshes.length&&(this._glTF.meshes=this._meshes),this._scenes&&this._scenes.length&&(this._glTF.scenes=this._scenes,this._glTF.scene=0),this._bufferViews&&this._bufferViews.length&&(this._glTF.bufferViews=this._bufferViews),this._accessors&&this._accessors.length&&(this._glTF.accessors=this._accessors),this._animations&&this._animations.length&&(this._glTF.animations=this._animations),this._materials&&this._materials.length&&(this._glTF.materials=this._materials),this._textures&&this._textures.length&&(this._glTF.textures=this._textures),this._samplers&&this._samplers.length&&(this._glTF.samplers=this._samplers),this._skins&&this._skins.length&&(this._glTF.skins=this._skins),this._images&&this._images.length&&(e?(this._glTF.images=[],this._images.forEach((function(e){e.uri&&(a=s._imageData[e.uri],s._orderedImageData.push(a),n=e.uri.split(\".\")[0]+\" image\",i=o.a._CreateBufferView(0,l,a.data.length,void 0,n),l+=a.data.buffer.byteLength,s._bufferViews.push(i),e.bufferView=s._bufferViews.length-1,e.name=n,e.mimeType=a.mimeType,e.uri=void 0,s._glTF.images||(s._glTF.images=[]),s._glTF.images.push(e))})),u.byteLength=l):this._glTF.images=this._images),e||(u.uri=t+\".bin\"),r?JSON.stringify(this._glTF,null,2):JSON.stringify(this._glTF)},e.prototype._generateGLTFAsync=function(e,t){var r=this;return void 0===t&&(t=!0),this._generateBinaryAsync().then((function(n){r._extensionsOnExporting();var a=r.generateJSON(!1,e,!0),o=new Blob([n],{type:\"application/octet-stream\"}),s=e+\".gltf\",u=e+\".bin\",l=new i.GLTFData;if(l.glTFFiles[s]=a,l.glTFFiles[u]=o,r._imageData)for(var c in r._imageData)l.glTFFiles[c]=new Blob([r._imageData[c].data],{type:r._imageData[c].mimeType});return t&&r.dispose(),l}))},e.prototype._generateBinaryAsync=function(){var e=this,t=new l(4);return this.createSceneAsync(this._babylonScene,t).then((function(){return e._localEngine&&e._localEngine.dispose(),t.getArrayBuffer()}))},e.prototype._getPadding=function(e){var t=e%4;return 0===t?t:4-t},e.prototype._generateGLBAsync=function(e,t){var r=this;return void 0===t&&(t=!0),this._generateBinaryAsync().then((function(n){r._extensionsOnExporting();for(var a=r.generateJSON(!0),o=e+\".glb\",s=a.length,u=0,l=0;l<r._orderedImageData.length;++l)u+=r._orderedImageData[l].data.byteLength;var c=r._getPadding(s),f=r._getPadding(n.byteLength),h=r._getPadding(u),p=28+s+c+n.byteLength+f+u+h,d=new ArrayBuffer(12),m=new DataView(d);m.setUint32(0,1179937895,!0),m.setUint32(4,2,!0),m.setUint32(8,p,!0);var g=new ArrayBuffer(8+s+c),_=new DataView(g);_.setUint32(0,s+c,!0),_.setUint32(4,1313821514,!0);var x=new Uint8Array(g,8);for(l=0;l<s;++l)x[l]=a.charCodeAt(l);var y=new Uint8Array(g,8+s);for(l=0;l<c;++l)y[l]=32;var T=new ArrayBuffer(8),v=new DataView(T);v.setUint32(0,n.byteLength+u+h,!0),v.setUint32(4,5130562,!0);var b=new ArrayBuffer(f),A=new Uint8Array(b);for(l=0;l<f;++l)A[l]=0;var F=new ArrayBuffer(h),E=new Uint8Array(F);for(l=0;l<h;++l)E[l]=0;var M=[d,g,T,n];for(l=0;l<r._orderedImageData.length;++l)M.push(r._orderedImageData[l].data.buffer);M.push(b),M.push(F);var R=new Blob(M,{type:\"application/octet-stream\"}),V=new i.GLTFData;return V.glTFFiles[o]=R,null!=r._localEngine&&r._localEngine.dispose(),t&&r.dispose(),V}))},e.prototype.setNodeTransformation=function(e,t,r){t.getPivotPoint().equalsToFloats(0,0,0)||n.Tools.Warn(\"Pivot points are not supported in the glTF serializer\"),t.position.equalsToFloats(0,0,0)||(e.translation=r?o.a._GetRightHandedPositionVector3(t.position).asArray():t.position.asArray()),t.scaling.equalsToFloats(1,1,1)||(e.scale=t.scaling.asArray());var a=n.Quaternion.RotationYawPitchRoll(t.rotation.y,t.rotation.x,t.rotation.z);t.rotationQuaternion&&a.multiplyInPlace(t.rotationQuaternion),0===a.x&&0===a.y&&0===a.z&&1===a.w||(r&&o.a._GetRightHandedQuaternionFromRef(a),e.rotation=a.normalize().asArray())},e.prototype.getVertexBufferFromMesh=function(e,t){if(t.isVerticesDataPresent(e)){var r=t.getVertexBuffer(e);if(r)return r}return null},e.prototype.createBufferViewKind=function(e,t,r,a,i,s){var u=r instanceof n.Mesh?r:r instanceof n.InstancedMesh?r.sourceMesh:null;if(u){var l=u.getVertexBuffer(e),c=u.getVerticesData(e);if(l&&c){var f=n.VertexBuffer.GetTypeByteLength(t),h=c.length*f,p=o.a._CreateBufferView(0,a.getByteOffset(),h,i,e+\" - \"+u.name);this._bufferViews.push(p),this.writeAttributeData(e,t,c,i/f,a,s,r)}}},e.prototype.setMorphTargetAttributes=function(e,t,r,a,i){if(r){t.targets||(t.targets=[]);var s={};if(r.hasNormals){var u=e.getMesh().getVerticesData(n.VertexBuffer.NormalKind),l=r.getNormals(),c=(_=e.verticesCount)*(x=12),f=o.a._CreateBufferView(0,a.getByteOffset(),c,x,r.name+\"_NORMAL\");this._bufferViews.push(f);var h=this._bufferViews.length-1,p=o.a._CreateAccessor(h,r.name+\" - NORMAL\",\"VEC3\",5126,_,0,null,null);this._accessors.push(p),s.NORMAL=this._accessors.length-1,this.writeMorphTargetAttributeData(n.VertexBuffer.NormalKind,5126,e,r,u,l,x/4,a,i)}if(r.hasPositions){var d=e.getMesh().getVerticesData(n.VertexBuffer.PositionKind),m=r.getPositions();c=(_=e.verticesCount)*(x=12),f=o.a._CreateBufferView(0,a.getByteOffset(),c,x,r.name+\"_POSITION\");this._bufferViews.push(f);h=this._bufferViews.length-1;var g={min:new n.Vector3(1/0,1/0,1/0),max:new n.Vector3(-1/0,-1/0,-1/0)};p=o.a._CreateAccessor(h,r.name+\" - POSITION\",\"VEC3\",5126,_,0,null,null);this._accessors.push(p),s.POSITION=this._accessors.length-1,this.writeMorphTargetAttributeData(n.VertexBuffer.PositionKind,5126,e,r,d,m,x/4,a,i,g),p.min=g.min.asArray(),p.max=g.max.asArray()}if(r.hasTangents){var _,x,y=e.getMesh().getVerticesData(n.VertexBuffer.TangentKind),T=r.getTangents();c=(_=e.verticesCount)*(x=12),f=o.a._CreateBufferView(0,a.getByteOffset(),c,x,r.name+\"_NORMAL\");this._bufferViews.push(f);h=this._bufferViews.length-1,p=o.a._CreateAccessor(h,r.name+\" - TANGENT\",\"VEC3\",5126,_,0,null,null);this._accessors.push(p),s.TANGENT=this._accessors.length-1,this.writeMorphTargetAttributeData(n.VertexBuffer.TangentKind,5126,e,r,y,T,x/4,a,i)}t.targets.push(s)}},e.prototype.getMeshPrimitiveMode=function(e){return e instanceof n.LinesMesh?n.Material.LineListDrawMode:e.material?e.material.fillMode:n.Material.TriangleFillMode},e.prototype.setPrimitiveMode=function(e,t){switch(t){case n.Material.TriangleFillMode:break;case n.Material.TriangleStripDrawMode:e.mode=5;break;case n.Material.TriangleFanDrawMode:e.mode=6;break;case n.Material.PointListDrawMode:e.mode=0;case n.Material.PointFillMode:e.mode=0;break;case n.Material.LineLoopDrawMode:e.mode=2;break;case n.Material.LineListDrawMode:e.mode=1;break;case n.Material.LineStripDrawMode:e.mode=3}},e.prototype.setAttributeKind=function(e,t){switch(t){case n.VertexBuffer.PositionKind:e.attributes.POSITION=this._accessors.length-1;break;case n.VertexBuffer.NormalKind:e.attributes.NORMAL=this._accessors.length-1;break;case n.VertexBuffer.ColorKind:e.attributes.COLOR_0=this._accessors.length-1;break;case n.VertexBuffer.TangentKind:e.attributes.TANGENT=this._accessors.length-1;break;case n.VertexBuffer.UVKind:e.attributes.TEXCOORD_0=this._accessors.length-1;break;case n.VertexBuffer.UV2Kind:e.attributes.TEXCOORD_1=this._accessors.length-1;break;case n.VertexBuffer.MatricesIndicesKind:e.attributes.JOINTS_0=this._accessors.length-1;break;case n.VertexBuffer.MatricesIndicesExtraKind:e.attributes.JOINTS_1=this._accessors.length-1;break;case n.VertexBuffer.MatricesWeightsKind:e.attributes.WEIGHTS_0=this._accessors.length-1;break;case n.VertexBuffer.MatricesWeightsExtraKind:e.attributes.WEIGHTS_1=this._accessors.length-1;break;default:n.Tools.Warn(\"Unsupported Vertex Buffer Type: \"+t)}},e.prototype.setPrimitiveAttributesAsync=function(e,t,r,a){var i,s,u,l=[],c=null;t instanceof n.Mesh?c=t:t instanceof n.InstancedMesh&&(c=t.sourceMesh);var f=[{kind:n.VertexBuffer.PositionKind,accessorType:\"VEC3\",accessorComponentType:5126,byteStride:12},{kind:n.VertexBuffer.NormalKind,accessorType:\"VEC3\",accessorComponentType:5126,byteStride:12},{kind:n.VertexBuffer.ColorKind,accessorType:\"VEC4\",accessorComponentType:5126,byteStride:16},{kind:n.VertexBuffer.TangentKind,accessorType:\"VEC4\",accessorComponentType:5126,byteStride:16},{kind:n.VertexBuffer.UVKind,accessorType:\"VEC2\",accessorComponentType:5126,byteStride:8},{kind:n.VertexBuffer.UV2Kind,accessorType:\"VEC2\",accessorComponentType:5126,byteStride:8},{kind:n.VertexBuffer.MatricesIndicesKind,accessorType:\"VEC4\",accessorComponentType:5123,byteStride:8},{kind:n.VertexBuffer.MatricesIndicesExtraKind,accessorType:\"VEC4\",accessorComponentType:5123,byteStride:8},{kind:n.VertexBuffer.MatricesWeightsKind,accessorType:\"VEC4\",accessorComponentType:5126,byteStride:16},{kind:n.VertexBuffer.MatricesWeightsExtraKind,accessorType:\"VEC4\",accessorComponentType:5126,byteStride:16}];if(c){for(var h=null,p=this.getMeshPrimitiveMode(c),d={},m=c.morphTargetManager,g=0,_=f;g<_.length;g++){var x=(W=_[g]).kind,y=W.accessorComponentType;if(c.isVerticesDataPresent(x)){var T=this.getVertexBufferFromMesh(x,c);W.byteStride=T?T.getSize()*n.VertexBuffer.GetTypeByteLength(W.accessorComponentType):4*n.VertexBuffer.DeduceStride(x),12===W.byteStride&&(W.accessorType=\"VEC3\"),this.createBufferViewKind(x,y,t,r,W.byteStride,a),W.bufferViewIndex=this._bufferViews.length-1,d[x]=W.bufferViewIndex}}if(c.getTotalIndices()){var v=c.getIndices();if(v){var b=4*v.length;s=o.a._CreateBufferView(0,r.getByteOffset(),b,void 0,\"Indices - \"+c.name),this._bufferViews.push(s),h=this._bufferViews.length-1;for(var A=0,F=v.length;A<F;++A)r.setUInt32(v[A])}}if(c.subMeshes)for(var E=0,M=c.subMeshes;E<M.length;E++){var R=M[E],V=R.getMaterial()||c.getScene().defaultMaterial,w=null;if(V)if(c instanceof n.LinesMesh){var S={name:c.name+\" material\"};(!c.color.equals(n.Color3.White())||c.alpha<1)&&(S.pbrMetallicRoughness={baseColorFactor:c.color.asArray().concat([c.alpha])}),this._materials.push(S),w=this._materials.length-1}else if(V instanceof n.MultiMaterial){var C=V.subMaterials[R.materialIndex];C&&(V=C,w=this._materialMap[V.uniqueId])}else w=this._materialMap[V.uniqueId];var B=null!=w?this._materials[w]:null,I={attributes:{}};this.setPrimitiveMode(I,p);for(var P=0,L=f;P<L.length;P++){if((x=(W=L[P]).kind)!==n.VertexBuffer.UVKind&&x!==n.VertexBuffer.UV2Kind||!B||this._glTFMaterialExporter._hasTexturesPresent(B))if(z=c.getVerticesData(x))if(T=this.getVertexBufferFromMesh(x,c)){var N=T.getSize(),O=W.bufferViewIndex;if(null!=O){u={min:null,max:null},x==n.VertexBuffer.PositionKind&&(u=o.a._CalculateMinMaxPositions(z,0,z.length/N,a));var G=o.a._CreateAccessor(O,x+\" - \"+t.name,W.accessorType,W.accessorComponentType,z.length/N,0,u.min,u.max);this._accessors.push(G),this.setAttributeKind(I,x)}}}if(h){G=o.a._CreateAccessor(h,\"indices - \"+t.name,\"SCALAR\",5125,R.indexCount,4*R.indexStart,null,null);this._accessors.push(G),I.indices=this._accessors.length-1}if(null!=w&&Object.keys(I.attributes).length>0){var k=null!==c.overrideMaterialSideOrientation?c.overrideMaterialSideOrientation:V.sideOrientation;if(k==n.Material.ClockWiseSideOrientation&&this._babylonScene.useRightHandedSystem||k==n.Material.ClockWiseSideOrientation&&a&&c.overrideMaterialSideOrientation!==(null===(i=c.material)||void 0===i?void 0:i.sideOrientation)){var K=null!=h?this._bufferViews[h].byteOffset:null;null==K&&(K=0);var D=null;if(null!=h&&(D=c.getIndices()),D)this.reorderIndicesBasedOnPrimitiveMode(R,p,D,K,r);else for(var U=0,H=f;U<H.length;U++){var z,W=H[U];if(z=c.getVerticesData(W.kind)){var q=this._bufferViews[d[W.kind]].byteOffset;q||(q=0),this.reorderVertexAttributeDataBasedOnPrimitiveMode(R,p,k,W.kind,z,q,r,a)}}}I.material=w}if(m)for(var Q=void 0,j=0;j<m.numTargets;++j)Q=m.getTarget(j),this.setMorphTargetAttributes(R,I,Q,r,a);e.primitives.push(I),this._extensionsPostExportMeshPrimitiveAsync(\"postExport\",I,R,r)&&l.push()}}return Promise.all(l).then((function(){}))},e.prototype.isBabylonCoordinateSystemConvertingNode=function(e){if(e instanceof n.TransformNode){if(\"__root__\"!==e.name)return!1;for(var t=e.getWorldMatrix(),r=n.Matrix.Compose(this._convertToRightHandedSystem?new n.Vector3(-1,1,1):n.Vector3.One(),n.Quaternion.Identity(),n.Vector3.Zero()),a=t.multiply(r),o=n.Matrix.IdentityReadOnly,i=0;i<16;i++)if(Math.abs(a.m[i]-o.m[i])>n.Epsilon)return!1;return!(e instanceof n.Mesh&&null!==e.geometry||e instanceof n.InstancedMesh&&null!==e.sourceMesh.geometry)&&!this._includeCoordinateSystemConversionNodes}return!1},e.prototype.createSceneAsync=function(e,t){var r,a,o,i=this,s={nodes:[]},u=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}(e.transformNodes,e.meshes,e.lights),l=[];return this._convertToRightHandedSystem=!e.useRightHandedSystem,this._convertToRightHandedSystemMap={},e.rootNodes.forEach((function(e){i._convertToRightHandedSystemMap[e.uniqueId]=i._convertToRightHandedSystem,e.getDescendants(!1).forEach((function(e){i._convertToRightHandedSystemMap[e.uniqueId]=i._convertToRightHandedSystem}))})),e.rootNodes.forEach((function(e){if(i.isBabylonCoordinateSystemConvertingNode(e)){l.push(e);var t=u.indexOf(e);-1!==t&&u.splice(t,1),e.getDescendants(!1).forEach((function(e){i._convertToRightHandedSystemMap[e.uniqueId]=!1}))}})),this._glTFMaterialExporter._convertMaterialsToGLTFAsync(e.materials,\"image/png\",!0).then((function(){return i.createNodeMapAndAnimationsAsync(e,u,t).then((function(c){return i.createSkinsAsync(e,c,t).then((function(e){if(i._nodeMap=c,i._totalByteLength=t.getByteOffset(),null==i._totalByteLength)throw new Error(\"undefined byte length!\");for(var f=0,h=u;f<h.length;f++){var p=h[f];if(void 0!==(r=i._nodeMap[p.uniqueId])){if(a=i._nodes[r],p.metadata&&(i._options.metadataSelector?a.extras=i._options.metadataSelector(p.metadata):p.metadata.gltf&&(a.extras=p.metadata.gltf.extras)),!p.parent||-1!==l.indexOf(p.parent))if(i._options.shouldExportNode&&!i._options.shouldExportNode(p))n.Tools.Log(\"Omitting \"+p.name+\" from scene.\");else i._convertToRightHandedSystemMap[p.uniqueId]&&(a.translation&&(a.translation[2]*=-1,a.translation[0]*=-1),a.rotation=a.rotation?n.Quaternion.FromArray([0,1,0,0]).multiply(n.Quaternion.FromArray(a.rotation)).asArray():n.Quaternion.FromArray([0,1,0,0]).asArray()),s.nodes.push(r);if(p instanceof n.Mesh){var d=p;d.skeleton&&(a.skin=e[d.skeleton.uniqueId])}if(o=p.getDescendants(!0),!a.children&&o&&o.length){for(var m=[],g=0,_=o;g<_.length;g++){var x=_[g];null!=i._nodeMap[x.uniqueId]&&m.push(i._nodeMap[x.uniqueId])}m.length&&(a.children=m)}}}s.nodes.length&&i._scenes.push(s)}))}))}))},e.prototype.createNodeMapAndAnimationsAsync=function(e,t,r){for(var a,o=this,i=Promise.resolve(),u={},l={name:\"runtime animations\",channels:[],samplers:[]},c=[],f=function(t){!h._options.shouldExportNode||h._options.shouldExportNode(t)?i=i.then((function(){var i=o._convertToRightHandedSystemMap[t.uniqueId];return o.createNodeAsync(t,r,i,u).then((function(f){var h=o._extensionsPostExportNodeAsync(\"createNodeAsync\",f,t,u);return null==h?(n.Tools.Warn(\"Not exporting node \"+t.name),Promise.resolve()):h.then((function(n){n&&(o._nodes.push(n),a=o._nodes.length-1,u[t.uniqueId]=a,e.animationGroups.length||(s.a._CreateMorphTargetAnimationFromMorphTargetAnimations(t,l,c,u,o._nodes,r,o._bufferViews,o._accessors,i,o._animationSampleRate),t.animations.length&&s.a._CreateNodeAnimationFromNodeAnimations(t,l,c,u,o._nodes,r,o._bufferViews,o._accessors,i,o._animationSampleRate)))}))}))})):t.name},h=this,p=0,d=t;p<d.length;p++){f(d[p])}return i.then((function(){return l.channels.length&&l.samplers.length&&o._animations.push(l),c.forEach((function(e){e.channels.length&&e.samplers.length&&o._animations.push(e)})),e.animationGroups.length&&s.a._CreateNodeAndMorphAnimationFromAnimationGroups(e,o._animations,u,o._nodes,r,o._bufferViews,o._accessors,o._convertToRightHandedSystemMap,o._animationSampleRate),u}))},e.prototype.createNodeAsync=function(e,t,r,a){var o=this;return Promise.resolve().then((function(){var a={},i={primitives:[]};if(e.name&&(a.name=e.name),e instanceof n.TransformNode){if(o.setNodeTransformation(a,e,r),e instanceof n.Mesh){var s=e.morphTargetManager;if(s&&s.numTargets>0){i.weights=[];for(var u=0;u<s.numTargets;++u)i.weights.push(s.getTarget(u).influence)}}return o.setPrimitiveAttributesAsync(i,e,t,r).then((function(){return i.primitives.length&&(o._meshes.push(i),a.mesh=o._meshes.length-1),a}))}return a}))},e.prototype.createSkinsAsync=function(e,t,r){for(var n=Promise.resolve(),a={},i=function(n){var i={joints:[]},u=[],l=e.meshes.find((function(e){e.skeleton}));i.skeleton=null===n.overrideMesh?l?t[l.uniqueId]:void 0:t[n.overrideMesh.uniqueId];for(var c={},f=-1,h=-1,p=0,d=n.bones;p<d.length;p++){(h=(g=d[p]).getIndex())>-1&&(c[h]=g),f=Math.max(f,h)}for(var m=0;m<=f;++m){var g,_=(g=c[m]).getTransformNode();if(_){var x=g.getInvertedAbsoluteTransform();s._convertToRightHandedSystem&&o.a._GetRightHandedMatrixFromRef(x),u.push(x),i.joints.push(t[_.uniqueId])}}var y=64*u.length,T=r.getByteOffset(),v=o.a._CreateBufferView(0,T,y,64,\"InverseBindMatrices - \"+n.name);s._bufferViews.push(v);var b=s._bufferViews.length-1,A=o.a._CreateAccessor(b,\"InverseBindMatrices - \"+n.name,\"MAT4\",5126,u.length,null,null,null),F=s._accessors.push(A)-1;i.inverseBindMatrices=F,s._skins.push(i),a[n.uniqueId]=s._skins.length-1,u.forEach((function(e){e.m.forEach((function(e){r.setFloat32(e)}))}))},s=this,u=0,l=e.skeletons;u<l.length;u++){i(l[u])}return n.then((function(){return a}))},e._ExtensionNames=new Array,e._ExtensionFactories={},e}(),l=function(){function e(e){this._arrayBuffer=new ArrayBuffer(e),this._dataView=new DataView(this._arrayBuffer),this._byteOffset=0}return e.prototype.resizeBuffer=function(e){for(var t=new ArrayBuffer(e),r=new Uint8Array(this._arrayBuffer),n=new Uint8Array(t),a=0,o=n.byteLength;a<o;++a)n[a]=r[a];return this._arrayBuffer=t,this._dataView=new DataView(this._arrayBuffer),t},e.prototype.getArrayBuffer=function(){return this.resizeBuffer(this.getByteOffset())},e.prototype.getByteOffset=function(){if(null==this._byteOffset)throw new Error(\"Byte offset is undefined!\");return this._byteOffset},e.prototype.setUInt8=function(e,t){null!=t?t<this._byteOffset?this._dataView.setUint8(t,e):n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(this._byteOffset+1>this._arrayBuffer.byteLength&&this.resizeBuffer(2*this._arrayBuffer.byteLength),this._dataView.setUint8(this._byteOffset,e),this._byteOffset+=1)},e.prototype.setUInt16=function(e,t){null!=t?t<this._byteOffset?this._dataView.setUint16(t,e,!0):n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(this._byteOffset+2>this._arrayBuffer.byteLength&&this.resizeBuffer(2*this._arrayBuffer.byteLength),this._dataView.setUint16(this._byteOffset,e,!0),this._byteOffset+=2)},e.prototype.getUInt32=function(e){if(e<this._byteOffset)return this._dataView.getUint32(e,!0);throw n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"),new Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\")},e.prototype.getVector3Float32FromRef=function(e,t){t+8>this._byteOffset?n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(e.x=this._dataView.getFloat32(t,!0),e.y=this._dataView.getFloat32(t+4,!0),e.z=this._dataView.getFloat32(t+8,!0))},e.prototype.setVector3Float32FromRef=function(e,t){t+8>this._byteOffset?n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(this._dataView.setFloat32(t,e.x,!0),this._dataView.setFloat32(t+4,e.y,!0),this._dataView.setFloat32(t+8,e.z,!0))},e.prototype.getVector4Float32FromRef=function(e,t){t+12>this._byteOffset?n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(e.x=this._dataView.getFloat32(t,!0),e.y=this._dataView.getFloat32(t+4,!0),e.z=this._dataView.getFloat32(t+8,!0),e.w=this._dataView.getFloat32(t+12,!0))},e.prototype.setVector4Float32FromRef=function(e,t){t+12>this._byteOffset?n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(this._dataView.setFloat32(t,e.x,!0),this._dataView.setFloat32(t+4,e.y,!0),this._dataView.setFloat32(t+8,e.z,!0),this._dataView.setFloat32(t+12,e.w,!0))},e.prototype.setFloat32=function(e,t){isNaN(e)&&n.Tools.Error(\"Invalid data being written!\"),null!=t&&(t<this._byteOffset?this._dataView.setFloat32(t,e,!0):n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary length!\")),this._byteOffset+4>this._arrayBuffer.byteLength&&this.resizeBuffer(2*this._arrayBuffer.byteLength),this._dataView.setFloat32(this._byteOffset,e,!0),this._byteOffset+=4},e.prototype.setUInt32=function(e,t){null!=t?t<this._byteOffset?this._dataView.setUint32(t,e,!0):n.Tools.Error(\"BinaryWriter: byteoffset is greater than the current binary buffer length!\"):(this._byteOffset+4>this._arrayBuffer.byteLength&&this.resizeBuffer(2*this._arrayBuffer.byteLength),this._dataView.setUint32(this._byteOffset,e,!0),this._byteOffset+=4)},e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"GLTFData\",(function(){return n}));var n=function(){function e(){this.glTFFiles={}}return e.prototype.downloadFiles=function(){function e(e,t){return-1!==e.indexOf(t,e.length-t.length)}for(var t in this.glTFFiles){var r=document.createElement(\"a\");document.body.appendChild(r),r.setAttribute(\"type\",\"hidden\"),r.download=t;var n=this.glTFFiles[t],a=void 0;e(t,\".glb\")?a={type:\"model/gltf-binary\"}:e(t,\".bin\")?a={type:\"application/octet-stream\"}:e(t,\".gltf\")?a={type:\"model/gltf+json\"}:e(t,\".jpeg\")?a={type:\"image/jpeg\"}:e(t,\".png\")&&(a={type:\"image/png\"}),r.href=window.URL.createObjectURL(new Blob([n],a)),r.click()}},e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__IGLTFExporterExtension\",(function(){return n}));var n=0},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"OBJExport\",(function(){return a}));var n=r(0),a=function(){function e(){}return e.OBJ=function(e,t,r,a){var o=[],i=1;t&&(r||(r=\"mat\"),o.push(\"mtllib \"+r+\".mtl\"));for(var s=0;s<e.length;s++){o.push(\"g object\"+s),o.push(\"o object_\"+s);var u=null;if(a){var l=n.Matrix.Translation(e[s].position.x,e[s].position.y,e[s].position.z);u=n.Matrix.Translation(-e[s].position.x,-e[s].position.y,-e[s].position.z),e[s].bakeTransformIntoVertices(l)}if(t){var c=e[s].material;c&&o.push(\"usemtl \"+c.id)}var f=e[s].geometry;if(f){var h=f.getVerticesData(\"position\"),p=f.getVerticesData(\"normal\"),d=f.getVerticesData(\"uv\"),m=f.getIndices(),g=0;if(h&&m){for(var _=0;_<h.length;_+=3)e[0].getScene().useRightHandedSystem?o.push(\"v \"+h[_]+\" \"+h[_+1]+\" \"+h[_+2]):o.push(\"v \"+h[_]+\" \"+h[_+1]+\" \"+-h[_+2]),g++;if(null!=p)for(_=0;_<p.length;_+=3)o.push(\"vn \"+p[_]+\" \"+p[_+1]+\" \"+p[_+2]);if(null!=d)for(_=0;_<d.length;_+=2)o.push(\"vt \"+d[_]+\" \"+d[_+1]);for(_=0;_<m.length;_+=3){var x=[String(m[_+2]+i),String(m[_+1]+i),String(m[_]+i)],y=[\"\",\"\",\"\"],T=x,v=null!=d?x:y,b=null!=p?x:y;o.push(\"f \"+T[0]+\"/\"+v[0]+\"/\"+b[0]+\" \"+T[1]+\"/\"+v[1]+\"/\"+b[1]+\" \"+T[2]+\"/\"+v[2]+\"/\"+b[2])}a&&u&&e[s].bakeTransformIntoVertices(u),i+=g}else n.Tools.Warn(\"There are no position vertices or indices on the mesh!\")}else n.Tools.Warn(\"No geometry is present on the mesh\")}return o.join(\"\\n\")},e.MTL=function(e){var t=[],r=e.material;t.push(\"newmtl mat1\"),t.push(\"  Ns \"+r.specularPower.toFixed(4)),t.push(\"  Ni 1.5000\"),t.push(\"  d \"+r.alpha.toFixed(4)),t.push(\"  Tr 0.0000\"),t.push(\"  Tf 1.0000 1.0000 1.0000\"),t.push(\"  illum 2\"),t.push(\"  Ka \"+r.ambientColor.r.toFixed(4)+\" \"+r.ambientColor.g.toFixed(4)+\" \"+r.ambientColor.b.toFixed(4)),t.push(\"  Kd \"+r.diffuseColor.r.toFixed(4)+\" \"+r.diffuseColor.g.toFixed(4)+\" \"+r.diffuseColor.b.toFixed(4)),t.push(\"  Ks \"+r.specularColor.r.toFixed(4)+\" \"+r.specularColor.g.toFixed(4)+\" \"+r.specularColor.b.toFixed(4)),t.push(\"  Ke \"+r.emissiveColor.r.toFixed(4)+\" \"+r.emissiveColor.g.toFixed(4)+\" \"+r.emissiveColor.b.toFixed(4));return r.ambientTexture&&t.push(\"  map_Ka \"+r.ambientTexture.name),r.diffuseTexture&&t.push(\"  map_Kd \"+r.diffuseTexture.name),r.specularTexture&&t.push(\"  map_Ks \"+r.specularTexture.name),r.bumpTexture&&t.push(\"  map_bump -imfchan z \"+r.bumpTexture.name),r.opacityTexture&&t.push(\"  map_d \"+r.opacityTexture.name),t.join(\"\\n\")},e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"_GLTFAnimation\",(function(){return n.a})),r.d(t,\"GLTFData\",(function(){return a.GLTFData})),r.d(t,\"_Exporter\",(function(){return o.b})),r.d(t,\"_BinaryWriter\",(function(){return o.a})),r.d(t,\"__IGLTFExporterExtensionV2\",(function(){return i})),r.d(t,\"_GLTFMaterialExporter\",(function(){return s.a})),r.d(t,\"GLTF2Export\",(function(){return u.GLTF2Export})),r.d(t,\"_GLTFUtilities\",(function(){return l.a})),r.d(t,\"KHR_texture_transform\",(function(){return c.KHR_texture_transform})),r.d(t,\"KHR_lights_punctual\",(function(){return c.KHR_lights_punctual})),r.d(t,\"KHR_materials_sheen\",(function(){return c.KHR_materials_sheen})),r.d(t,\"KHR_materials_unlit\",(function(){return c.KHR_materials_unlit}));var n=r(7),a=r(3),o=r(2),i=0,s=r(10),u=r(8),l=r(1),c=r(9)},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return i}));var n,a=r(0),o=r(1);!function(e){e[e.INTANGENT=0]=\"INTANGENT\",e[e.OUTTANGENT=1]=\"OUTTANGENT\"}(n||(n={}));var i=function(){function e(){}return e._CreateNodeAnimation=function(t,r,n,o,i,s){var u=[],l=[],c=r.getKeys(),f=e.calculateMinMaxKeyFrames(c),h=e._DeduceInterpolation(c,n,i),p=f.max-f.min,d=h.interpolationType,m=h.shouldBakeAnimation;return m?e._CreateBakedAnimation(t,r,n,f.min,f.max,r.framePerSecond,s,u,l,f,o,i):\"LINEAR\"===d||\"STEP\"===d?e._CreateLinearOrStepAnimation(t,r,n,p,u,l,o,i):\"CUBICSPLINE\"===d?e._CreateCubicSplineAnimation(t,r,n,p,u,l,o,i):e._CreateBakedAnimation(t,r,n,f.min,f.max,r.framePerSecond,s,u,l,f,o,i),u.length&&l.length?{inputs:u,outputs:l,samplerInterpolation:d,inputsMin:m?f.min:a.Tools.FloatRound(f.min/r.framePerSecond),inputsMax:m?f.max:a.Tools.FloatRound(f.max/r.framePerSecond)}:null},e._DeduceAnimationInfo=function(e){var t=null,r=\"VEC3\",n=!1,o=e.targetProperty.split(\".\");switch(o[0]){case\"scaling\":t=\"scale\";break;case\"position\":t=\"translation\";break;case\"rotation\":r=\"VEC4\",t=\"rotation\";break;case\"rotationQuaternion\":r=\"VEC4\",n=!0,t=\"rotation\";break;case\"influence\":r=\"SCALAR\",t=\"weights\";break;default:a.Tools.Error(\"Unsupported animatable property \"+o[0])}return t?{animationChannelTargetPath:t,dataAccessorType:r,useQuaternion:n}:(a.Tools.Error(\"animation channel target path and data accessor type could be deduced\"),null)},e._CreateNodeAnimationFromNodeAnimations=function(t,r,n,o,i,s,u,l,c,f){var h;if(t instanceof a.TransformNode&&t.animations)for(var p=0,d=t.animations;p<d.length;p++){var m=d[p],g=e._DeduceAnimationInfo(m);g&&(h={name:m.name,samplers:[],channels:[]},e.AddAnimation(\"\"+m.name,m.hasRunningRuntimeAnimations?r:h,t,m,g.dataAccessorType,g.animationChannelTargetPath,o,s,u,l,c,g.useQuaternion,f),h.samplers.length&&h.channels.length&&n.push(h))}},e._CreateMorphTargetAnimationFromMorphTargetAnimations=function(t,r,n,o,i,s,u,l,c,f){var h;if(t instanceof a.Mesh){var p=t.morphTargetManager;if(p)for(var d=0;d<p.numTargets;++d)for(var m=0,g=p.getTarget(d).animations;m<g.length;m++){for(var _=g[m],x=new a.Animation(\"\"+_.name,\"influence\",_.framePerSecond,_.dataType,_.loopMode,_.enableBlending),y=[],T=_.getKeys(),v=0;v<T.length;++v)for(var b=T[v],A=0;A<p.numTargets;++A)A==d?y.push(b):y.push({frame:b.frame,value:0});x.setKeys(y);var F=e._DeduceAnimationInfo(x);F&&(h={name:x.name,samplers:[],channels:[]},e.AddAnimation(_.name,_.hasRunningRuntimeAnimations?r:h,t,x,F.dataAccessorType,F.animationChannelTargetPath,o,s,u,l,c,F.useQuaternion,f,p.numTargets),h.samplers.length&&h.channels.length&&n.push(h))}}},e._CreateNodeAndMorphAnimationFromAnimationGroups=function(t,r,n,o,i,s,u,l,c){var f,h;if(t.animationGroups)for(var p=function(o){var p=new Map,d=new Map,m=new Set,g=o.to-o.from;h={name:o.name,channels:[],samplers:[]};for(var _=function(r){var g=o.targetedAnimations[r],_=g.target,x=g.animation;if(_ instanceof a.TransformNode||1===_.length&&_[0]instanceof a.TransformNode){if(v=e._DeduceAnimationInfo(g.animation)){var y=_ instanceof a.TransformNode?_:_[0],T=l[y.uniqueId];e.AddAnimation(\"\"+x.name,h,y,x,v.dataAccessorType,v.animationChannelTargetPath,n,i,s,u,T,v.useQuaternion,c)}}else if(_ instanceof a.MorphTarget||1===_.length&&_[0]instanceof a.MorphTarget){var v;if(v=e._DeduceAnimationInfo(g.animation)){var b=_ instanceof a.MorphTarget?_:_[0];if(b){var A=t.morphTargetManagers.find((function(e){for(var t=0;t<e.numTargets;++t)if(e.getTarget(t)===b)return!0;return!1}));if(A){var F=t.meshes.find((function(e){return e.morphTargetManager===A}));F&&(p.has(F)||p.set(F,new Map),null===(f=p.get(F))||void 0===f||f.set(b,x),m.add(F),d.set(F,x))}}}}},x=0;x<o.targetedAnimations.length;++x)_(x);m.forEach((function(t){for(var r=t.morphTargetManager,l=null,f=[],m=d.get(t).getKeys(),_=m.length,x=0;x<_;++x)for(var y=0;y<r.numTargets;++y){var T=r.getTarget(y),v=p.get(t);if(v){var b=v.get(T);b?(l||(l=new a.Animation(o.name+\"_\"+t.name+\"_MorphWeightAnimation\",\"influence\",b.framePerSecond,a.Animation.ANIMATIONTYPE_FLOAT,b.loopMode,b.enableBlending)),f.push(b.getKeys()[x])):f.push({frame:o.from+g/_*x,value:T.influence,inTangent:m[0].inTangent?0:void 0,outTangent:m[0].outTangent?0:void 0})}}l.setKeys(f);var A=e._DeduceAnimationInfo(l);A&&e.AddAnimation(o.name+\"_\"+t.name+\"_MorphWeightAnimation\",h,t,l,A.dataAccessorType,A.animationChannelTargetPath,n,i,s,u,!1,A.useQuaternion,c,null==r?void 0:r.numTargets)})),h.channels.length&&h.samplers.length&&r.push(h)},d=0,m=t.animationGroups;d<m.length;d++){p(m[d])}},e.AddAnimation=function(t,r,n,a,i,s,u,l,c,f,h,p,d,m){var g,_,x,y,T,v,b,A=e._CreateNodeAnimation(n,a,s,h,p,d);if(A){if(m){for(var F=0,E=0,M=[];A.inputs.length>0;)E=A.inputs.shift(),F%m==0&&M.push(E),F++;A.inputs=M}var R=u[n.uniqueId],V=4*A.inputs.length;g=o.a._CreateBufferView(0,l.getByteOffset(),V,void 0,t+\"  keyframe data view\"),c.push(g),A.inputs.forEach((function(e){l.setFloat32(e)})),_=o.a._CreateAccessor(c.length-1,t+\"  keyframes\",\"SCALAR\",5126,A.inputs.length,null,[A.inputsMin],[A.inputsMax]),f.push(_),x=f.length-1,T=A.outputs.length,V=4*o.a._GetDataAccessorElementCount(i)*A.outputs.length,g=o.a._CreateBufferView(0,l.getByteOffset(),V,void 0,t+\"  data view\"),c.push(g),A.outputs.forEach((function(e){e.forEach((function(e){l.setFloat32(e)}))})),_=o.a._CreateAccessor(c.length-1,t+\"  data\",i,5126,T,null,null,null),f.push(_),y=f.length-1,v={interpolation:A.samplerInterpolation,input:x,output:y},r.samplers.push(v),b={sampler:r.samplers.length-1,target:{node:R,path:s}},r.channels.push(b)}},e._CreateBakedAnimation=function(t,r,n,o,i,s,u,l,c,f,h,p){var d,m,g=a.Quaternion.Identity(),_=null,x=null,y=null,T=null,v=null,b=null;f.min=a.Tools.FloatRound(o/s);for(var A=r.getKeys(),F=0,E=A.length;F<E;++F){if(b=null,y=A[F],F+1<E)if(T=A[F+1],y.value.equals&&y.value.equals(T.value)||y.value===T.value){if(0!==F)continue;b=y.frame}else b=T.frame;else{if(v=A[F-1],y.value.equals&&y.value.equals(v.value)||y.value===v.value)continue;b=i}if(b)for(var M=y.frame;M<=b;M+=u)if((m=a.Tools.FloatRound(M/s))!==_){_=m,x=m;var R={key:0,repeatCount:0,loopMode:r.loopMode};d=r._interpolate(M,R),e._SetInterpolatedValue(t,d,m,r,n,g,l,c,h,p)}}x&&(f.max=x)},e._ConvertFactorToVector3OrQuaternion=function(t,r,n,o,i,s,u){var l,c,f=null,h=e._GetBasePositionRotationOrScale(r,i,s,u);if(o===a.Animation.ANIMATIONTYPE_FLOAT)switch(c=(l=n.targetProperty.split(\".\"))?l[1]:\"\",f=u?a.Quaternion.FromArray(h).normalize():a.Vector3.FromArray(h),c){case\"x\":case\"y\":f[c]=s&&u&&\"scale\"!==i?-t:t;break;case\"z\":f[c]=s&&!u&&\"scale\"!==i?-t:t;break;case\"w\":f.w=t;break;default:a.Tools.Error('glTFAnimation: Unsupported component type \"'+c+'\" for scale animation!')}return f},e._SetInterpolatedValue=function(e,t,r,n,i,s,u,l,c,f){var h,p=n.dataType;u.push(r),\"number\"==typeof t&&e instanceof a.TransformNode&&(t=this._ConvertFactorToVector3OrQuaternion(t,e,n,p,i,c,f)),t&&(\"rotation\"===i?(f?s=t:(h=t,a.Quaternion.RotationYawPitchRollToRef(h.y,h.x,h.z,s)),c&&(o.a._GetRightHandedQuaternionFromRef(s),e.parent||(s=a.Quaternion.FromArray([0,1,0,0]).multiply(s))),l.push(s.asArray())):\"weights\"===i?l.push([t]):(h=t,c&&\"scale\"!==i&&(o.a._GetRightHandedPositionVector3FromRef(h),e.parent||(h.x*=-1,h.z*=-1)),l.push(h.asArray())))},e._CreateLinearOrStepAnimation=function(t,r,n,a,o,i,s,u){for(var l=0,c=r.getKeys();l<c.length;l++){var f=c[l];o.push(f.frame/r.framePerSecond),e._AddKeyframeValue(f,r,i,n,t,s,u)}},e._CreateCubicSplineAnimation=function(t,r,a,o,i,s,u,l){r.getKeys().forEach((function(c){i.push(c.frame/r.framePerSecond),e.AddSplineTangent(t,n.INTANGENT,s,a,\"CUBICSPLINE\",c,o,l,u),e._AddKeyframeValue(c,r,s,a,t,u,l),e.AddSplineTangent(t,n.OUTTANGENT,s,a,\"CUBICSPLINE\",c,o,l,u)}))},e._GetBasePositionRotationOrScale=function(e,t,r,n){var i;return\"rotation\"===t?n?e.rotationQuaternion?(i=e.rotationQuaternion.asArray(),r&&(o.a._GetRightHandedQuaternionArrayFromRef(i),e.parent||(i=a.Quaternion.FromArray([0,1,0,0]).multiply(a.Quaternion.FromArray(i)).asArray()))):i=a.Quaternion.Identity().asArray():(i=e.rotation.asArray(),o.a._GetRightHandedNormalArray3FromRef(i)):\"translation\"===t?(i=e.position.asArray(),r&&o.a._GetRightHandedPositionArray3FromRef(i)):i=e.scaling.asArray(),i},e._AddKeyframeValue=function(e,t,r,n,i,s,u){var l,c,f=t.dataType;if(f===a.Animation.ANIMATIONTYPE_VECTOR3){if(l=e.value.asArray(),\"rotation\"===n){var h=a.Vector3.FromArray(l),p=a.Quaternion.RotationYawPitchRoll(h.y,h.x,h.z);s&&(o.a._GetRightHandedQuaternionFromRef(p),i.parent||(p=a.Quaternion.FromArray([0,1,0,0]).multiply(p))),l=p.asArray()}else\"translation\"===n&&s&&(o.a._GetRightHandedNormalArray3FromRef(l),i.parent||(l[0]*=-1,l[2]*=-1));r.push(l)}else if(f===a.Animation.ANIMATIONTYPE_FLOAT){if(\"weights\"===n)r.push([e.value]);else if(c=this._ConvertFactorToVector3OrQuaternion(e.value,i,t,f,n,s,u)){if(\"rotation\"===n){var d=u?c:a.Quaternion.RotationYawPitchRoll(c.y,c.x,c.z).normalize();s&&(o.a._GetRightHandedQuaternionFromRef(d),i.parent||(d=a.Quaternion.FromArray([0,1,0,0]).multiply(d))),r.push(d.asArray())}else\"translation\"===n&&s&&(o.a._GetRightHandedNormalVector3FromRef(c),i.parent||(c.x*=-1,c.z*=-1));r.push(c.asArray())}}else f===a.Animation.ANIMATIONTYPE_QUATERNION?(l=e.value.normalize().asArray(),s&&(o.a._GetRightHandedQuaternionArrayFromRef(l),i.parent||(l=a.Quaternion.FromArray([0,1,0,0]).multiply(a.Quaternion.FromArray(l)).asArray())),r.push(l)):a.Tools.Error(\"glTFAnimation: Unsupported key frame values for animation!\")},e._DeduceInterpolation=function(e,t,r){var n,o,i=!1;if(\"rotation\"===t&&!r)return{interpolationType:\"LINEAR\",shouldBakeAnimation:!0};for(var s=0,u=e.length;s<u;++s)if((o=e[s]).inTangent||o.outTangent)if(n){if(\"CUBICSPLINE\"!==n){n=\"LINEAR\",i=!0;break}}else n=\"CUBICSPLINE\";else if(n){if(\"CUBICSPLINE\"===n||o.interpolation&&o.interpolation===a.AnimationKeyInterpolation.STEP&&\"STEP\"!==n){n=\"LINEAR\",i=!0;break}}else n=o.interpolation&&o.interpolation===a.AnimationKeyInterpolation.STEP?\"STEP\":\"LINEAR\";return n||(n=\"LINEAR\"),{interpolationType:n,shouldBakeAnimation:i}},e.AddSplineTangent=function(e,t,r,i,s,u,l,c,f){var h,p=t===n.INTANGENT?u.inTangent:u.outTangent;if(\"CUBICSPLINE\"===s){if(\"rotation\"===i)if(p){if(c)h=p.asArray();else{var d=p;h=a.Quaternion.RotationYawPitchRoll(d.y,d.x,d.z).asArray()}f&&(o.a._GetRightHandedQuaternionArrayFromRef(h),e.parent||(h=a.Quaternion.FromArray([0,1,0,0]).multiply(a.Quaternion.FromArray(h)).asArray()))}else h=[0,0,0,0];else\"weights\"===i?h=p?[p]:[0]:p?(h=p.asArray(),f&&\"translation\"===i&&(o.a._GetRightHandedPositionArray3FromRef(h),e.parent||(h[0]*=-1,h[2]*=-1))):h=[0,0,0];r.push(h)}},e.calculateMinMaxKeyFrames=function(e){var t=1/0,r=-1/0;return e.forEach((function(e){t=Math.min(t,e.frame),r=Math.max(r,e.frame)})),{min:t,max:r}},e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"GLTF2Export\",(function(){return a}));var n=r(2),a=function(){function e(){}return e.GLTFAsync=function(e,t,r){return e.whenReadyAsync().then((function(){var a=t.replace(/\\.[^/.]+$/,\"\");return new n.b(e,r)._generateGLTFAsync(a)}))},e._PreExportAsync=function(e,t){return Promise.resolve().then((function(){return t&&t.exportWithoutWaitingForScene?Promise.resolve():e.whenReadyAsync()}))},e._PostExportAsync=function(e,t,r){return Promise.resolve().then((function(){return r&&r.exportWithoutWaitingForScene,t}))},e.GLBAsync=function(e,t,r){var a=this;return this._PreExportAsync(e,r).then((function(){var o=t.replace(/\\.[^/.]+$/,\"\");return new n.b(e,r)._generateGLBAsync(o).then((function(t){return a._PostExportAsync(e,t,r)}))}))},e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"KHR_texture_transform\",(function(){return s})),r.d(t,\"KHR_lights_punctual\",(function(){return l})),r.d(t,\"KHR_materials_sheen\",(function(){return c})),r.d(t,\"KHR_materials_unlit\",(function(){return f}));var n=r(0),a=r(2),o=\"precision highp float;\\nvarying vec2 vUV;\\nuniform sampler2D textureSampler;\\nuniform mat4 textureTransformMat;\\nvoid main(void) {\\nvec2 uvTransformed=(textureTransformMat*vec4(vUV.xy,1,1)).xy;\\ngl_FragColor=texture2D(textureSampler,uvTransformed);\\n}\";n.Effect.ShadersStore.textureTransformPixelShader=o;var i=\"KHR_texture_transform\",s=function(){function e(e){this._recordedTextures=[],this.name=i,this.enabled=!0,this.required=!1,this._wasUsed=!1}return e.prototype.dispose=function(){for(var e=0,t=this._recordedTextures;e<t.length;e++){t[e].dispose()}},Object.defineProperty(e.prototype,\"wasUsed\",{get:function(){return this._wasUsed},enumerable:!1,configurable:!0}),e.prototype.postExportTexture=function(e,t,r){if(r&&(0===r.uAng&&0===r.wAng&&0===r.vAng||0===r.uRotationCenter&&0===r.vRotationCenter)){var n={},a=!1;if(0===r.uOffset&&0===r.vOffset||(n.offset=[r.uOffset,r.vOffset],a=!0),1===r.uScale&&1===r.vScale||(n.scale=[r.uScale,r.vScale],a=!0),0!==r.wAng&&(n.rotation=r.wAng,a=!0),0!==r.coordinatesIndex&&(n.texCoord=r.coordinatesIndex,a=!0),!a)return;this._wasUsed=!0,t.extensions||(t.extensions={}),t.extensions[i]=n}},e.prototype.preExportTextureAsync=function(e,t,r){var n=this;return new Promise((function(r,a){var o=t.getScene();if(o){var i=!1;if(0===t.uAng&&0===t.wAng&&0===t.vAng||0===t.uRotationCenter&&0===t.vRotationCenter||(i=!0),i)return n._textureTransformTextureAsync(t,o).then((function(e){r(e)})).catch((function(e){a(e)}));r(t)}else a(e+': \"scene\" is not defined for Babylon texture '+t.name+\"!\")}))},e.prototype._textureTransformTextureAsync=function(e,t){var r=this;return new Promise((function(a){var o=new n.ProceduralTexture(\"\"+e.name,e.getSize(),\"textureTransform\",t);o||(n.Tools.Log(\"Cannot create procedural texture for \"+e.name+\"!\"),a(e)),o.reservedDataStore={hidden:!0,source:e},r._recordedTextures.push(o),o.coordinatesIndex=e.coordinatesIndex,o.setTexture(\"textureSampler\",e),o.setMatrix(\"textureTransformMat\",e.getTextureMatrix()),o.isReady()?(o.render(),a(o)):o.getEffect().executeWhenCompiled((function(){o.render(),a(o)}))}))},e}();a.b.RegisterExtension(i,(function(e){return new s(e)}));var u=r(1),l=function(){function e(e){this.name=\"KHR_lights_punctual\",this.enabled=!0,this.required=!1,this._exporter=e}return e.prototype.dispose=function(){this._lights=null},Object.defineProperty(e.prototype,\"wasUsed\",{get:function(){return!!this._lights},enumerable:!1,configurable:!0}),e.prototype.onExporting=function(){this._exporter._glTF.extensions.KHR_lights_punctual=this._lights},e.prototype.postExportNodeAsync=function(e,t,r,a){var o=this;return new Promise((function(i,s){if(t&&r instanceof n.ShadowLight){var l=r,c=void 0,f=l.getTypeID()==n.Light.LIGHTTYPEID_POINTLIGHT?\"point\":l.getTypeID()==n.Light.LIGHTTYPEID_DIRECTIONALLIGHT?\"directional\":l.getTypeID()==n.Light.LIGHTTYPEID_SPOTLIGHT?\"spot\":null;if(null==f)n.Logger.Warn(e+\": Light \"+l.name+\" is not supported in KHR_lights_punctual\");else{var h=l.position.clone(),p=o._exporter._convertToRightHandedSystemMap[r.uniqueId];if(h.equals(n.Vector3.Zero())||(p&&u.a._GetRightHandedPositionVector3FromRef(h),t.translation=h.asArray()),\"point\"!==f){var d=l.direction,m=-Math.atan2(d.z*(o._exporter._babylonScene.useRightHandedSystem?-1:1),d.x)+Math.PI/2,g=Math.sqrt(d.x*d.x+d.z*d.z),_=-Math.atan2(d.y,g),x=n.Quaternion.RotationYawPitchRoll(m,_,0);p&&u.a._GetRightHandedQuaternionFromRef(x),x.equals(n.Quaternion.Identity())||(t.rotation=x.asArray())}if(l.falloffType!==n.Light.FALLOFF_GLTF&&n.Logger.Warn(e+\": Light falloff for \"+l.name+\" does not match the KHR_lights_punctual specification!\"),c={type:f},l.diffuse.equals(n.Color3.White())||(c.color=l.diffuse.asArray()),1!==l.intensity&&(c.intensity=l.intensity),l.range!==Number.MAX_VALUE&&(c.range=l.range),\"spot\"===f){var y=l;y.angle!==Math.PI/2&&(null==c.spot&&(c.spot={}),c.spot.outerConeAngle=y.angle/2),0!==y.innerAngle&&(null==c.spot&&(c.spot={}),c.spot.innerConeAngle=y.innerAngle/2)}null==o._lights&&(o._lights={lights:[]}),o._lights.lights.push(c);var T={light:o._lights.lights.length-1},v=r.parent;if(v&&1==v.getChildren().length){var b=o._exporter._nodes[a[v.uniqueId]];if(b){var A=n.TmpVectors.Matrix[0],F=n.TmpVectors.Matrix[1],E=b.translation?new n.Vector3(b.translation[0],b.translation[1],b.translation[2]):n.Vector3.Zero(),M=b.rotation?new n.Quaternion(b.rotation[0],b.rotation[1],b.rotation[2],b.rotation[3]):n.Quaternion.Identity(),R=b.scale?new n.Vector3(b.scale[0],b.scale[1],b.scale[2]):n.Vector3.One();n.Matrix.ComposeToRef(R,M,E,A),A.invertToRef(F);var V=n.TmpVectors.Matrix[2],w=t.translation?new n.Vector3(t.translation[0],t.translation[1],t.translation[2]):n.Vector3.Zero();l instanceof n.DirectionalLight&&w.subtractInPlace(o._exporter._babylonScene.useRightHandedSystem?l.direction:u.a._GetRightHandedPositionVector3(l.direction));var S=o._exporter._babylonScene.useRightHandedSystem?n.Quaternion.Identity():new n.Quaternion(0,1,0,0);t.rotation&&S.multiplyInPlace(new n.Quaternion(t.rotation[0],t.rotation[1],t.rotation[2],t.rotation[3]));var C=t.scale?new n.Vector3(t.scale[0],t.scale[1],t.scale[2]):n.Vector3.One();n.Matrix.ComposeToRef(C,S,w,V),V.multiplyToRef(F,V);var B=n.TmpVectors.Vector3[0],I=n.TmpVectors.Quaternion[0],P=n.TmpVectors.Vector3[1];return V.decompose(B,I,P),b.scale=B.asArray(),b.rotation=I.asArray(),b.translation=P.asArray(),null==b.extensions&&(b.extensions={}),b.extensions.KHR_lights_punctual=T,void i(void 0)}}null==t.extensions&&(t.extensions={}),t.extensions.KHR_lights_punctual=T}}i(t)}))},e}();a.b.RegisterExtension(\"KHR_lights_punctual\",(function(e){return new l(e)}));var c=function(){function e(e){this.name=\"KHR_materials_sheen\",this.enabled=!0,this.required=!1,this._textureInfos=[],this._exportedTextures=[],this._wasUsed=!1}return e.prototype.dispose=function(){this._textureInfos=[],this._exportedTextures=[]},Object.defineProperty(e.prototype,\"wasUsed\",{get:function(){return this._wasUsed},enumerable:!1,configurable:!0}),e.prototype._getTextureIndex=function(e){var t=this._exportedTextures.indexOf(e);return-1===t&&e.reservedDataStore&&(t=this._exportedTextures.indexOf(e.reservedDataStore.source)),t},e.prototype.postExportTexture=function(e,t,r){var n=this._getTextureIndex(r);n>-1&&(this._textureInfos[n]=t)},e.prototype.postExportMaterialAdditionalTextures=function(e,t,r){return r instanceof n.PBRMaterial&&r.sheen.isEnabled&&r.sheen.texture?(this._exportedTextures.push(r.sheen.texture),[r.sheen.texture]):[]},e.prototype.postExportMaterialAsync=function(e,t,r){var a=this;return new Promise((function(e,o){var i;if(r instanceof n.PBRMaterial){if(!r.sheen.isEnabled)return void e(t);a._wasUsed=!0,null==t.extensions&&(t.extensions={});var s={sheenColorFactor:r.sheen.color.asArray(),sheenRoughnessFactor:null!==(i=r.sheen.roughness)&&void 0!==i?i:0};if(r.sheen.texture)(u=a._getTextureIndex(r.sheen.texture))>-1&&(s.sheenColorTexture=a._textureInfos[u]);if(r.sheen.textureRoughness&&!r.sheen.useRoughnessFromMainTexture)(u=a._getTextureIndex(r.sheen.textureRoughness))>-1&&(s.sheenRoughnessTexture=a._textureInfos[u]);else if(r.sheen.texture&&r.sheen.useRoughnessFromMainTexture){var u;(u=a._getTextureIndex(r.sheen.texture))>-1&&(s.sheenRoughnessTexture=a._textureInfos[u])}t.extensions.KHR_materials_sheen=s}e(t)}))},e}();a.b.RegisterExtension(\"KHR_materials_sheen\",(function(e){return new c(e)}));var f=function(){function e(e){this.name=\"KHR_materials_unlit\",this.enabled=!0,this.required=!1,this._wasUsed=!1}return Object.defineProperty(e.prototype,\"wasUsed\",{get:function(){return this._wasUsed},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){},e.prototype.postExportMaterialAsync=function(e,t,r){var a=this;return new Promise((function(e,o){var i=!1;r instanceof n.PBRMaterial?i=r.unlit:r instanceof n.StandardMaterial&&(i=r.disableLighting),i&&(a._wasUsed=!0,null==t.extensions&&(t.extensions={}),t.extensions.KHR_materials_unlit={}),e(t)}))},e}();a.b.RegisterExtension(\"KHR_materials_unlit\",(function(e){return new f(e)}))},function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return a}));var n=r(0),a=function(){function e(e){this._textureMap={},this._textureMap={},this._exporter=e}return e.FuzzyEquals=function(e,t,r){return n.Scalar.WithinEpsilon(e.r,t.r,r)&&n.Scalar.WithinEpsilon(e.g,t.g,r)&&n.Scalar.WithinEpsilon(e.b,t.b,r)},e.prototype._convertMaterialsToGLTFAsync=function(e,t,r){for(var a=[],o=0,i=e;o<i.length;o++){var s=i[o];s instanceof n.StandardMaterial?a.push(this._convertStandardMaterialAsync(s,t,r)):s instanceof n.PBRMetallicRoughnessMaterial?a.push(this._convertPBRMetallicRoughnessMaterialAsync(s,t,r)):s instanceof n.PBRMaterial?a.push(this._convertPBRMaterialAsync(s,t,r)):n.Tools.Warn(\"Unsupported material type: \"+s.name)}return Promise.all(a).then((function(){}))},e.prototype._stripTexturesFromMaterial=function(e){var t={};if(e){t.name=e.name,t.doubleSided=e.doubleSided,t.alphaMode=e.alphaMode,t.alphaCutoff=e.alphaCutoff,t.emissiveFactor=e.emissiveFactor;var r=e.pbrMetallicRoughness;r&&(t.pbrMetallicRoughness={},t.pbrMetallicRoughness.baseColorFactor=r.baseColorFactor,t.pbrMetallicRoughness.metallicFactor=r.metallicFactor,t.pbrMetallicRoughness.roughnessFactor=r.roughnessFactor)}return t},e.prototype._hasTexturesPresent=function(e){if(e.emissiveTexture||e.normalTexture||e.occlusionTexture)return!0;var t=e.pbrMetallicRoughness;return!(!t||!t.baseColorTexture&&!t.metallicRoughnessTexture)},e.prototype._convertToGLTFPBRMetallicRoughness=function(t){var r=new n.Vector2(0,1),a=new n.Vector2(0,.1),o=new n.Vector2(0,.1),i=new n.Vector2(1300,.1);var s=t.diffuseColor.toLinearSpace().scale(.5),u=t.alpha,l=function(e){return function(e,t,r,n,a){return(1-e)*(1-e)*(1-e)*t+3*(1-e)*(1-e)*e*r+3*(1-e)*e*e*n+e*e*e*a}(Math.pow(e/i.x,.333333),r.y,a.y,o.y,i.y)}(n.Scalar.Clamp(t.specularPower,0,e._MaxSpecularPower));return{baseColorFactor:[s.r,s.g,s.b,u],metallicFactor:0,roughnessFactor:l}},e._SolveMetallic=function(e,t,r){if(t<this._DielectricSpecular.r)return this._DielectricSpecular,0;var a=this._DielectricSpecular.r,o=e*r/(1-this._DielectricSpecular.r)+t-2*this._DielectricSpecular.r,i=o*o-4*a*(this._DielectricSpecular.r-t);return n.Scalar.Clamp((-o+Math.sqrt(i))/(2*a),0,1)},e._SetAlphaMode=function(e,t){t.needAlphaBlending()?e.alphaMode=\"BLEND\":t.needAlphaTesting()&&(e.alphaMode=\"MASK\",e.alphaCutoff=t.alphaCutOff)},e.prototype._convertStandardMaterialAsync=function(t,r,a){var o=this._exporter._materialMap,i=this._exporter._materials,s=[],u=this._convertToGLTFPBRMetallicRoughness(t),l={name:t.name};return null==t.backFaceCulling||t.backFaceCulling||(t.twoSidedLighting||n.Tools.Warn(t.name+\": Back-face culling enabled and two-sided lighting disabled is not supported in glTF.\"),l.doubleSided=!0),a&&(t.diffuseTexture&&s.push(this._exportTextureAsync(t.diffuseTexture,r).then((function(e){e&&(u.baseColorTexture=e)}))),t.bumpTexture&&s.push(this._exportTextureAsync(t.bumpTexture,r).then((function(e){e&&(l.normalTexture=e,null!=t.bumpTexture&&1!==t.bumpTexture.level&&(l.normalTexture.scale=t.bumpTexture.level))}))),t.emissiveTexture&&(l.emissiveFactor=[1,1,1],s.push(this._exportTextureAsync(t.emissiveTexture,r).then((function(e){e&&(l.emissiveTexture=e)})))),t.ambientTexture&&s.push(this._exportTextureAsync(t.ambientTexture,r).then((function(e){if(e){var t={index:e.index};l.occlusionTexture=t,t.strength=1}})))),(t.alpha<1||t.opacityTexture)&&(t.alphaMode===n.Constants.ALPHA_COMBINE?l.alphaMode=\"BLEND\":n.Tools.Warn(t.name+\": glTF 2.0 does not support alpha mode: \"+t.alphaMode.toString())),t.emissiveColor&&!e.FuzzyEquals(t.emissiveColor,n.Color3.Black(),e._Epsilon)&&(l.emissiveFactor=t.emissiveColor.asArray()),l.pbrMetallicRoughness=u,e._SetAlphaMode(l,t),i.push(l),o[t.uniqueId]=i.length-1,this._finishMaterial(s,l,t,r)},e.prototype._finishMaterial=function(e,t,r,n){var a=this;return Promise.all(e).then((function(){for(var e=null,o=0,i=a._exporter._extensionsPostExportMaterialAdditionalTextures(\"exportMaterial\",t,r);o<i.length;o++){var s=i[o];e||(e=[]),e.push(a._exportTextureAsync(s,n))}return e||(e=[Promise.resolve(null)]),Promise.all(e).then((function(){var e=a._exporter._extensionsPostExportMaterialAsync(\"exportMaterial\",t,r);return e?e.then((function(){return t})):t}))}))},e.prototype._convertPBRMetallicRoughnessMaterialAsync=function(t,r,a){var o=this._exporter._materialMap,i=this._exporter._materials,s=[],u={};t.baseColor&&(u.baseColorFactor=[t.baseColor.r,t.baseColor.g,t.baseColor.b,t.alpha]),null!=t.metallic&&1!==t.metallic&&(u.metallicFactor=t.metallic),null!=t.roughness&&1!==t.roughness&&(u.roughnessFactor=t.roughness);var l={name:t.name};return t.doubleSided&&(l.doubleSided=t.doubleSided),e._SetAlphaMode(l,t),a&&(null!=t.baseTexture&&s.push(this._exportTextureAsync(t.baseTexture,r).then((function(e){e&&(u.baseColorTexture=e)}))),t.normalTexture&&s.push(this._exportTextureAsync(t.normalTexture,r).then((function(e){e&&(l.normalTexture=e,1!==t.normalTexture.level&&(l.normalTexture.scale=t.normalTexture.level))}))),t.occlusionTexture&&s.push(this._exportTextureAsync(t.occlusionTexture,r).then((function(e){e&&(l.occlusionTexture=e,null!=t.occlusionStrength&&(l.occlusionTexture.strength=t.occlusionStrength))}))),t.emissiveTexture&&s.push(this._exportTextureAsync(t.emissiveTexture,r).then((function(e){e&&(l.emissiveTexture=e)})))),e.FuzzyEquals(t.emissiveColor,n.Color3.Black(),e._Epsilon)&&(l.emissiveFactor=t.emissiveColor.asArray()),l.pbrMetallicRoughness=u,i.push(l),o[t.uniqueId]=i.length-1,this._finishMaterial(s,l,t,r)},e.prototype._createBase64FromCanvasAsync=function(e,t,r,a){var o=this;return new Promise((function(i,s){var u,l=n.Constants.TEXTURETYPE_UNSIGNED_INT,c=o._exporter._getLocalEngine();u=new n.Scene(c);var f=c.createRawTexture(e,t,r,n.Constants.TEXTUREFORMAT_RGBA,!1,!0,n.Texture.NEAREST_SAMPLINGMODE,null,l),h=new n.PostProcess(\"pass\",\"pass\",null,null,1,null,n.Texture.NEAREST_SAMPLINGMODE,c,!1,void 0,n.Constants.TEXTURETYPE_UNSIGNED_INT,void 0,null,!1);h.getEffect().executeWhenCompiled((function(){var e,o;h.onApply=function(e){e._bindTexture(\"textureSampler\",f)},c.setSize(t,r),u.postProcessManager.directRender([h],null),h.dispose(),f.dispose();var l=c.getRenderingCanvas(),p=document.createElement(\"canvas\");if(p.width=null!==(e=null==l?void 0:l.width)&&void 0!==e?e:0,p.height=null!==(o=null==l?void 0:l.height)&&void 0!==o?o:0,p.getContext(\"2d\").drawImage(l,0,0),p)if(p.toBlob)n.Tools.ToBlob(p,(function(e){if(p=null,e){var t=new FileReader;t.onload=function(e){var t=e.target.result;u.dispose(),i(t)},t.readAsDataURL(e)}else s(\"gltfMaterialExporter: Failed to get blob from image canvas!\")}),a);else{var d=p.toDataURL();i(d)}else s(\"Engine is missing a canvas!\")}))}))},e.prototype._createWhiteTexture=function(e,t,r){for(var a=new Uint8Array(e*t*4),o=0;o<a.length;o+=4)a[o]=a[o+1]=a[o+2]=a[o+3]=255;return n.RawTexture.CreateRGBATexture(a,e,t,r)},e.prototype._resizeTexturesToSameDimensions=function(e,t,r){var a,o,i=e?e.getSize():{width:0,height:0},s=t?t.getSize():{width:0,height:0};return i.width<s.width?(a=e&&e instanceof n.Texture?n.TextureTools.CreateResizedCopy(e,s.width,s.height,!0):this._createWhiteTexture(s.width,s.height,r),o=t):i.width>s.width?(o=t&&t instanceof n.Texture?n.TextureTools.CreateResizedCopy(t,i.width,i.height,!0):this._createWhiteTexture(i.width,i.height,r),a=e):(a=e,o=t),{texture1:a,texture2:o}},e.prototype._convertPixelArrayToFloat32=function(e){if(e instanceof Uint8Array){for(var t=e.length,r=new Float32Array(e.length),n=0;n<t;++n)r[n]=e[n]/255;return r}if(e instanceof Float32Array)return e;throw new Error(\"Unsupported pixel format!\")},e.prototype._convertSpecularGlossinessTexturesToMetallicRoughnessAsync=function(t,r,a,o){var i=[];if(!t&&!r)return Promise.reject(\"_ConvertSpecularGlosinessTexturesToMetallicRoughness: diffuse and specular glossiness textures are not defined!\");var s=t?t.getScene():r?r.getScene():null;if(s){var u=this._resizeTexturesToSameDimensions(t,r,s),l=u.texture1.getSize(),c=void 0,f=void 0,h=l.width,p=l.height,d=u.texture1.readPixels(),m=u.texture2.readPixels();if(!d)return Promise.reject(\"Failed to retrieve pixels from diffuse texture!\");if(c=this._convertPixelArrayToFloat32(d),!m)return Promise.reject(\"Failed to retrieve pixels from specular glossiness texture!\");for(var g=(f=this._convertPixelArrayToFloat32(m)).byteLength,_=new Uint8Array(g),x=new Uint8Array(g),y=n.Color3.Black(),T=0,v=0,b=0;b<p;++b)for(var A=0;A<h;++A){var F=4*(h*b+A),E={diffuseColor:new n.Color3(c[F],c[F+1],c[F+2]).toLinearSpace().multiply(a.diffuseColor),specularColor:new n.Color3(f[F],f[F+1],f[F+2]).toLinearSpace().multiply(a.specularColor),glossiness:f[F+3]*a.glossiness},M=this._convertSpecularGlossinessToMetallicRoughness(E);y.r=Math.max(y.r,M.baseColor.r),y.g=Math.max(y.g,M.baseColor.g),y.b=Math.max(y.b,M.baseColor.b),T=Math.max(T,M.metallic),v=Math.max(v,M.roughness),x[F]=255*M.baseColor.r,x[F+1]=255*M.baseColor.g,x[F+2]=255*M.baseColor.b,x[F+3]=u.texture1.hasAlpha?255*c[F+3]:255,_[F]=0,_[F+1]=255*M.roughness,_[F+2]=255*M.metallic,_[F+3]=255}var R={baseColor:y,metallic:T,roughness:v},V=!1,w=!1;for(b=0;b<p;++b)for(A=0;A<h;++A){var S=4*(h*b+A);x[S]/=R.baseColor.r>e._Epsilon?R.baseColor.r:1,x[S+1]/=R.baseColor.g>e._Epsilon?R.baseColor.g:1,x[S+2]/=R.baseColor.b>e._Epsilon?R.baseColor.b:1;var C=n.Color3.FromInts(x[S],x[S+1],x[S+2]).toGammaSpace();x[S]=255*C.r,x[S+1]=255*C.g,x[S+2]=255*C.b,e.FuzzyEquals(C,n.Color3.White(),e._Epsilon)||(w=!0),_[S+1]/=R.roughness>e._Epsilon?R.roughness:1,_[S+2]/=R.metallic>e._Epsilon?R.metallic:1;var B=n.Color3.FromInts(255,_[S+1],_[S+2]);e.FuzzyEquals(B,n.Color3.White(),e._Epsilon)||(V=!0)}if(V){var I=this._createBase64FromCanvasAsync(_,h,p,o).then((function(e){R.metallicRoughnessTextureBase64=e}));i.push(I)}if(w){I=this._createBase64FromCanvasAsync(x,h,p,o).then((function(e){R.baseColorTextureBase64=e}));i.push(I)}return Promise.all(i).then((function(){return R}))}return Promise.reject(\"_ConvertSpecularGlossinessTexturesToMetallicRoughness: Scene from textures is missing!\")},e.prototype._convertSpecularGlossinessToMetallicRoughness=function(t){var r=this._getPerceivedBrightness(t.diffuseColor),a=this._getPerceivedBrightness(t.specularColor),o=1-this._getMaxComponent(t.specularColor),i=e._SolveMetallic(r,a,o),s=t.diffuseColor.scale(o/(1-e._DielectricSpecular.r)/Math.max(1-i,e._Epsilon)),u=t.specularColor.subtract(e._DielectricSpecular.scale(1-i)).scale(1/Math.max(i,e._Epsilon)),l=n.Color3.Lerp(s,u,i*i);return{baseColor:l=l.clampToRef(0,1,l),metallic:i,roughness:1-t.glossiness}},e.prototype._getPerceivedBrightness=function(e){return e?Math.sqrt(.299*e.r*e.r+.587*e.g*e.g+.114*e.b*e.b):0},e.prototype._getMaxComponent=function(e){return e?Math.max(e.r,Math.max(e.g,e.b)):0},e.prototype._convertMetalRoughFactorsToMetallicRoughnessAsync=function(e,t,r,n){var a=[],o={baseColor:e.albedoColor,metallic:e.metallic,roughness:e.roughness};return n&&(e.albedoTexture&&a.push(this._exportTextureAsync(e.albedoTexture,t).then((function(e){e&&(r.baseColorTexture=e)}))),e.metallicTexture&&a.push(this._exportTextureAsync(e.metallicTexture,t).then((function(e){e&&(r.metallicRoughnessTexture=e)})))),Promise.all(a).then((function(){return o}))},e.prototype._getGLTFTextureSampler=function(e){var t=this._getGLTFTextureWrapModesSampler(e),r=e instanceof n.Texture?e.samplingMode:null;if(null!=r)switch(r){case n.Texture.LINEAR_LINEAR:t.magFilter=9729,t.minFilter=9729;break;case n.Texture.LINEAR_NEAREST:t.magFilter=9729,t.minFilter=9728;break;case n.Texture.NEAREST_LINEAR:t.magFilter=9728,t.minFilter=9729;break;case n.Texture.NEAREST_LINEAR_MIPLINEAR:t.magFilter=9728,t.minFilter=9987;break;case n.Texture.NEAREST_NEAREST:t.magFilter=9728,t.minFilter=9728;break;case n.Texture.NEAREST_LINEAR_MIPNEAREST:t.magFilter=9728,t.minFilter=9985;break;case n.Texture.LINEAR_NEAREST_MIPNEAREST:t.magFilter=9729,t.minFilter=9984;break;case n.Texture.LINEAR_NEAREST_MIPLINEAR:t.magFilter=9729,t.minFilter=9986;break;case n.Texture.NEAREST_NEAREST_MIPLINEAR:t.magFilter=9728,t.minFilter=9986;break;case n.Texture.LINEAR_LINEAR_MIPLINEAR:t.magFilter=9729,t.minFilter=9987;break;case n.Texture.LINEAR_LINEAR_MIPNEAREST:t.magFilter=9729,t.minFilter=9985;break;case n.Texture.NEAREST_NEAREST_MIPNEAREST:t.magFilter=9728,t.minFilter=9984}return t},e.prototype._getGLTFTextureWrapMode=function(e){switch(e){case n.Texture.WRAP_ADDRESSMODE:return 10497;case n.Texture.CLAMP_ADDRESSMODE:return 33071;case n.Texture.MIRROR_ADDRESSMODE:return 33648;default:return n.Tools.Error(\"Unsupported Texture Wrap Mode \"+e+\"!\"),10497}},e.prototype._getGLTFTextureWrapModesSampler=function(e){var t=this._getGLTFTextureWrapMode(e instanceof n.Texture?e.wrapU:n.Texture.WRAP_ADDRESSMODE),r=this._getGLTFTextureWrapMode(e instanceof n.Texture?e.wrapV:n.Texture.WRAP_ADDRESSMODE);return 10497===t&&10497===r?{}:{wrapS:t,wrapT:r}},e.prototype._convertSpecGlossFactorsToMetallicRoughnessAsync=function(e,t,r,a){var o=this;return Promise.resolve().then((function(){var i=o._exporter._samplers,s=o._exporter._textures,u={diffuseColor:e.albedoColor||n.Color3.White(),specularColor:e.reflectivityColor||n.Color3.White(),glossiness:e.microSurface||1},l=null,c=o._getGLTFTextureSampler(e.albedoTexture);return null!=c.magFilter&&null!=c.minFilter&&null!=c.wrapS&&null!=c.wrapT&&(i.push(c),l=i.length-1),e.reflectivityTexture&&!e.useMicroSurfaceFromReflectivityMapAlpha?Promise.reject(\"_ConvertPBRMaterial: Glossiness values not included in the reflectivity texture are currently not supported\"):(e.albedoTexture||e.reflectivityTexture)&&a?o._convertSpecularGlossinessTexturesToMetallicRoughnessAsync(e.albedoTexture,e.reflectivityTexture,u,t).then((function(n){if(n.baseColorTextureBase64){var a=o._getTextureInfoFromBase64(n.baseColorTextureBase64,\"bjsBaseColorTexture_\"+s.length+\".png\",t,e.albedoTexture?e.albedoTexture.coordinatesIndex:null,l);a&&(r.baseColorTexture=a)}if(n.metallicRoughnessTextureBase64){var i=o._getTextureInfoFromBase64(n.metallicRoughnessTextureBase64,\"bjsMetallicRoughnessTexture_\"+s.length+\".png\",t,e.reflectivityTexture?e.reflectivityTexture.coordinatesIndex:null,l);i&&(r.metallicRoughnessTexture=i)}return n})):o._convertSpecularGlossinessToMetallicRoughness(u)}))},e.prototype._convertPBRMaterialAsync=function(e,t,r){var n=this,a={},o={name:e.name};return e.isMetallicWorkflow()?(e.albedoColor&&(a.baseColorFactor=[e.albedoColor.r,e.albedoColor.g,e.albedoColor.b,e.alpha]),this._convertMetalRoughFactorsToMetallicRoughnessAsync(e,t,a,r).then((function(i){return n.setMetallicRoughnessPbrMaterial(i,e,o,a,t,r)}))):this._convertSpecGlossFactorsToMetallicRoughnessAsync(e,t,a,r).then((function(i){return n.setMetallicRoughnessPbrMaterial(i,e,o,a,t,r)}))},e.prototype.setMetallicRoughnessPbrMaterial=function(t,r,a,o,i,s){var u=this._exporter._materialMap,l=this._exporter._materials,c=[];if(t){if(e._SetAlphaMode(a,r),e.FuzzyEquals(t.baseColor,n.Color3.White(),e._Epsilon)&&r.alpha>=e._Epsilon||(o.baseColorFactor=[t.baseColor.r,t.baseColor.g,t.baseColor.b,r.alpha]),null!=t.metallic&&1!==t.metallic&&(o.metallicFactor=t.metallic),null!=t.roughness&&1!==t.roughness&&(o.roughnessFactor=t.roughness),null==r.backFaceCulling||r.backFaceCulling||(r.twoSidedLighting||n.Tools.Warn(r.name+\": Back-face culling enabled and two-sided lighting disabled is not supported in glTF.\"),a.doubleSided=!0),s){if(r.bumpTexture){var f=this._exportTextureAsync(r.bumpTexture,i).then((function(e){e&&(a.normalTexture=e,1!==r.bumpTexture.level&&(a.normalTexture.scale=r.bumpTexture.level))}));c.push(f)}if(r.ambientTexture){f=this._exportTextureAsync(r.ambientTexture,i).then((function(e){if(e){var t={index:e.index,texCoord:e.texCoord};a.occlusionTexture=t,r.ambientTextureStrength&&(t.strength=r.ambientTextureStrength)}}));c.push(f)}if(r.emissiveTexture){f=this._exportTextureAsync(r.emissiveTexture,i).then((function(e){e&&(a.emissiveTexture=e)}));c.push(f)}}e.FuzzyEquals(r.emissiveColor,n.Color3.Black(),e._Epsilon)||(a.emissiveFactor=r.emissiveColor.asArray()),a.pbrMetallicRoughness=o,l.push(a),u[r.uniqueId]=l.length-1}return this._finishMaterial(c,a,r,i)},e.prototype.getPixelsFromTexture=function(e){return e.textureType,n.Constants.TEXTURETYPE_UNSIGNED_INT,e.readPixels()},e.prototype._exportTextureAsync=function(e,t){var r=this,n=this._exporter._extensionsPreExportTextureAsync(\"exporter\",e,t);return n?n.then((function(n){return n?r._exportTextureInfoAsync(n,t):r._exportTextureInfoAsync(e,t)})):this._exportTextureInfoAsync(e,t)},e.prototype._exportTextureInfoAsync=function(e,t){var r=this;return Promise.resolve().then((function(){var n=e.uid;if(n in r._textureMap)return r._textureMap[n];var a=r.getPixelsFromTexture(e);if(!a)return null;for(var o=r._exporter._samplers,i=r._getGLTFTextureSampler(e),s=null,u=null,l=0;l<o.length;++l){var c=o[l];if(c.minFilter===i.minFilter&&c.magFilter===i.magFilter&&c.wrapS===i.wrapS&&c.wrapT===i.wrapT){u=l;break}}null==u?(o.push(i),s=o.length-1):s=u;var f=e.getSize();if(e.mimeType)switch(e.mimeType){case\"image/jpeg\":t=\"image/jpeg\";break;case\"image/png\":t=\"image/png\"}return r._createBase64FromCanvasAsync(a,f.width,f.height,t).then((function(a){var o=r._getTextureInfoFromBase64(a,e.name.replace(/\\.\\/|\\/|\\.\\\\|\\\\/g,\"_\"),t,e.coordinatesIndex,s);return o&&(r._textureMap[n]=o,r._exporter._extensionsPostExportTextures(\"linkTextureInfo\",o,e)),o}))}))},e.prototype._getTextureInfoFromBase64=function(e,t,r,a,o){var i=this._exporter._textures,s=this._exporter._images,u=this._exporter._imageData,l=null,c={source:s.length,name:t};null!=o&&(c.sampler=o);for(var f=atob(e.split(\",\")[1]),h=new ArrayBuffer(f.length),p=new Uint8Array(h),d=0,m=f.length;d<m;++d)p[d]=f.charCodeAt(d);var g={data:p,mimeType:r},_=\"image/jpeg\"===r?\".jpeg\":\".png\",x=t+_,y=x;if(x in u&&(x=t+\"_\"+n.Tools.RandomId()+_),u[x]=g,\"image/jpeg\"===r||\"image/png\"===r){var T={name:t,uri:x},v=null;for(d=0;d<s.length;++d)if(s[d].uri===y){v=d;break}null==v?(s.push(T),c.source=s.length-1):c.source=v,i.push(c),l={index:i.length-1},null!=a&&(l.texCoord=a)}else n.Tools.Error(\"Unsupported texture mime type \"+r);return l},e._DielectricSpecular=new n.Color3(.04,.04,.04),e._MaxSpecularPower=1024,e._Epsilon=1e-6,e}()},function(e,t){var r;r=function(){return this}();try{r=r||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(r=window)}e.exports=r},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"STLExport\",(function(){return a}));var n=r(0),a=function(){function e(){}return e.CreateSTL=function(e,t,r,a,o,i){void 0===t&&(t=!0),void 0===r&&(r=\"stlmesh\"),void 0===a&&(a=!1),void 0===o&&(o=!0),void 0===i&&(i=!1);var s,u=function(e,t,r){var a=[3*e[r],3*e[r+1],3*e[r+2]],o=[new n.Vector3(t[a[0]],t[a[0]+2],t[a[0]+1]),new n.Vector3(t[a[1]],t[a[1]+2],t[a[1]+1]),new n.Vector3(t[a[2]],t[a[2]+2],t[a[2]+1])],i=o[0].subtract(o[1]),s=o[2].subtract(o[1]);return{v:o,n:n.Vector3.Cross(s,i).normalize()}},l=function(e,t,r,n){return t=c(e,t,r.x,n),t=c(e,t,r.y,n),c(e,t,r.z,n)},c=function(e,t,r,n){return e.setFloat32(t,r,n),t+4},f=0,h=0;if(a){for(var p=0;p<e.length;p++){f+=(_=(m=e[p]).getIndices())?_.length/3:0}var d=new ArrayBuffer(84+50*f);h+=80,(s=new DataView(d)).setUint32(h,f,o),h+=4}else s=\"solid stlmesh\\r\\n\";for(p=0;p<e.length;p++){var m=e[p];i||m.bakeCurrentTransformIntoVertices();for(var g=m.getVerticesData(n.VertexBuffer.PositionKind)||[],_=m.getIndices()||[],x=0;x<_.length;x+=3){var y=u(_,g,x);a?(h=l(s,h,y.n,o),h=l(s,h,y.v[0],o),h=l(s,h,y.v[1],o),h=l(s,h,y.v[2],o),h+=2):(s+=\"facet normal \"+y.n.x+\" \"+y.n.y+\" \"+y.n.z+\"\\r\\n\",s+=\"\\touter loop\\r\\n\",s+=\"\\t\\tvertex \"+y.v[0].x+\" \"+y.v[0].y+\" \"+y.v[0].z+\"\\r\\n\",s+=\"\\t\\tvertex \"+y.v[1].x+\" \"+y.v[1].y+\" \"+y.v[1].z+\"\\r\\n\",s+=\"\\t\\tvertex \"+y.v[2].x+\" \"+y.v[2].y+\" \"+y.v[2].z+\"\\r\\n\",s+=\"\\tendloop\\r\\n\",s+=\"endfacet\\r\\n\")}}if(a||(s+=\"endsolid stlmesh\"),t){var T=document.createElement(\"a\"),v=new Blob([s],{type:\"application/octet-stream\"});T.href=window.URL.createObjectURL(v),T.download=r+\".stl\",T.click()}return s},e}()},function(e,t,r){\"use strict\";r.r(t),function(e){var n=r(4),a=r(3),o=r(8),i=r(9),s=r(6);r.d(t,\"__IGLTFExporterExtension\",(function(){return n.__IGLTFExporterExtension})),r.d(t,\"_GLTFAnimation\",(function(){return s._GLTFAnimation})),r.d(t,\"GLTFData\",(function(){return s.GLTFData})),r.d(t,\"_Exporter\",(function(){return s._Exporter})),r.d(t,\"_BinaryWriter\",(function(){return s._BinaryWriter})),r.d(t,\"__IGLTFExporterExtensionV2\",(function(){return s.__IGLTFExporterExtensionV2})),r.d(t,\"_GLTFMaterialExporter\",(function(){return s._GLTFMaterialExporter})),r.d(t,\"GLTF2Export\",(function(){return s.GLTF2Export})),r.d(t,\"_GLTFUtilities\",(function(){return s._GLTFUtilities})),r.d(t,\"KHR_texture_transform\",(function(){return s.KHR_texture_transform})),r.d(t,\"KHR_lights_punctual\",(function(){return s.KHR_lights_punctual})),r.d(t,\"KHR_materials_sheen\",(function(){return s.KHR_materials_sheen})),r.d(t,\"KHR_materials_unlit\",(function(){return s.KHR_materials_unlit}));var u=void 0!==e?e:\"undefined\"!=typeof window?window:void 0;if(void 0!==u){u.BABYLON=u.BABYLON||{};var l=u.BABYLON;l.GLTF2=l.GLTF2||{},l.GLTF2.Exporter=l.GLTF2.Exporter||{},l.GLTF2.Exporter.Extensions=l.GLTF2.Exporter.Extensions||{};var c=[];for(var f in n)l[f]=n[f],c.push(f);for(var f in a)l[f]=a[f],c.push(f);for(var f in o)l[f]=o[f],c.push(f);for(var f in i)l.GLTF2.Exporter.Extensions[f]=i[f],c.push(f);for(var f in s)c.indexOf(f)>-1||(l.GLTF2.Exporter[f]=s[f])}}.call(this,r(11))},function(e,t,r){\"use strict\";r.r(t),function(e){var n=r(5);r.d(t,\"OBJExport\",(function(){return n.OBJExport}));var a=void 0!==e?e:\"undefined\"!=typeof window?window:void 0;if(void 0!==a)for(var o in n)a.BABYLON[o]=n[o]}.call(this,r(11))},function(e,t,r){\"use strict\";(function(e){var n=r(12);r.d(t,\"a\",(function(){return n.STLExport}));var a=void 0!==e?e:\"undefined\"!=typeof window?window:void 0;if(void 0!==a)for(var o in n)a.BABYLON[o]=n[o]}).call(this,r(11))},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__IGLTFExporterExtension\",(function(){return n.__IGLTFExporterExtension})),r.d(t,\"_GLTFAnimation\",(function(){return n._GLTFAnimation})),r.d(t,\"GLTFData\",(function(){return n.GLTFData})),r.d(t,\"_Exporter\",(function(){return n._Exporter})),r.d(t,\"_BinaryWriter\",(function(){return n._BinaryWriter})),r.d(t,\"__IGLTFExporterExtensionV2\",(function(){return n.__IGLTFExporterExtensionV2})),r.d(t,\"_GLTFMaterialExporter\",(function(){return n._GLTFMaterialExporter})),r.d(t,\"GLTF2Export\",(function(){return n.GLTF2Export})),r.d(t,\"_GLTFUtilities\",(function(){return n._GLTFUtilities})),r.d(t,\"KHR_texture_transform\",(function(){return n.KHR_texture_transform})),r.d(t,\"KHR_lights_punctual\",(function(){return n.KHR_lights_punctual})),r.d(t,\"KHR_materials_sheen\",(function(){return n.KHR_materials_sheen})),r.d(t,\"KHR_materials_unlit\",(function(){return n.KHR_materials_unlit})),r.d(t,\"OBJExport\",(function(){return a.OBJExport})),r.d(t,\"STLExport\",(function(){return o.a}));r(5),r(4),r(6),r(12);var n=r(13),a=r(14),o=r(15)}])}));"]},"metadata":{},"sourceType":"script"}